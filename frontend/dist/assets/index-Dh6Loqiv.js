import{r as g,a as wn,b as kn,c as se,g as Cn}from"./vendor-BD2DzXP7.js";import{u as Pe,L as q,a as ls,N as Es,b as er,B as Sn,R as En,c as ge}from"./router-BtL7IVML.js";import{B as Ms,C as tr,T as cs,I as Pn,A as ha,a as Ce,M as re,H as be,S as at,P as Te,b as Fe,U as jt,c as Ls,L as On,X as Ge,d as Rn,e as ra,f as na,F as An,g as Fn,h as Dn,i as Tn,G as _n,j as Mn,k as Nt,l as sr,m as ze,n as wt,o as Je,p as ar,q as ce,r as Wt,E as Is,s as Vt,t as rt,u as Ln,v as In,w as Gt,x as vt,y as rr,z as nr,D as xa,J as ct,K as qn,N as It,O as $n,Q as Un,R as ir,V as or,W as lr,Y as ia,Z as zn,_ as Bn,$ as Ps,a0 as fa,a1 as Qn,a2 as Kn,a3 as Hn,a4 as Wn,a5 as Vn,a6 as Gn,a7 as cr,a8 as Jn,a9 as Yn,aa as Xn,ab as Zn,ac as ei,ad as ti,ae as si,af as ai,ag as ri}from"./ui-CvLNspkt.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();var dr={exports:{}},ds={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ni=g,ii=Symbol.for("react.element"),oi=Symbol.for("react.fragment"),li=Object.prototype.hasOwnProperty,ci=ni.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,di={key:!0,ref:!0,__self:!0,__source:!0};function ur(t,s,a){var r,n={},i=null,o=null;a!==void 0&&(i=""+a),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(o=s.ref);for(r in s)li.call(s,r)&&!di.hasOwnProperty(r)&&(n[r]=s[r]);if(t&&t.defaultProps)for(r in s=t.defaultProps,s)n[r]===void 0&&(n[r]=s[r]);return{$$typeof:ii,type:t,key:i,ref:o,props:n,_owner:ci.current}}ds.Fragment=oi;ds.jsx=ur;ds.jsxs=ur;dr.exports=ds;var e=dr.exports,qs={},ga=wn;qs.createRoot=ga.createRoot,qs.hydrateRoot=ga.hydrateRoot;function $s(t,s){return $s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,r){return a.__proto__=r,a},$s(t,s)}function ut(t,s){t.prototype=Object.create(s.prototype),t.prototype.constructor=t,$s(t,s)}var mt=function(){function t(){this.listeners=[]}var s=t.prototype;return s.subscribe=function(r){var n=this,i=r||function(){};return this.listeners.push(i),this.onSubscribe(),function(){n.listeners=n.listeners.filter(function(o){return o!==i}),n.onUnsubscribe()}},s.hasListeners=function(){return this.listeners.length>0},s.onSubscribe=function(){},s.onUnsubscribe=function(){},t}();function G(){return G=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},G.apply(null,arguments)}var Jt=typeof window>"u";function xe(){}function ui(t,s){return typeof t=="function"?t(s):t}function Us(t){return typeof t=="number"&&t>=0&&t!==1/0}function Yt(t){return Array.isArray(t)?t:[t]}function mr(t,s){return Math.max(t+(s||0)-Date.now(),0)}function qt(t,s,a){return St(t)?typeof s=="function"?G({},a,{queryKey:t,queryFn:s}):G({},s,{queryKey:t}):t}function mi(t,s,a){return St(t)?G({},s,{mutationKey:t}):typeof t=="function"?G({},s,{mutationFn:t}):G({},t)}function He(t,s,a){return St(t)?[G({},s,{queryKey:t}),a]:[t||{},s]}function pi(t,s){if(t===!0&&s===!0||t==null&&s==null)return"all";if(t===!1&&s===!1)return"none";var a=t??!s;return a?"active":"inactive"}function ya(t,s){var a=t.active,r=t.exact,n=t.fetching,i=t.inactive,o=t.predicate,l=t.queryKey,c=t.stale;if(St(l)){if(r){if(s.queryHash!==oa(l,s.options))return!1}else if(!Xt(s.queryKey,l))return!1}var d=pi(a,i);if(d==="none")return!1;if(d!=="all"){var u=s.isActive();if(d==="active"&&!u||d==="inactive"&&u)return!1}return!(typeof c=="boolean"&&s.isStale()!==c||typeof n=="boolean"&&s.isFetching()!==n||o&&!o(s))}function va(t,s){var a=t.exact,r=t.fetching,n=t.predicate,i=t.mutationKey;if(St(i)){if(!s.options.mutationKey)return!1;if(a){if(et(s.options.mutationKey)!==et(i))return!1}else if(!Xt(s.options.mutationKey,i))return!1}return!(typeof r=="boolean"&&s.state.status==="loading"!==r||n&&!n(s))}function oa(t,s){var a=(s==null?void 0:s.queryKeyHashFn)||et;return a(t)}function et(t){var s=Yt(t);return hi(s)}function hi(t){return JSON.stringify(t,function(s,a){return zs(a)?Object.keys(a).sort().reduce(function(r,n){return r[n]=a[n],r},{}):a})}function Xt(t,s){return pr(Yt(t),Yt(s))}function pr(t,s){return t===s?!0:typeof t!=typeof s?!1:t&&s&&typeof t=="object"&&typeof s=="object"?!Object.keys(s).some(function(a){return!pr(t[a],s[a])}):!1}function Zt(t,s){if(t===s)return t;var a=Array.isArray(t)&&Array.isArray(s);if(a||zs(t)&&zs(s)){for(var r=a?t.length:Object.keys(t).length,n=a?s:Object.keys(s),i=n.length,o=a?[]:{},l=0,c=0;c<i;c++){var d=a?c:n[c];o[d]=Zt(t[d],s[d]),o[d]===t[d]&&l++}return r===i&&l===r?t:o}return s}function xi(t,s){if(t&&!s||s&&!t)return!1;for(var a in t)if(t[a]!==s[a])return!1;return!0}function zs(t){if(!ba(t))return!1;var s=t.constructor;if(typeof s>"u")return!0;var a=s.prototype;return!(!ba(a)||!a.hasOwnProperty("isPrototypeOf"))}function ba(t){return Object.prototype.toString.call(t)==="[object Object]"}function St(t){return typeof t=="string"||Array.isArray(t)}function fi(t){return new Promise(function(s){setTimeout(s,t)})}function ja(t){Promise.resolve().then(t).catch(function(s){return setTimeout(function(){throw s})})}function hr(){if(typeof AbortController=="function")return new AbortController}var gi=function(t){ut(s,t);function s(){var r;return r=t.call(this)||this,r.setup=function(n){var i;if(!Jt&&((i=window)!=null&&i.addEventListener)){var o=function(){return n()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},r}var a=s.prototype;return a.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},a.onUnsubscribe=function(){if(!this.hasListeners()){var n;(n=this.cleanup)==null||n.call(this),this.cleanup=void 0}},a.setEventListener=function(n){var i,o=this;this.setup=n,(i=this.cleanup)==null||i.call(this),this.cleanup=n(function(l){typeof l=="boolean"?o.setFocused(l):o.onFocus()})},a.setFocused=function(n){this.focused=n,n&&this.onFocus()},a.onFocus=function(){this.listeners.forEach(function(n){n()})},a.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},s}(mt),bt=new gi,yi=function(t){ut(s,t);function s(){var r;return r=t.call(this)||this,r.setup=function(n){var i;if(!Jt&&((i=window)!=null&&i.addEventListener)){var o=function(){return n()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},r}var a=s.prototype;return a.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},a.onUnsubscribe=function(){if(!this.hasListeners()){var n;(n=this.cleanup)==null||n.call(this),this.cleanup=void 0}},a.setEventListener=function(n){var i,o=this;this.setup=n,(i=this.cleanup)==null||i.call(this),this.cleanup=n(function(l){typeof l=="boolean"?o.setOnline(l):o.onOnline()})},a.setOnline=function(n){this.online=n,n&&this.onOnline()},a.onOnline=function(){this.listeners.forEach(function(n){n()})},a.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},s}(mt),$t=new yi;function vi(t){return Math.min(1e3*Math.pow(2,t),3e4)}function es(t){return typeof(t==null?void 0:t.cancel)=="function"}var xr=function(s){this.revert=s==null?void 0:s.revert,this.silent=s==null?void 0:s.silent};function Ut(t){return t instanceof xr}var fr=function(s){var a=this,r=!1,n,i,o,l;this.abort=s.abort,this.cancel=function(x){return n==null?void 0:n(x)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return i==null?void 0:i()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(x,f){o=x,l=f});var c=function(f){a.isResolved||(a.isResolved=!0,s.onSuccess==null||s.onSuccess(f),i==null||i(),o(f))},d=function(f){a.isResolved||(a.isResolved=!0,s.onError==null||s.onError(f),i==null||i(),l(f))},u=function(){return new Promise(function(f){i=f,a.isPaused=!0,s.onPause==null||s.onPause()}).then(function(){i=void 0,a.isPaused=!1,s.onContinue==null||s.onContinue()})},h=function x(){if(!a.isResolved){var f;try{f=s.fn()}catch(p){f=Promise.reject(p)}n=function(C){if(!a.isResolved&&(d(new xr(C)),a.abort==null||a.abort(),es(f)))try{f.cancel()}catch{}},a.isTransportCancelable=es(f),Promise.resolve(f).then(c).catch(function(p){var C,S;if(!a.isResolved){var k=(C=s.retry)!=null?C:3,N=(S=s.retryDelay)!=null?S:vi,w=typeof N=="function"?N(a.failureCount,p):N,E=k===!0||typeof k=="number"&&a.failureCount<k||typeof k=="function"&&k(a.failureCount,p);if(r||!E){d(p);return}a.failureCount++,s.onFail==null||s.onFail(a.failureCount,p),fi(w).then(function(){if(!bt.isFocused()||!$t.isOnline())return u()}).then(function(){r?d(p):x()})}})}};h()},bi=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(a){a()},this.batchNotifyFn=function(a){a()}}var s=t.prototype;return s.batch=function(r){var n;this.transactions++;try{n=r()}finally{this.transactions--,this.transactions||this.flush()}return n},s.schedule=function(r){var n=this;this.transactions?this.queue.push(r):ja(function(){n.notifyFn(r)})},s.batchCalls=function(r){var n=this;return function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];n.schedule(function(){r.apply(void 0,o)})}},s.flush=function(){var r=this,n=this.queue;this.queue=[],n.length&&ja(function(){r.batchNotifyFn(function(){n.forEach(function(i){r.notifyFn(i)})})})},s.setNotifyFunction=function(r){this.notifyFn=r},s.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},t}(),ee=new bi,gr=console;function ts(){return gr}function ji(t){gr=t}var Ni=function(){function t(a){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=a.defaultOptions,this.setOptions(a.options),this.observers=[],this.cache=a.cache,this.queryKey=a.queryKey,this.queryHash=a.queryHash,this.initialState=a.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=a.meta,this.scheduleGc()}var s=t.prototype;return s.setOptions=function(r){var n;this.options=G({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(n=this.options.cacheTime)!=null?n:5*60*1e3)},s.setDefaultOptions=function(r){this.defaultOptions=r},s.scheduleGc=function(){var r=this;this.clearGcTimeout(),Us(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},s.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},s.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},s.setData=function(r,n){var i,o,l=this.state.data,c=ui(r,l);return(i=(o=this.options).isDataEqual)!=null&&i.call(o,l,c)?c=l:this.options.structuralSharing!==!1&&(c=Zt(l,c)),this.dispatch({data:c,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt}),c},s.setState=function(r,n){this.dispatch({type:"setState",state:r,setStateOptions:n})},s.cancel=function(r){var n,i=this.promise;return(n=this.retryer)==null||n.cancel(r),i?i.then(xe).catch(xe):Promise.resolve()},s.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},s.reset=function(){this.destroy(),this.setState(this.initialState)},s.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},s.isFetching=function(){return this.state.isFetching},s.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},s.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!mr(this.state.dataUpdatedAt,r)},s.onFocus=function(){var r,n=this.observers.find(function(i){return i.shouldFetchOnWindowFocus()});n&&n.refetch(),(r=this.retryer)==null||r.continue()},s.onOnline=function(){var r,n=this.observers.find(function(i){return i.shouldFetchOnReconnect()});n&&n.refetch(),(r=this.retryer)==null||r.continue()},s.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},s.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(n){return n!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},s.getObserversCount=function(){return this.observers.length},s.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},s.fetch=function(r,n){var i=this,o,l,c;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var d;return(d=this.retryer)==null||d.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var u=this.observers.find(function(N){return N.options.queryFn});u&&this.setOptions(u.options)}var h=Yt(this.queryKey),x=hr(),f={queryKey:h,pageParam:void 0,meta:this.meta};Object.defineProperty(f,"signal",{enumerable:!0,get:function(){if(x)return i.abortSignalConsumed=!0,x.signal}});var p=function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(f)):Promise.reject("Missing queryFn")},C={fetchOptions:n,options:this.options,queryKey:h,state:this.state,fetchFn:p,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var S;(S=this.options.behavior)==null||S.onFetch(C)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((l=C.fetchOptions)==null?void 0:l.meta)){var k;this.dispatch({type:"fetch",meta:(k=C.fetchOptions)==null?void 0:k.meta})}return this.retryer=new fr({fn:C.fetchFn,abort:x==null||(c=x.abort)==null?void 0:c.bind(x),onSuccess:function(w){i.setData(w),i.cache.config.onSuccess==null||i.cache.config.onSuccess(w,i),i.cacheTime===0&&i.optionalRemove()},onError:function(w){Ut(w)&&w.silent||i.dispatch({type:"error",error:w}),Ut(w)||(i.cache.config.onError==null||i.cache.config.onError(w,i),ts().error(w)),i.cacheTime===0&&i.optionalRemove()},onFail:function(){i.dispatch({type:"failed"})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:C.options.retry,retryDelay:C.options.retryDelay}),this.promise=this.retryer.promise,this.promise},s.dispatch=function(r){var n=this;this.state=this.reducer(this.state,r),ee.batch(function(){n.observers.forEach(function(i){i.onQueryUpdate(r)}),n.cache.notify({query:n,type:"queryUpdated",action:r})})},s.getDefaultState=function(r){var n=typeof r.initialData=="function"?r.initialData():r.initialData,i=typeof r.initialData<"u",o=i?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,l=typeof n<"u";return{data:n,dataUpdateCount:0,dataUpdatedAt:l?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:l?"success":"idle"}},s.reducer=function(r,n){var i,o;switch(n.type){case"failed":return G({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return G({},r,{isPaused:!0});case"continue":return G({},r,{isPaused:!1});case"fetch":return G({},r,{fetchFailureCount:0,fetchMeta:(i=n.meta)!=null?i:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return G({},r,{data:n.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(o=n.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var l=n.error;return Ut(l)&&l.revert&&this.revertState?G({},this.revertState):G({},r,{error:l,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return G({},r,{isInvalidated:!0});case"setState":return G({},r,n.state);default:return r}},t}(),wi=function(t){ut(s,t);function s(r){var n;return n=t.call(this)||this,n.config=r||{},n.queries=[],n.queriesMap={},n}var a=s.prototype;return a.build=function(n,i,o){var l,c=i.queryKey,d=(l=i.queryHash)!=null?l:oa(c,i),u=this.get(d);return u||(u=new Ni({cache:this,queryKey:c,queryHash:d,options:n.defaultQueryOptions(i),state:o,defaultOptions:n.getQueryDefaults(c),meta:i.meta}),this.add(u)),u},a.add=function(n){this.queriesMap[n.queryHash]||(this.queriesMap[n.queryHash]=n,this.queries.push(n),this.notify({type:"queryAdded",query:n}))},a.remove=function(n){var i=this.queriesMap[n.queryHash];i&&(n.destroy(),this.queries=this.queries.filter(function(o){return o!==n}),i===n&&delete this.queriesMap[n.queryHash],this.notify({type:"queryRemoved",query:n}))},a.clear=function(){var n=this;ee.batch(function(){n.queries.forEach(function(i){n.remove(i)})})},a.get=function(n){return this.queriesMap[n]},a.getAll=function(){return this.queries},a.find=function(n,i){var o=He(n,i),l=o[0];return typeof l.exact>"u"&&(l.exact=!0),this.queries.find(function(c){return ya(l,c)})},a.findAll=function(n,i){var o=He(n,i),l=o[0];return Object.keys(l).length>0?this.queries.filter(function(c){return ya(l,c)}):this.queries},a.notify=function(n){var i=this;ee.batch(function(){i.listeners.forEach(function(o){o(n)})})},a.onFocus=function(){var n=this;ee.batch(function(){n.queries.forEach(function(i){i.onFocus()})})},a.onOnline=function(){var n=this;ee.batch(function(){n.queries.forEach(function(i){i.onOnline()})})},s}(mt),ki=function(){function t(a){this.options=G({},a.defaultOptions,a.options),this.mutationId=a.mutationId,this.mutationCache=a.mutationCache,this.observers=[],this.state=a.state||yr(),this.meta=a.meta}var s=t.prototype;return s.setState=function(r){this.dispatch({type:"setState",state:r})},s.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},s.removeObserver=function(r){this.observers=this.observers.filter(function(n){return n!==r})},s.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(xe).catch(xe)):Promise.resolve()},s.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},s.execute=function(){var r=this,n,i=this.state.status==="loading",o=Promise.resolve();return i||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(l){l!==r.state.context&&r.dispatch({type:"loading",context:l,variables:r.state.variables})})),o.then(function(){return r.executeMutation()}).then(function(l){n=l,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(n,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(n,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(n,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:n}),n}).catch(function(l){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(l,r.state.variables,r.state.context,r),ts().error(l),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(l,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,l,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:l}),l})})},s.executeMutation=function(){var r=this,n;return this.retryer=new fr({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(n=this.options.retry)!=null?n:0,retryDelay:this.options.retryDelay}),this.retryer.promise},s.dispatch=function(r){var n=this;this.state=Ci(this.state,r),ee.batch(function(){n.observers.forEach(function(i){i.onMutationUpdate(r)}),n.mutationCache.notify(n)})},t}();function yr(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function Ci(t,s){switch(s.type){case"failed":return G({},t,{failureCount:t.failureCount+1});case"pause":return G({},t,{isPaused:!0});case"continue":return G({},t,{isPaused:!1});case"loading":return G({},t,{context:s.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:s.variables});case"success":return G({},t,{data:s.data,error:null,status:"success",isPaused:!1});case"error":return G({},t,{data:void 0,error:s.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return G({},t,s.state);default:return t}}var Si=function(t){ut(s,t);function s(r){var n;return n=t.call(this)||this,n.config=r||{},n.mutations=[],n.mutationId=0,n}var a=s.prototype;return a.build=function(n,i,o){var l=new ki({mutationCache:this,mutationId:++this.mutationId,options:n.defaultMutationOptions(i),state:o,defaultOptions:i.mutationKey?n.getMutationDefaults(i.mutationKey):void 0,meta:i.meta});return this.add(l),l},a.add=function(n){this.mutations.push(n),this.notify(n)},a.remove=function(n){this.mutations=this.mutations.filter(function(i){return i!==n}),n.cancel(),this.notify(n)},a.clear=function(){var n=this;ee.batch(function(){n.mutations.forEach(function(i){n.remove(i)})})},a.getAll=function(){return this.mutations},a.find=function(n){return typeof n.exact>"u"&&(n.exact=!0),this.mutations.find(function(i){return va(n,i)})},a.findAll=function(n){return this.mutations.filter(function(i){return va(n,i)})},a.notify=function(n){var i=this;ee.batch(function(){i.listeners.forEach(function(o){o(n)})})},a.onFocus=function(){this.resumePausedMutations()},a.onOnline=function(){this.resumePausedMutations()},a.resumePausedMutations=function(){var n=this.mutations.filter(function(i){return i.state.isPaused});return ee.batch(function(){return n.reduce(function(i,o){return i.then(function(){return o.continue().catch(xe)})},Promise.resolve())})},s}(mt);function Ei(){return{onFetch:function(s){s.fetchFn=function(){var a,r,n,i,o,l,c=(a=s.fetchOptions)==null||(r=a.meta)==null?void 0:r.refetchPage,d=(n=s.fetchOptions)==null||(i=n.meta)==null?void 0:i.fetchMore,u=d==null?void 0:d.pageParam,h=(d==null?void 0:d.direction)==="forward",x=(d==null?void 0:d.direction)==="backward",f=((o=s.state.data)==null?void 0:o.pages)||[],p=((l=s.state.data)==null?void 0:l.pageParams)||[],C=hr(),S=C==null?void 0:C.signal,k=p,N=!1,w=s.options.queryFn||function(){return Promise.reject("Missing queryFn")},E=function($,b,F,U){return k=U?[b].concat(k):[].concat(k,[b]),U?[F].concat($):[].concat($,[F])},R=function($,b,F,U){if(N)return Promise.reject("Cancelled");if(typeof F>"u"&&!b&&$.length)return Promise.resolve($);var V={queryKey:s.queryKey,signal:S,pageParam:F,meta:s.meta},Q=w(V),X=Promise.resolve(Q).then(function(ie){return E($,F,ie,U)});if(es(Q)){var he=X;he.cancel=Q.cancel}return X},T;if(!f.length)T=R([]);else if(h){var L=typeof u<"u",A=L?u:Na(s.options,f);T=R(f,L,A)}else if(x){var v=typeof u<"u",I=v?u:Pi(s.options,f);T=R(f,v,I,!0)}else(function(){k=[];var O=typeof s.options.getNextPageParam>"u",$=c&&f[0]?c(f[0],0,f):!0;T=$?R([],O,p[0]):Promise.resolve(E([],p[0],f[0]));for(var b=function(V){T=T.then(function(Q){var X=c&&f[V]?c(f[V],V,f):!0;if(X){var he=O?p[V]:Na(s.options,Q);return R(Q,O,he)}return Promise.resolve(E(Q,p[V],f[V]))})},F=1;F<f.length;F++)b(F)})();var H=T.then(function(O){return{pages:O,pageParams:k}}),z=H;return z.cancel=function(){N=!0,C==null||C.abort(),es(T)&&T.cancel()},H}}}}function Na(t,s){return t.getNextPageParam==null?void 0:t.getNextPageParam(s[s.length-1],s)}function Pi(t,s){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(s[0],s)}var Oi=function(){function t(a){a===void 0&&(a={}),this.queryCache=a.queryCache||new wi,this.mutationCache=a.mutationCache||new Si,this.defaultOptions=a.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var s=t.prototype;return s.mount=function(){var r=this;this.unsubscribeFocus=bt.subscribe(function(){bt.isFocused()&&$t.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=$t.subscribe(function(){bt.isFocused()&&$t.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},s.unmount=function(){var r,n;(r=this.unsubscribeFocus)==null||r.call(this),(n=this.unsubscribeOnline)==null||n.call(this)},s.isFetching=function(r,n){var i=He(r,n),o=i[0];return o.fetching=!0,this.queryCache.findAll(o).length},s.isMutating=function(r){return this.mutationCache.findAll(G({},r,{fetching:!0})).length},s.getQueryData=function(r,n){var i;return(i=this.queryCache.find(r,n))==null?void 0:i.state.data},s.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(n){var i=n.queryKey,o=n.state,l=o.data;return[i,l]})},s.setQueryData=function(r,n,i){var o=qt(r),l=this.defaultQueryOptions(o);return this.queryCache.build(this,l).setData(n,i)},s.setQueriesData=function(r,n,i){var o=this;return ee.batch(function(){return o.getQueryCache().findAll(r).map(function(l){var c=l.queryKey;return[c,o.setQueryData(c,n,i)]})})},s.getQueryState=function(r,n){var i;return(i=this.queryCache.find(r,n))==null?void 0:i.state},s.removeQueries=function(r,n){var i=He(r,n),o=i[0],l=this.queryCache;ee.batch(function(){l.findAll(o).forEach(function(c){l.remove(c)})})},s.resetQueries=function(r,n,i){var o=this,l=He(r,n,i),c=l[0],d=l[1],u=this.queryCache,h=G({},c,{active:!0});return ee.batch(function(){return u.findAll(c).forEach(function(x){x.reset()}),o.refetchQueries(h,d)})},s.cancelQueries=function(r,n,i){var o=this,l=He(r,n,i),c=l[0],d=l[1],u=d===void 0?{}:d;typeof u.revert>"u"&&(u.revert=!0);var h=ee.batch(function(){return o.queryCache.findAll(c).map(function(x){return x.cancel(u)})});return Promise.all(h).then(xe).catch(xe)},s.invalidateQueries=function(r,n,i){var o,l,c,d=this,u=He(r,n,i),h=u[0],x=u[1],f=G({},h,{active:(o=(l=h.refetchActive)!=null?l:h.active)!=null?o:!0,inactive:(c=h.refetchInactive)!=null?c:!1});return ee.batch(function(){return d.queryCache.findAll(h).forEach(function(p){p.invalidate()}),d.refetchQueries(f,x)})},s.refetchQueries=function(r,n,i){var o=this,l=He(r,n,i),c=l[0],d=l[1],u=ee.batch(function(){return o.queryCache.findAll(c).map(function(x){return x.fetch(void 0,G({},d,{meta:{refetchPage:c==null?void 0:c.refetchPage}}))})}),h=Promise.all(u).then(xe);return d!=null&&d.throwOnError||(h=h.catch(xe)),h},s.fetchQuery=function(r,n,i){var o=qt(r,n,i),l=this.defaultQueryOptions(o);typeof l.retry>"u"&&(l.retry=!1);var c=this.queryCache.build(this,l);return c.isStaleByTime(l.staleTime)?c.fetch(l):Promise.resolve(c.state.data)},s.prefetchQuery=function(r,n,i){return this.fetchQuery(r,n,i).then(xe).catch(xe)},s.fetchInfiniteQuery=function(r,n,i){var o=qt(r,n,i);return o.behavior=Ei(),this.fetchQuery(o)},s.prefetchInfiniteQuery=function(r,n,i){return this.fetchInfiniteQuery(r,n,i).then(xe).catch(xe)},s.cancelMutations=function(){var r=this,n=ee.batch(function(){return r.mutationCache.getAll().map(function(i){return i.cancel()})});return Promise.all(n).then(xe).catch(xe)},s.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},s.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},s.getQueryCache=function(){return this.queryCache},s.getMutationCache=function(){return this.mutationCache},s.getDefaultOptions=function(){return this.defaultOptions},s.setDefaultOptions=function(r){this.defaultOptions=r},s.setQueryDefaults=function(r,n){var i=this.queryDefaults.find(function(o){return et(r)===et(o.queryKey)});i?i.defaultOptions=n:this.queryDefaults.push({queryKey:r,defaultOptions:n})},s.getQueryDefaults=function(r){var n;return r?(n=this.queryDefaults.find(function(i){return Xt(r,i.queryKey)}))==null?void 0:n.defaultOptions:void 0},s.setMutationDefaults=function(r,n){var i=this.mutationDefaults.find(function(o){return et(r)===et(o.mutationKey)});i?i.defaultOptions=n:this.mutationDefaults.push({mutationKey:r,defaultOptions:n})},s.getMutationDefaults=function(r){var n;return r?(n=this.mutationDefaults.find(function(i){return Xt(r,i.mutationKey)}))==null?void 0:n.defaultOptions:void 0},s.defaultQueryOptions=function(r){if(r!=null&&r._defaulted)return r;var n=G({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!n.queryHash&&n.queryKey&&(n.queryHash=oa(n.queryKey,n)),n},s.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},s.defaultMutationOptions=function(r){return r!=null&&r._defaulted?r:G({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},s.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}(),Ri=function(t){ut(s,t);function s(r,n){var i;return i=t.call(this)||this,i.client=r,i.options=n,i.trackedProps=[],i.selectError=null,i.bindMethods(),i.setOptions(n),i}var a=s.prototype;return a.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},a.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),wa(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},a.onUnsubscribe=function(){this.listeners.length||this.destroy()},a.shouldFetchOnReconnect=function(){return Bs(this.currentQuery,this.options,this.options.refetchOnReconnect)},a.shouldFetchOnWindowFocus=function(){return Bs(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},a.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},a.setOptions=function(n,i){var o=this.options,l=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(n),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var c=this.hasListeners();c&&ka(this.currentQuery,l,this.options,o)&&this.executeFetch(),this.updateResult(i),c&&(this.currentQuery!==l||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var d=this.computeRefetchInterval();c&&(this.currentQuery!==l||this.options.enabled!==o.enabled||d!==this.currentRefetchInterval)&&this.updateRefetchInterval(d)},a.getOptimisticResult=function(n){var i=this.client.defaultQueryObserverOptions(n),o=this.client.getQueryCache().build(this.client,i);return this.createResult(o,i)},a.getCurrentResult=function(){return this.currentResult},a.trackResult=function(n,i){var o=this,l={},c=function(u){o.trackedProps.includes(u)||o.trackedProps.push(u)};return Object.keys(n).forEach(function(d){Object.defineProperty(l,d,{configurable:!1,enumerable:!0,get:function(){return c(d),n[d]}})}),(i.useErrorBoundary||i.suspense)&&c("error"),l},a.getNextResult=function(n){var i=this;return new Promise(function(o,l){var c=i.subscribe(function(d){d.isFetching||(c(),d.isError&&(n!=null&&n.throwOnError)?l(d.error):o(d))})})},a.getCurrentQuery=function(){return this.currentQuery},a.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},a.refetch=function(n){return this.fetch(G({},n,{meta:{refetchPage:n==null?void 0:n.refetchPage}}))},a.fetchOptimistic=function(n){var i=this,o=this.client.defaultQueryObserverOptions(n),l=this.client.getQueryCache().build(this.client,o);return l.fetch().then(function(){return i.createResult(l,o)})},a.fetch=function(n){var i=this;return this.executeFetch(n).then(function(){return i.updateResult(),i.currentResult})},a.executeFetch=function(n){this.updateQuery();var i=this.currentQuery.fetch(this.options,n);return n!=null&&n.throwOnError||(i=i.catch(xe)),i},a.updateStaleTimeout=function(){var n=this;if(this.clearStaleTimeout(),!(Jt||this.currentResult.isStale||!Us(this.options.staleTime))){var i=mr(this.currentResult.dataUpdatedAt,this.options.staleTime),o=i+1;this.staleTimeoutId=setTimeout(function(){n.currentResult.isStale||n.updateResult()},o)}},a.computeRefetchInterval=function(){var n;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(n=this.options.refetchInterval)!=null?n:!1},a.updateRefetchInterval=function(n){var i=this;this.clearRefetchInterval(),this.currentRefetchInterval=n,!(Jt||this.options.enabled===!1||!Us(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(i.options.refetchIntervalInBackground||bt.isFocused())&&i.executeFetch()},this.currentRefetchInterval))},a.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},a.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},a.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},a.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},a.createResult=function(n,i){var o=this.currentQuery,l=this.options,c=this.currentResult,d=this.currentResultState,u=this.currentResultOptions,h=n!==o,x=h?n.state:this.currentQueryInitialState,f=h?this.currentResult:this.previousQueryResult,p=n.state,C=p.dataUpdatedAt,S=p.error,k=p.errorUpdatedAt,N=p.isFetching,w=p.status,E=!1,R=!1,T;if(i.optimisticResults){var L=this.hasListeners(),A=!L&&wa(n,i),v=L&&ka(n,o,i,l);(A||v)&&(N=!0,C||(w="loading"))}if(i.keepPreviousData&&!p.dataUpdateCount&&(f!=null&&f.isSuccess)&&w!=="error")T=f.data,C=f.dataUpdatedAt,w=f.status,E=!0;else if(i.select&&typeof p.data<"u")if(c&&p.data===(d==null?void 0:d.data)&&i.select===this.selectFn)T=this.selectResult;else try{this.selectFn=i.select,T=i.select(p.data),i.structuralSharing!==!1&&(T=Zt(c==null?void 0:c.data,T)),this.selectResult=T,this.selectError=null}catch(z){ts().error(z),this.selectError=z}else T=p.data;if(typeof i.placeholderData<"u"&&typeof T>"u"&&(w==="loading"||w==="idle")){var I;if(c!=null&&c.isPlaceholderData&&i.placeholderData===(u==null?void 0:u.placeholderData))I=c.data;else if(I=typeof i.placeholderData=="function"?i.placeholderData():i.placeholderData,i.select&&typeof I<"u")try{I=i.select(I),i.structuralSharing!==!1&&(I=Zt(c==null?void 0:c.data,I)),this.selectError=null}catch(z){ts().error(z),this.selectError=z}typeof I<"u"&&(w="success",T=I,R=!0)}this.selectError&&(S=this.selectError,T=this.selectResult,k=Date.now(),w="error");var H={status:w,isLoading:w==="loading",isSuccess:w==="success",isError:w==="error",isIdle:w==="idle",data:T,dataUpdatedAt:C,error:S,errorUpdatedAt:k,failureCount:p.fetchFailureCount,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>x.dataUpdateCount||p.errorUpdateCount>x.errorUpdateCount,isFetching:N,isRefetching:N&&w!=="loading",isLoadingError:w==="error"&&p.dataUpdatedAt===0,isPlaceholderData:R,isPreviousData:E,isRefetchError:w==="error"&&p.dataUpdatedAt!==0,isStale:la(n,i),refetch:this.refetch,remove:this.remove};return H},a.shouldNotifyListeners=function(n,i){if(!i)return!0;var o=this.options,l=o.notifyOnChangeProps,c=o.notifyOnChangePropsExclusions;if(!l&&!c||l==="tracked"&&!this.trackedProps.length)return!0;var d=l==="tracked"?this.trackedProps:l;return Object.keys(n).some(function(u){var h=u,x=n[h]!==i[h],f=d==null?void 0:d.some(function(C){return C===u}),p=c==null?void 0:c.some(function(C){return C===u});return x&&!p&&(!d||f)})},a.updateResult=function(n){var i=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!xi(this.currentResult,i)){var o={cache:!0};(n==null?void 0:n.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,i)&&(o.listeners=!0),this.notify(G({},o,n))}},a.updateQuery=function(){var n=this.client.getQueryCache().build(this.client,this.options);if(n!==this.currentQuery){var i=this.currentQuery;this.currentQuery=n,this.currentQueryInitialState=n.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(i==null||i.removeObserver(this),n.addObserver(this))}},a.onQueryUpdate=function(n){var i={};n.type==="success"?i.onSuccess=!0:n.type==="error"&&!Ut(n.error)&&(i.onError=!0),this.updateResult(i),this.hasListeners()&&this.updateTimers()},a.notify=function(n){var i=this;ee.batch(function(){n.onSuccess?(i.options.onSuccess==null||i.options.onSuccess(i.currentResult.data),i.options.onSettled==null||i.options.onSettled(i.currentResult.data,null)):n.onError&&(i.options.onError==null||i.options.onError(i.currentResult.error),i.options.onSettled==null||i.options.onSettled(void 0,i.currentResult.error)),n.listeners&&i.listeners.forEach(function(o){o(i.currentResult)}),n.cache&&i.client.getQueryCache().notify({query:i.currentQuery,type:"observerResultsUpdated"})})},s}(mt);function Ai(t,s){return s.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&s.retryOnMount===!1)}function wa(t,s){return Ai(t,s)||t.state.dataUpdatedAt>0&&Bs(t,s,s.refetchOnMount)}function Bs(t,s,a){if(s.enabled!==!1){var r=typeof a=="function"?a(t):a;return r==="always"||r!==!1&&la(t,s)}return!1}function ka(t,s,a,r){return a.enabled!==!1&&(t!==s||r.enabled===!1)&&(!a.suspense||t.state.status!=="error")&&la(t,a)}function la(t,s){return t.isStaleByTime(s.staleTime)}var Fi=function(t){ut(s,t);function s(r,n){var i;return i=t.call(this)||this,i.client=r,i.setOptions(n),i.bindMethods(),i.updateResult(),i}var a=s.prototype;return a.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},a.setOptions=function(n){this.options=this.client.defaultMutationOptions(n)},a.onUnsubscribe=function(){if(!this.listeners.length){var n;(n=this.currentMutation)==null||n.removeObserver(this)}},a.onMutationUpdate=function(n){this.updateResult();var i={listeners:!0};n.type==="success"?i.onSuccess=!0:n.type==="error"&&(i.onError=!0),this.notify(i)},a.getCurrentResult=function(){return this.currentResult},a.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},a.mutate=function(n,i){return this.mutateOptions=i,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,G({},this.options,{variables:typeof n<"u"?n:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},a.updateResult=function(){var n=this.currentMutation?this.currentMutation.state:yr(),i=G({},n,{isLoading:n.status==="loading",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=i},a.notify=function(n){var i=this;ee.batch(function(){i.mutateOptions&&(n.onSuccess?(i.mutateOptions.onSuccess==null||i.mutateOptions.onSuccess(i.currentResult.data,i.currentResult.variables,i.currentResult.context),i.mutateOptions.onSettled==null||i.mutateOptions.onSettled(i.currentResult.data,null,i.currentResult.variables,i.currentResult.context)):n.onError&&(i.mutateOptions.onError==null||i.mutateOptions.onError(i.currentResult.error,i.currentResult.variables,i.currentResult.context),i.mutateOptions.onSettled==null||i.mutateOptions.onSettled(void 0,i.currentResult.error,i.currentResult.variables,i.currentResult.context))),n.listeners&&i.listeners.forEach(function(o){o(i.currentResult)})})},s}(mt),Di=kn.unstable_batchedUpdates;ee.setBatchNotifyFunction(Di);var Ti=console;ji(Ti);var Ca=se.createContext(void 0),vr=se.createContext(!1);function br(t){return t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Ca),window.ReactQueryClientContext):Ca}var Et=function(){var s=se.useContext(br(se.useContext(vr)));if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},_i=function(s){var a=s.client,r=s.contextSharing,n=r===void 0?!1:r,i=s.children;se.useEffect(function(){return a.mount(),function(){a.unmount()}},[a]);var o=br(n);return se.createElement(vr.Provider,{value:n},se.createElement(o.Provider,{value:a},i))};function Mi(){var t=!1;return{clearReset:function(){t=!1},reset:function(){t=!0},isReset:function(){return t}}}var Li=se.createContext(Mi()),Ii=function(){return se.useContext(Li)};function jr(t,s,a){return typeof s=="function"?s.apply(void 0,a):typeof s=="boolean"?s:!!t}function Ve(t,s,a){var r=se.useRef(!1),n=se.useState(0),i=n[1],o=mi(t,s),l=Et(),c=se.useRef();c.current?c.current.setOptions(o):c.current=new Fi(l,o);var d=c.current.getCurrentResult();se.useEffect(function(){r.current=!0;var h=c.current.subscribe(ee.batchCalls(function(){r.current&&i(function(x){return x+1})}));return function(){r.current=!1,h()}},[]);var u=se.useCallback(function(h,x){c.current.mutate(h,x).catch(xe)},[]);if(d.error&&jr(void 0,c.current.options.useErrorBoundary,[d.error]))throw d.error;return G({},d,{mutate:u,mutateAsync:d.mutate})}function qi(t,s){var a=se.useRef(!1),r=se.useState(0),n=r[1],i=Et(),o=Ii(),l=i.defaultQueryObserverOptions(t);l.optimisticResults=!0,l.onError&&(l.onError=ee.batchCalls(l.onError)),l.onSuccess&&(l.onSuccess=ee.batchCalls(l.onSuccess)),l.onSettled&&(l.onSettled=ee.batchCalls(l.onSettled)),l.suspense&&(typeof l.staleTime!="number"&&(l.staleTime=1e3),l.cacheTime===0&&(l.cacheTime=1)),(l.suspense||l.useErrorBoundary)&&(o.isReset()||(l.retryOnMount=!1));var c=se.useState(function(){return new s(i,l)}),d=c[0],u=d.getOptimisticResult(l);if(se.useEffect(function(){a.current=!0,o.clearReset();var h=d.subscribe(ee.batchCalls(function(){a.current&&n(function(x){return x+1})}));return d.updateResult(),function(){a.current=!1,h()}},[o,d]),se.useEffect(function(){d.setOptions(l,{listeners:!1})},[l,d]),l.suspense&&u.isLoading)throw d.fetchOptimistic(l).then(function(h){var x=h.data;l.onSuccess==null||l.onSuccess(x),l.onSettled==null||l.onSettled(x,null)}).catch(function(h){o.clearReset(),l.onError==null||l.onError(h),l.onSettled==null||l.onSettled(void 0,h)});if(u.isError&&!o.isReset()&&!u.isFetching&&jr(l.suspense,l.useErrorBoundary,[u.error,d.getCurrentQuery()]))throw u.error;return l.notifyOnChangeProps==="tracked"&&(u=d.trackResult(u,l)),u}function pe(t,s,a){var r=qt(t,s,a);return qi(r,Ri)}let $i={data:""},Ui=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||$i,zi=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Bi=/\/\*[^]*?\*\/|  +/g,Sa=/\n+/g,We=(t,s)=>{let a="",r="",n="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?a=i+" "+o+";":r+=i[1]=="f"?We(o,i):i+"{"+We(o,i[1]=="k"?"":s)+"}":typeof o=="object"?r+=We(o,s?s.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=We.p?We.p(i,o):i+":"+o+";")}return a+(s&&n?s+"{"+n+"}":n)+r},Be={},Nr=t=>{if(typeof t=="object"){let s="";for(let a in t)s+=a+Nr(t[a]);return s}return t},Qi=(t,s,a,r,n)=>{let i=Nr(t),o=Be[i]||(Be[i]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(i));if(!Be[o]){let c=i!==t?t:(d=>{let u,h,x=[{}];for(;u=zi.exec(d.replace(Bi,""));)u[4]?x.shift():u[3]?(h=u[3].replace(Sa," ").trim(),x.unshift(x[0][h]=x[0][h]||{})):x[0][u[1]]=u[2].replace(Sa," ").trim();return x[0]})(t);Be[o]=We(n?{["@keyframes "+o]:c}:c,a?"":"."+o)}let l=a&&Be.g?Be.g:null;return a&&(Be.g=Be[o]),((c,d,u,h)=>{h?d.data=d.data.replace(h,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(Be[o],s,r,l),o},Ki=(t,s,a)=>t.reduce((r,n,i)=>{let o=s[i];if(o&&o.call){let l=o(a),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":We(l,""):l===!1?"":l}return r+n+(o??"")},"");function us(t){let s=this||{},a=t.call?t(s.p):t;return Qi(a.unshift?a.raw?Ki(a,[].slice.call(arguments,1),s.p):a.reduce((r,n)=>Object.assign(r,n&&n.call?n(s.p):n),{}):a,Ui(s.target),s.g,s.o,s.k)}let wr,Qs,Ks;us.bind({g:1});let Qe=us.bind({k:1});function Hi(t,s,a,r){We.p=s,wr=t,Qs=a,Ks=r}function Ye(t,s){let a=this||{};return function(){let r=arguments;function n(i,o){let l=Object.assign({},i),c=l.className||n.className;a.p=Object.assign({theme:Qs&&Qs()},l),a.o=/ *go\d+/.test(c),l.className=us.apply(a,r)+(c?" "+c:"");let d=t;return t[0]&&(d=l.as||t,delete l.as),Ks&&d[0]&&Ks(l),wr(d,l)}return n}}var Wi=t=>typeof t=="function",ss=(t,s)=>Wi(t)?t(s):t,Vi=(()=>{let t=0;return()=>(++t).toString()})(),kr=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let s=matchMedia("(prefers-reduced-motion: reduce)");t=!s||s.matches}return t}})(),Gi=20,ca="default",Cr=(t,s)=>{let{toastLimit:a}=t.settings;switch(s.type){case 0:return{...t,toasts:[s.toast,...t.toasts].slice(0,a)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===s.toast.id?{...o,...s.toast}:o)};case 2:let{toast:r}=s;return Cr(t,{type:t.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=s;return{...t,toasts:t.toasts.map(o=>o.id===n||n===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==s.toastId)};case 5:return{...t,pausedAt:s.time};case 6:let i=s.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},zt=[],Sr={toasts:[],pausedAt:void 0,settings:{toastLimit:Gi}},Ue={},Er=(t,s=ca)=>{Ue[s]=Cr(Ue[s]||Sr,t),zt.forEach(([a,r])=>{a===s&&r(Ue[s])})},Pr=t=>Object.keys(Ue).forEach(s=>Er(t,s)),Ji=t=>Object.keys(Ue).find(s=>Ue[s].toasts.some(a=>a.id===t)),ms=(t=ca)=>s=>{Er(s,t)},Yi={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Xi=(t={},s=ca)=>{let[a,r]=g.useState(Ue[s]||Sr),n=g.useRef(Ue[s]);g.useEffect(()=>(n.current!==Ue[s]&&r(Ue[s]),zt.push([s,r]),()=>{let o=zt.findIndex(([l])=>l===s);o>-1&&zt.splice(o,1)}),[s]);let i=a.toasts.map(o=>{var l,c,d;return{...t,...t[o.type],...o,removeDelay:o.removeDelay||((l=t[o.type])==null?void 0:l.removeDelay)||(t==null?void 0:t.removeDelay),duration:o.duration||((c=t[o.type])==null?void 0:c.duration)||(t==null?void 0:t.duration)||Yi[o.type],style:{...t.style,...(d=t[o.type])==null?void 0:d.style,...o.style}}});return{...a,toasts:i}},Zi=(t,s="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:s,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...a,id:(a==null?void 0:a.id)||Vi()}),Pt=t=>(s,a)=>{let r=Zi(s,t,a);return ms(r.toasterId||Ji(r.id))({type:2,toast:r}),r.id},de=(t,s)=>Pt("blank")(t,s);de.error=Pt("error");de.success=Pt("success");de.loading=Pt("loading");de.custom=Pt("custom");de.dismiss=(t,s)=>{let a={type:3,toastId:t};s?ms(s)(a):Pr(a)};de.dismissAll=t=>de.dismiss(void 0,t);de.remove=(t,s)=>{let a={type:4,toastId:t};s?ms(s)(a):Pr(a)};de.removeAll=t=>de.remove(void 0,t);de.promise=(t,s,a)=>{let r=de.loading(s.loading,{...a,...a==null?void 0:a.loading});return typeof t=="function"&&(t=t()),t.then(n=>{let i=s.success?ss(s.success,n):void 0;return i?de.success(i,{id:r,...a,...a==null?void 0:a.success}):de.dismiss(r),n}).catch(n=>{let i=s.error?ss(s.error,n):void 0;i?de.error(i,{id:r,...a,...a==null?void 0:a.error}):de.dismiss(r)}),t};var eo=1e3,to=(t,s="default")=>{let{toasts:a,pausedAt:r}=Xi(t,s),n=g.useRef(new Map).current,i=g.useCallback((h,x=eo)=>{if(n.has(h))return;let f=setTimeout(()=>{n.delete(h),o({type:4,toastId:h})},x);n.set(h,f)},[]);g.useEffect(()=>{if(r)return;let h=Date.now(),x=a.map(f=>{if(f.duration===1/0)return;let p=(f.duration||0)+f.pauseDuration-(h-f.createdAt);if(p<0){f.visible&&de.dismiss(f.id);return}return setTimeout(()=>de.dismiss(f.id,s),p)});return()=>{x.forEach(f=>f&&clearTimeout(f))}},[a,r,s]);let o=g.useCallback(ms(s),[s]),l=g.useCallback(()=>{o({type:5,time:Date.now()})},[o]),c=g.useCallback((h,x)=>{o({type:1,toast:{id:h,height:x}})},[o]),d=g.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),u=g.useCallback((h,x)=>{let{reverseOrder:f=!1,gutter:p=8,defaultPosition:C}=x||{},S=a.filter(w=>(w.position||C)===(h.position||C)&&w.height),k=S.findIndex(w=>w.id===h.id),N=S.filter((w,E)=>E<k&&w.visible).length;return S.filter(w=>w.visible).slice(...f?[N+1]:[0,N]).reduce((w,E)=>w+(E.height||0)+p,0)},[a]);return g.useEffect(()=>{a.forEach(h=>{if(h.dismissed)i(h.id,h.removeDelay);else{let x=n.get(h.id);x&&(clearTimeout(x),n.delete(h.id))}})},[a,i]),{toasts:a,handlers:{updateHeight:c,startPause:l,endPause:d,calculateOffset:u}}},so=Qe`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ao=Qe`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ro=Qe`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,no=Ye("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${so} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ao} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ro} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,io=Qe`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,oo=Ye("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${io} 1s linear infinite;
`,lo=Qe`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,co=Qe`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,uo=Ye("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${lo} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${co} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,mo=Ye("div")`
  position: absolute;
`,po=Ye("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,ho=Qe`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,xo=Ye("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${ho} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,fo=({toast:t})=>{let{icon:s,type:a,iconTheme:r}=t;return s!==void 0?typeof s=="string"?g.createElement(xo,null,s):s:a==="blank"?null:g.createElement(po,null,g.createElement(oo,{...r}),a!=="loading"&&g.createElement(mo,null,a==="error"?g.createElement(no,{...r}):g.createElement(uo,{...r})))},go=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,yo=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,vo="0%{opacity:0;} 100%{opacity:1;}",bo="0%{opacity:1;} 100%{opacity:0;}",jo=Ye("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,No=Ye("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,wo=(t,s)=>{let a=t.includes("top")?1:-1,[r,n]=kr()?[vo,bo]:[go(a),yo(a)];return{animation:s?`${Qe(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Qe(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},ko=g.memo(({toast:t,position:s,style:a,children:r})=>{let n=t.height?wo(t.position||s||"top-center",t.visible):{opacity:0},i=g.createElement(fo,{toast:t}),o=g.createElement(No,{...t.ariaProps},ss(t.message,t));return g.createElement(jo,{className:t.className,style:{...n,...a,...t.style}},typeof r=="function"?r({icon:i,message:o}):g.createElement(g.Fragment,null,i,o))});Hi(g.createElement);var Co=({id:t,className:s,style:a,onHeightUpdate:r,children:n})=>{let i=g.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;r(t,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return g.createElement("div",{ref:i,className:s,style:a},n)},So=(t,s)=>{let a=t.includes("top"),r=a?{top:0}:{bottom:0},n=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:kr()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${s*(a?1:-1)}px)`,...r,...n}},Eo=us`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Mt=16,Po=({reverseOrder:t,position:s="top-center",toastOptions:a,gutter:r,children:n,toasterId:i,containerStyle:o,containerClassName:l})=>{let{toasts:c,handlers:d}=to(a,i);return g.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Mt,left:Mt,right:Mt,bottom:Mt,pointerEvents:"none",...o},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(u=>{let h=u.position||s,x=d.calculateOffset(u,{reverseOrder:t,gutter:r,defaultPosition:s}),f=So(h,x);return g.createElement(Co,{id:u.id,key:u.id,onHeightUpdate:d.updateHeight,className:u.visible?Eo:"",style:f},u.type==="custom"?ss(u.message,u):n?n(u):g.createElement(ko,{toast:u,position:h}))}))},W=de;function Or(t,s){return function(){return t.apply(s,arguments)}}const{toString:Oo}=Object.prototype,{getPrototypeOf:da}=Object,{iterator:ps,toStringTag:Rr}=Symbol,hs=(t=>s=>{const a=Oo.call(s);return t[a]||(t[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Le=t=>(t=t.toLowerCase(),s=>hs(s)===t),xs=t=>s=>typeof s===t,{isArray:pt}=Array,kt=xs("undefined");function Ot(t){return t!==null&&!kt(t)&&t.constructor!==null&&!kt(t.constructor)&&Se(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Ar=Le("ArrayBuffer");function Ro(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&Ar(t.buffer),s}const Ao=xs("string"),Se=xs("function"),Fr=xs("number"),Rt=t=>t!==null&&typeof t=="object",Fo=t=>t===!0||t===!1,Bt=t=>{if(hs(t)!=="object")return!1;const s=da(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Rr in t)&&!(ps in t)},Do=t=>{if(!Rt(t)||Ot(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},To=Le("Date"),_o=Le("File"),Mo=Le("Blob"),Lo=Le("FileList"),Io=t=>Rt(t)&&Se(t.pipe),qo=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||Se(t.append)&&((s=hs(t))==="formdata"||s==="object"&&Se(t.toString)&&t.toString()==="[object FormData]"))},$o=Le("URLSearchParams"),[Uo,zo,Bo,Qo]=["ReadableStream","Request","Response","Headers"].map(Le),Ko=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function At(t,s,{allOwnKeys:a=!1}={}){if(t===null||typeof t>"u")return;let r,n;if(typeof t!="object"&&(t=[t]),pt(t))for(r=0,n=t.length;r<n;r++)s.call(null,t[r],r,t);else{if(Ot(t))return;const i=a?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let l;for(r=0;r<o;r++)l=i[r],s.call(null,t[l],l,t)}}function Dr(t,s){if(Ot(t))return null;s=s.toLowerCase();const a=Object.keys(t);let r=a.length,n;for(;r-- >0;)if(n=a[r],s===n.toLowerCase())return n;return null}const tt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Tr=t=>!kt(t)&&t!==tt;function Hs(){const{caseless:t}=Tr(this)&&this||{},s={},a=(r,n)=>{const i=t&&Dr(s,n)||n;Bt(s[i])&&Bt(r)?s[i]=Hs(s[i],r):Bt(r)?s[i]=Hs({},r):pt(r)?s[i]=r.slice():s[i]=r};for(let r=0,n=arguments.length;r<n;r++)arguments[r]&&At(arguments[r],a);return s}const Ho=(t,s,a,{allOwnKeys:r}={})=>(At(s,(n,i)=>{a&&Se(n)?t[i]=Or(n,a):t[i]=n},{allOwnKeys:r}),t),Wo=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Vo=(t,s,a,r)=>{t.prototype=Object.create(s.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),a&&Object.assign(t.prototype,a)},Go=(t,s,a,r)=>{let n,i,o;const l={};if(s=s||{},t==null)return s;do{for(n=Object.getOwnPropertyNames(t),i=n.length;i-- >0;)o=n[i],(!r||r(o,t,s))&&!l[o]&&(s[o]=t[o],l[o]=!0);t=a!==!1&&da(t)}while(t&&(!a||a(t,s))&&t!==Object.prototype);return s},Jo=(t,s,a)=>{t=String(t),(a===void 0||a>t.length)&&(a=t.length),a-=s.length;const r=t.indexOf(s,a);return r!==-1&&r===a},Yo=t=>{if(!t)return null;if(pt(t))return t;let s=t.length;if(!Fr(s))return null;const a=new Array(s);for(;s-- >0;)a[s]=t[s];return a},Xo=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&da(Uint8Array)),Zo=(t,s)=>{const r=(t&&t[ps]).call(t);let n;for(;(n=r.next())&&!n.done;){const i=n.value;s.call(t,i[0],i[1])}},el=(t,s)=>{let a;const r=[];for(;(a=t.exec(s))!==null;)r.push(a);return r},tl=Le("HTMLFormElement"),sl=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,r,n){return r.toUpperCase()+n}),Ea=(({hasOwnProperty:t})=>(s,a)=>t.call(s,a))(Object.prototype),al=Le("RegExp"),_r=(t,s)=>{const a=Object.getOwnPropertyDescriptors(t),r={};At(a,(n,i)=>{let o;(o=s(n,i,t))!==!1&&(r[i]=o||n)}),Object.defineProperties(t,r)},rl=t=>{_r(t,(s,a)=>{if(Se(t)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const r=t[a];if(Se(r)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},nl=(t,s)=>{const a={},r=n=>{n.forEach(i=>{a[i]=!0})};return pt(t)?r(t):r(String(t).split(s)),a},il=()=>{},ol=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function ll(t){return!!(t&&Se(t.append)&&t[Rr]==="FormData"&&t[ps])}const cl=t=>{const s=new Array(10),a=(r,n)=>{if(Rt(r)){if(s.indexOf(r)>=0)return;if(Ot(r))return r;if(!("toJSON"in r)){s[n]=r;const i=pt(r)?[]:{};return At(r,(o,l)=>{const c=a(o,n+1);!kt(c)&&(i[l]=c)}),s[n]=void 0,i}}return r};return a(t,0)},dl=Le("AsyncFunction"),ul=t=>t&&(Rt(t)||Se(t))&&Se(t.then)&&Se(t.catch),Mr=((t,s)=>t?setImmediate:s?((a,r)=>(tt.addEventListener("message",({source:n,data:i})=>{n===tt&&i===a&&r.length&&r.shift()()},!1),n=>{r.push(n),tt.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",Se(tt.postMessage)),ml=typeof queueMicrotask<"u"?queueMicrotask.bind(tt):typeof process<"u"&&process.nextTick||Mr,pl=t=>t!=null&&Se(t[ps]),y={isArray:pt,isArrayBuffer:Ar,isBuffer:Ot,isFormData:qo,isArrayBufferView:Ro,isString:Ao,isNumber:Fr,isBoolean:Fo,isObject:Rt,isPlainObject:Bt,isEmptyObject:Do,isReadableStream:Uo,isRequest:zo,isResponse:Bo,isHeaders:Qo,isUndefined:kt,isDate:To,isFile:_o,isBlob:Mo,isRegExp:al,isFunction:Se,isStream:Io,isURLSearchParams:$o,isTypedArray:Xo,isFileList:Lo,forEach:At,merge:Hs,extend:Ho,trim:Ko,stripBOM:Wo,inherits:Vo,toFlatObject:Go,kindOf:hs,kindOfTest:Le,endsWith:Jo,toArray:Yo,forEachEntry:Zo,matchAll:el,isHTMLForm:tl,hasOwnProperty:Ea,hasOwnProp:Ea,reduceDescriptors:_r,freezeMethods:rl,toObjectSet:nl,toCamelCase:sl,noop:il,toFiniteNumber:ol,findKey:Dr,global:tt,isContextDefined:Tr,isSpecCompliantForm:ll,toJSONObject:cl,isAsyncFn:dl,isThenable:ul,setImmediate:Mr,asap:ml,isIterable:pl};function K(t,s,a,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),a&&(this.config=a),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}y.inherits(K,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:y.toJSONObject(this.config),code:this.code,status:this.status}}});const Lr=K.prototype,Ir={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Ir[t]={value:t}});Object.defineProperties(K,Ir);Object.defineProperty(Lr,"isAxiosError",{value:!0});K.from=(t,s,a,r,n,i)=>{const o=Object.create(Lr);return y.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),K.call(o,t.message,s,a,r,n),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const hl=null;function Ws(t){return y.isPlainObject(t)||y.isArray(t)}function qr(t){return y.endsWith(t,"[]")?t.slice(0,-2):t}function Pa(t,s,a){return t?t.concat(s).map(function(n,i){return n=qr(n),!a&&i?"["+n+"]":n}).join(a?".":""):s}function xl(t){return y.isArray(t)&&!t.some(Ws)}const fl=y.toFlatObject(y,{},null,function(s){return/^is[A-Z]/.test(s)});function fs(t,s,a){if(!y.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,a=y.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,S){return!y.isUndefined(S[C])});const r=a.metaTokens,n=a.visitor||u,i=a.dots,o=a.indexes,c=(a.Blob||typeof Blob<"u"&&Blob)&&y.isSpecCompliantForm(s);if(!y.isFunction(n))throw new TypeError("visitor must be a function");function d(p){if(p===null)return"";if(y.isDate(p))return p.toISOString();if(y.isBoolean(p))return p.toString();if(!c&&y.isBlob(p))throw new K("Blob is not supported. Use a Buffer instead.");return y.isArrayBuffer(p)||y.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,C,S){let k=p;if(p&&!S&&typeof p=="object"){if(y.endsWith(C,"{}"))C=r?C:C.slice(0,-2),p=JSON.stringify(p);else if(y.isArray(p)&&xl(p)||(y.isFileList(p)||y.endsWith(C,"[]"))&&(k=y.toArray(p)))return C=qr(C),k.forEach(function(w,E){!(y.isUndefined(w)||w===null)&&s.append(o===!0?Pa([C],E,i):o===null?C:C+"[]",d(w))}),!1}return Ws(p)?!0:(s.append(Pa(S,C,i),d(p)),!1)}const h=[],x=Object.assign(fl,{defaultVisitor:u,convertValue:d,isVisitable:Ws});function f(p,C){if(!y.isUndefined(p)){if(h.indexOf(p)!==-1)throw Error("Circular reference detected in "+C.join("."));h.push(p),y.forEach(p,function(k,N){(!(y.isUndefined(k)||k===null)&&n.call(s,k,y.isString(N)?N.trim():N,C,x))===!0&&f(k,C?C.concat(N):[N])}),h.pop()}}if(!y.isObject(t))throw new TypeError("data must be an object");return f(t),s}function Oa(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return s[r]})}function ua(t,s){this._pairs=[],t&&fs(t,this,s)}const $r=ua.prototype;$r.append=function(s,a){this._pairs.push([s,a])};$r.toString=function(s){const a=s?function(r){return s.call(this,r,Oa)}:Oa;return this._pairs.map(function(n){return a(n[0])+"="+a(n[1])},"").join("&")};function gl(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ur(t,s,a){if(!s)return t;const r=a&&a.encode||gl;y.isFunction(a)&&(a={serialize:a});const n=a&&a.serialize;let i;if(n?i=n(s,a):i=y.isURLSearchParams(s)?s.toString():new ua(s,a).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Ra{constructor(){this.handlers=[]}use(s,a,r){return this.handlers.push({fulfilled:s,rejected:a,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){y.forEach(this.handlers,function(r){r!==null&&s(r)})}}const zr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},yl=typeof URLSearchParams<"u"?URLSearchParams:ua,vl=typeof FormData<"u"?FormData:null,bl=typeof Blob<"u"?Blob:null,jl={isBrowser:!0,classes:{URLSearchParams:yl,FormData:vl,Blob:bl},protocols:["http","https","file","blob","url","data"]},ma=typeof window<"u"&&typeof document<"u",Vs=typeof navigator=="object"&&navigator||void 0,Nl=ma&&(!Vs||["ReactNative","NativeScript","NS"].indexOf(Vs.product)<0),wl=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",kl=ma&&window.location.href||"http://localhost",Cl=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ma,hasStandardBrowserEnv:Nl,hasStandardBrowserWebWorkerEnv:wl,navigator:Vs,origin:kl},Symbol.toStringTag,{value:"Module"})),ye={...Cl,...jl};function Sl(t,s){return fs(t,new ye.classes.URLSearchParams,{visitor:function(a,r,n,i){return ye.isNode&&y.isBuffer(a)?(this.append(r,a.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...s})}function El(t){return y.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function Pl(t){const s={},a=Object.keys(t);let r;const n=a.length;let i;for(r=0;r<n;r++)i=a[r],s[i]=t[i];return s}function Br(t){function s(a,r,n,i){let o=a[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=a.length;return o=!o&&y.isArray(n)?n.length:o,c?(y.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!l):((!n[o]||!y.isObject(n[o]))&&(n[o]=[]),s(a,r,n[o],i)&&y.isArray(n[o])&&(n[o]=Pl(n[o])),!l)}if(y.isFormData(t)&&y.isFunction(t.entries)){const a={};return y.forEachEntry(t,(r,n)=>{s(El(r),n,a,0)}),a}return null}function Ol(t,s,a){if(y.isString(t))try{return(s||JSON.parse)(t),y.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(a||JSON.stringify)(t)}const Ft={transitional:zr,adapter:["xhr","http","fetch"],transformRequest:[function(s,a){const r=a.getContentType()||"",n=r.indexOf("application/json")>-1,i=y.isObject(s);if(i&&y.isHTMLForm(s)&&(s=new FormData(s)),y.isFormData(s))return n?JSON.stringify(Br(s)):s;if(y.isArrayBuffer(s)||y.isBuffer(s)||y.isStream(s)||y.isFile(s)||y.isBlob(s)||y.isReadableStream(s))return s;if(y.isArrayBufferView(s))return s.buffer;if(y.isURLSearchParams(s))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Sl(s,this.formSerializer).toString();if((l=y.isFileList(s))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return fs(l?{"files[]":s}:s,c&&new c,this.formSerializer)}}return i||n?(a.setContentType("application/json",!1),Ol(s)):s}],transformResponse:[function(s){const a=this.transitional||Ft.transitional,r=a&&a.forcedJSONParsing,n=this.responseType==="json";if(y.isResponse(s)||y.isReadableStream(s))return s;if(s&&y.isString(s)&&(r&&!this.responseType||n)){const o=!(a&&a.silentJSONParsing)&&n;try{return JSON.parse(s)}catch(l){if(o)throw l.name==="SyntaxError"?K.from(l,K.ERR_BAD_RESPONSE,this,null,this.response):l}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ye.classes.FormData,Blob:ye.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};y.forEach(["delete","get","head","post","put","patch"],t=>{Ft.headers[t]={}});const Rl=y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Al=t=>{const s={};let a,r,n;return t&&t.split(`
`).forEach(function(o){n=o.indexOf(":"),a=o.substring(0,n).trim().toLowerCase(),r=o.substring(n+1).trim(),!(!a||s[a]&&Rl[a])&&(a==="set-cookie"?s[a]?s[a].push(r):s[a]=[r]:s[a]=s[a]?s[a]+", "+r:r)}),s},Aa=Symbol("internals");function ft(t){return t&&String(t).trim().toLowerCase()}function Qt(t){return t===!1||t==null?t:y.isArray(t)?t.map(Qt):String(t)}function Fl(t){const s=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=a.exec(t);)s[r[1]]=r[2];return s}const Dl=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Os(t,s,a,r,n){if(y.isFunction(r))return r.call(this,s,a);if(n&&(s=a),!!y.isString(s)){if(y.isString(r))return s.indexOf(r)!==-1;if(y.isRegExp(r))return r.test(s)}}function Tl(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,a,r)=>a.toUpperCase()+r)}function _l(t,s){const a=y.toCamelCase(" "+s);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+a,{value:function(n,i,o){return this[r].call(this,s,n,i,o)},configurable:!0})})}let Ee=class{constructor(s){s&&this.set(s)}set(s,a,r){const n=this;function i(l,c,d){const u=ft(c);if(!u)throw new Error("header name must be a non-empty string");const h=y.findKey(n,u);(!h||n[h]===void 0||d===!0||d===void 0&&n[h]!==!1)&&(n[h||c]=Qt(l))}const o=(l,c)=>y.forEach(l,(d,u)=>i(d,u,c));if(y.isPlainObject(s)||s instanceof this.constructor)o(s,a);else if(y.isString(s)&&(s=s.trim())&&!Dl(s))o(Al(s),a);else if(y.isObject(s)&&y.isIterable(s)){let l={},c,d;for(const u of s){if(!y.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?y.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,a)}else s!=null&&i(a,s,r);return this}get(s,a){if(s=ft(s),s){const r=y.findKey(this,s);if(r){const n=this[r];if(!a)return n;if(a===!0)return Fl(n);if(y.isFunction(a))return a.call(this,n,r);if(y.isRegExp(a))return a.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,a){if(s=ft(s),s){const r=y.findKey(this,s);return!!(r&&this[r]!==void 0&&(!a||Os(this,this[r],r,a)))}return!1}delete(s,a){const r=this;let n=!1;function i(o){if(o=ft(o),o){const l=y.findKey(r,o);l&&(!a||Os(r,r[l],l,a))&&(delete r[l],n=!0)}}return y.isArray(s)?s.forEach(i):i(s),n}clear(s){const a=Object.keys(this);let r=a.length,n=!1;for(;r--;){const i=a[r];(!s||Os(this,this[i],i,s,!0))&&(delete this[i],n=!0)}return n}normalize(s){const a=this,r={};return y.forEach(this,(n,i)=>{const o=y.findKey(r,i);if(o){a[o]=Qt(n),delete a[i];return}const l=s?Tl(i):String(i).trim();l!==i&&delete a[i],a[l]=Qt(n),r[l]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const a=Object.create(null);return y.forEach(this,(r,n)=>{r!=null&&r!==!1&&(a[n]=s&&y.isArray(r)?r.join(", "):r)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,a])=>s+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...a){const r=new this(s);return a.forEach(n=>r.set(n)),r}static accessor(s){const r=(this[Aa]=this[Aa]={accessors:{}}).accessors,n=this.prototype;function i(o){const l=ft(o);r[l]||(_l(n,o),r[l]=!0)}return y.isArray(s)?s.forEach(i):i(s),this}};Ee.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);y.reduceDescriptors(Ee.prototype,({value:t},s)=>{let a=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(r){this[a]=r}}});y.freezeMethods(Ee);function Rs(t,s){const a=this||Ft,r=s||a,n=Ee.from(r.headers);let i=r.data;return y.forEach(t,function(l){i=l.call(a,i,n.normalize(),s?s.status:void 0)}),n.normalize(),i}function Qr(t){return!!(t&&t.__CANCEL__)}function ht(t,s,a){K.call(this,t??"canceled",K.ERR_CANCELED,s,a),this.name="CanceledError"}y.inherits(ht,K,{__CANCEL__:!0});function Kr(t,s,a){const r=a.config.validateStatus;!a.status||!r||r(a.status)?t(a):s(new K("Request failed with status code "+a.status,[K.ERR_BAD_REQUEST,K.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function Ml(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function Ll(t,s){t=t||10;const a=new Array(t),r=new Array(t);let n=0,i=0,o;return s=s!==void 0?s:1e3,function(c){const d=Date.now(),u=r[i];o||(o=d),a[n]=c,r[n]=d;let h=i,x=0;for(;h!==n;)x+=a[h++],h=h%t;if(n=(n+1)%t,n===i&&(i=(i+1)%t),d-o<s)return;const f=u&&d-u;return f?Math.round(x*1e3/f):void 0}}function Il(t,s){let a=0,r=1e3/s,n,i;const o=(d,u=Date.now())=>{a=u,n=null,i&&(clearTimeout(i),i=null),t(...d)};return[(...d)=>{const u=Date.now(),h=u-a;h>=r?o(d,u):(n=d,i||(i=setTimeout(()=>{i=null,o(n)},r-h)))},()=>n&&o(n)]}const as=(t,s,a=3)=>{let r=0;const n=Ll(50,250);return Il(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-r,d=n(c),u=o<=l;r=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[s?"download":"upload"]:!0};t(h)},a)},Fa=(t,s)=>{const a=t!=null;return[r=>s[0]({lengthComputable:a,total:t,loaded:r}),s[1]]},Da=t=>(...s)=>y.asap(()=>t(...s)),ql=ye.hasStandardBrowserEnv?((t,s)=>a=>(a=new URL(a,ye.origin),t.protocol===a.protocol&&t.host===a.host&&(s||t.port===a.port)))(new URL(ye.origin),ye.navigator&&/(msie|trident)/i.test(ye.navigator.userAgent)):()=>!0,$l=ye.hasStandardBrowserEnv?{write(t,s,a,r,n,i){const o=[t+"="+encodeURIComponent(s)];y.isNumber(a)&&o.push("expires="+new Date(a).toGMTString()),y.isString(r)&&o.push("path="+r),y.isString(n)&&o.push("domain="+n),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ul(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function zl(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function Hr(t,s,a){let r=!Ul(s);return t&&(r||a==!1)?zl(t,s):s}const Ta=t=>t instanceof Ee?{...t}:t;function nt(t,s){s=s||{};const a={};function r(d,u,h,x){return y.isPlainObject(d)&&y.isPlainObject(u)?y.merge.call({caseless:x},d,u):y.isPlainObject(u)?y.merge({},u):y.isArray(u)?u.slice():u}function n(d,u,h,x){if(y.isUndefined(u)){if(!y.isUndefined(d))return r(void 0,d,h,x)}else return r(d,u,h,x)}function i(d,u){if(!y.isUndefined(u))return r(void 0,u)}function o(d,u){if(y.isUndefined(u)){if(!y.isUndefined(d))return r(void 0,d)}else return r(void 0,u)}function l(d,u,h){if(h in s)return r(d,u);if(h in t)return r(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,h)=>n(Ta(d),Ta(u),h,!0)};return y.forEach(Object.keys({...t,...s}),function(u){const h=c[u]||n,x=h(t[u],s[u],u);y.isUndefined(x)&&h!==l||(a[u]=x)}),a}const Wr=t=>{const s=nt({},t);let{data:a,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:l}=s;s.headers=o=Ee.from(o),s.url=Ur(Hr(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(y.isFormData(a)){if(ye.hasStandardBrowserEnv||ye.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...u]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...u].join("; "))}}if(ye.hasStandardBrowserEnv&&(r&&y.isFunction(r)&&(r=r(s)),r||r!==!1&&ql(s.url))){const d=n&&i&&$l.read(i);d&&o.set(n,d)}return s},Bl=typeof XMLHttpRequest<"u",Ql=Bl&&function(t){return new Promise(function(a,r){const n=Wr(t);let i=n.data;const o=Ee.from(n.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=n,u,h,x,f,p;function C(){f&&f(),p&&p(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let S=new XMLHttpRequest;S.open(n.method.toUpperCase(),n.url,!0),S.timeout=n.timeout;function k(){if(!S)return;const w=Ee.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),R={data:!l||l==="text"||l==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:w,config:t,request:S};Kr(function(L){a(L),C()},function(L){r(L),C()},R),S=null}"onloadend"in S?S.onloadend=k:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(k)},S.onabort=function(){S&&(r(new K("Request aborted",K.ECONNABORTED,t,S)),S=null)},S.onerror=function(){r(new K("Network Error",K.ERR_NETWORK,t,S)),S=null},S.ontimeout=function(){let E=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const R=n.transitional||zr;n.timeoutErrorMessage&&(E=n.timeoutErrorMessage),r(new K(E,R.clarifyTimeoutError?K.ETIMEDOUT:K.ECONNABORTED,t,S)),S=null},i===void 0&&o.setContentType(null),"setRequestHeader"in S&&y.forEach(o.toJSON(),function(E,R){S.setRequestHeader(R,E)}),y.isUndefined(n.withCredentials)||(S.withCredentials=!!n.withCredentials),l&&l!=="json"&&(S.responseType=n.responseType),d&&([x,p]=as(d,!0),S.addEventListener("progress",x)),c&&S.upload&&([h,f]=as(c),S.upload.addEventListener("progress",h),S.upload.addEventListener("loadend",f)),(n.cancelToken||n.signal)&&(u=w=>{S&&(r(!w||w.type?new ht(null,t,S):w),S.abort(),S=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const N=Ml(n.url);if(N&&ye.protocols.indexOf(N)===-1){r(new K("Unsupported protocol "+N+":",K.ERR_BAD_REQUEST,t));return}S.send(i||null)})},Kl=(t,s)=>{const{length:a}=t=t?t.filter(Boolean):[];if(s||a){let r=new AbortController,n;const i=function(d){if(!n){n=!0,l();const u=d instanceof Error?d:this.reason;r.abort(u instanceof K?u:new ht(u instanceof Error?u.message:u))}};let o=s&&setTimeout(()=>{o=null,i(new K(`timeout ${s} of ms exceeded`,K.ETIMEDOUT))},s);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),t=null)};t.forEach(d=>d.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>y.asap(l),c}},Hl=function*(t,s){let a=t.byteLength;if(a<s){yield t;return}let r=0,n;for(;r<a;)n=r+s,yield t.slice(r,n),r=n},Wl=async function*(t,s){for await(const a of Vl(t))yield*Hl(a,s)},Vl=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:a,value:r}=await s.read();if(a)break;yield r}}finally{await s.cancel()}},_a=(t,s,a,r)=>{const n=Wl(t,s);let i=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await n.next();if(d){l(),c.close();return}let h=u.byteLength;if(a){let x=i+=h;a(x)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),n.return()}},{highWaterMark:2})},gs=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Vr=gs&&typeof ReadableStream=="function",Gl=gs&&(typeof TextEncoder=="function"?(t=>s=>t.encode(s))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Gr=(t,...s)=>{try{return!!t(...s)}catch{return!1}},Jl=Vr&&Gr(()=>{let t=!1;const s=new Request(ye.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!s}),Ma=64*1024,Gs=Vr&&Gr(()=>y.isReadableStream(new Response("").body)),rs={stream:Gs&&(t=>t.body)};gs&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!rs[s]&&(rs[s]=y.isFunction(t[s])?a=>a[s]():(a,r)=>{throw new K(`Response type '${s}' is not supported`,K.ERR_NOT_SUPPORT,r)})})})(new Response);const Yl=async t=>{if(t==null)return 0;if(y.isBlob(t))return t.size;if(y.isSpecCompliantForm(t))return(await new Request(ye.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(y.isArrayBufferView(t)||y.isArrayBuffer(t))return t.byteLength;if(y.isURLSearchParams(t)&&(t=t+""),y.isString(t))return(await Gl(t)).byteLength},Xl=async(t,s)=>{const a=y.toFiniteNumber(t.getContentLength());return a??Yl(s)},Zl=gs&&(async t=>{let{url:s,method:a,data:r,signal:n,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:u,withCredentials:h="same-origin",fetchOptions:x}=Wr(t);d=d?(d+"").toLowerCase():"text";let f=Kl([n,i&&i.toAbortSignal()],o),p;const C=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let S;try{if(c&&Jl&&a!=="get"&&a!=="head"&&(S=await Xl(u,r))!==0){let R=new Request(s,{method:"POST",body:r,duplex:"half"}),T;if(y.isFormData(r)&&(T=R.headers.get("content-type"))&&u.setContentType(T),R.body){const[L,A]=Fa(S,as(Da(c)));r=_a(R.body,Ma,L,A)}}y.isString(h)||(h=h?"include":"omit");const k="credentials"in Request.prototype;p=new Request(s,{...x,signal:f,method:a.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:k?h:void 0});let N=await fetch(p,x);const w=Gs&&(d==="stream"||d==="response");if(Gs&&(l||w&&C)){const R={};["status","statusText","headers"].forEach(v=>{R[v]=N[v]});const T=y.toFiniteNumber(N.headers.get("content-length")),[L,A]=l&&Fa(T,as(Da(l),!0))||[];N=new Response(_a(N.body,Ma,L,()=>{A&&A(),C&&C()}),R)}d=d||"text";let E=await rs[y.findKey(rs,d)||"text"](N,t);return!w&&C&&C(),await new Promise((R,T)=>{Kr(R,T,{data:E,headers:Ee.from(N.headers),status:N.status,statusText:N.statusText,config:t,request:p})})}catch(k){throw C&&C(),k&&k.name==="TypeError"&&/Load failed|fetch/i.test(k.message)?Object.assign(new K("Network Error",K.ERR_NETWORK,t,p),{cause:k.cause||k}):K.from(k,k&&k.code,t,p)}}),Js={http:hl,xhr:Ql,fetch:Zl};y.forEach(Js,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const La=t=>`- ${t}`,ec=t=>y.isFunction(t)||t===null||t===!1,Jr={getAdapter:t=>{t=y.isArray(t)?t:[t];const{length:s}=t;let a,r;const n={};for(let i=0;i<s;i++){a=t[i];let o;if(r=a,!ec(a)&&(r=Js[(o=String(a)).toLowerCase()],r===void 0))throw new K(`Unknown adapter '${o}'`);if(r)break;n[o||"#"+i]=r}if(!r){const i=Object.entries(n).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=s?i.length>1?`since :
`+i.map(La).join(`
`):" "+La(i[0]):"as no adapter specified";throw new K("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Js};function As(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ht(null,t)}function Ia(t){return As(t),t.headers=Ee.from(t.headers),t.data=Rs.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Jr.getAdapter(t.adapter||Ft.adapter)(t).then(function(r){return As(t),r.data=Rs.call(t,t.transformResponse,r),r.headers=Ee.from(r.headers),r},function(r){return Qr(r)||(As(t),r&&r.response&&(r.response.data=Rs.call(t,t.transformResponse,r.response),r.response.headers=Ee.from(r.response.headers))),Promise.reject(r)})}const Yr="1.11.0",ys={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{ys[t]=function(r){return typeof r===t||"a"+(s<1?"n ":" ")+t}});const qa={};ys.transitional=function(s,a,r){function n(i,o){return"[Axios v"+Yr+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(s===!1)throw new K(n(o," has been removed"+(a?" in "+a:"")),K.ERR_DEPRECATED);return a&&!qa[o]&&(qa[o]=!0,console.warn(n(o," has been deprecated since v"+a+" and will be removed in the near future"))),s?s(i,o,l):!0}};ys.spelling=function(s){return(a,r)=>(console.warn(`${r} is likely a misspelling of ${s}`),!0)};function tc(t,s,a){if(typeof t!="object")throw new K("options must be an object",K.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let n=r.length;for(;n-- >0;){const i=r[n],o=s[i];if(o){const l=t[i],c=l===void 0||o(l,i,t);if(c!==!0)throw new K("option "+i+" must be "+c,K.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new K("Unknown option "+i,K.ERR_BAD_OPTION)}}const Kt={assertOptions:tc,validators:ys},qe=Kt.validators;let st=class{constructor(s){this.defaults=s||{},this.interceptors={request:new Ra,response:new Ra}}async request(s,a){try{return await this._request(s,a)}catch(r){if(r instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(s,a){typeof s=="string"?(a=a||{},a.url=s):a=s||{},a=nt(this.defaults,a);const{transitional:r,paramsSerializer:n,headers:i}=a;r!==void 0&&Kt.assertOptions(r,{silentJSONParsing:qe.transitional(qe.boolean),forcedJSONParsing:qe.transitional(qe.boolean),clarifyTimeoutError:qe.transitional(qe.boolean)},!1),n!=null&&(y.isFunction(n)?a.paramsSerializer={serialize:n}:Kt.assertOptions(n,{encode:qe.function,serialize:qe.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),Kt.assertOptions(a,{baseUrl:qe.spelling("baseURL"),withXsrfToken:qe.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let o=i&&y.merge(i.common,i[a.method]);i&&y.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),a.headers=Ee.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(a)===!1||(c=c&&C.synchronous,l.unshift(C.fulfilled,C.rejected))});const d=[];this.interceptors.response.forEach(function(C){d.push(C.fulfilled,C.rejected)});let u,h=0,x;if(!c){const p=[Ia.bind(this),void 0];for(p.unshift(...l),p.push(...d),x=p.length,u=Promise.resolve(a);h<x;)u=u.then(p[h++],p[h++]);return u}x=l.length;let f=a;for(h=0;h<x;){const p=l[h++],C=l[h++];try{f=p(f)}catch(S){C.call(this,S);break}}try{u=Ia.call(this,f)}catch(p){return Promise.reject(p)}for(h=0,x=d.length;h<x;)u=u.then(d[h++],d[h++]);return u}getUri(s){s=nt(this.defaults,s);const a=Hr(s.baseURL,s.url,s.allowAbsoluteUrls);return Ur(a,s.params,s.paramsSerializer)}};y.forEach(["delete","get","head","options"],function(s){st.prototype[s]=function(a,r){return this.request(nt(r||{},{method:s,url:a,data:(r||{}).data}))}});y.forEach(["post","put","patch"],function(s){function a(r){return function(i,o,l){return this.request(nt(l||{},{method:s,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}st.prototype[s]=a(),st.prototype[s+"Form"]=a(!0)});let sc=class Xr{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(i){a=i});const r=this;this.promise.then(n=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](n);r._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},s(function(i,o,l){r.reason||(r.reason=new ht(i,o,l),a(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const a=this._listeners.indexOf(s);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const s=new AbortController,a=r=>{s.abort(r)};return this.subscribe(a),s.signal.unsubscribe=()=>this.unsubscribe(a),s.signal}static source(){let s;return{token:new Xr(function(n){s=n}),cancel:s}}};function ac(t){return function(a){return t.apply(null,a)}}function rc(t){return y.isObject(t)&&t.isAxiosError===!0}const Ys={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ys).forEach(([t,s])=>{Ys[s]=t});function Zr(t){const s=new st(t),a=Or(st.prototype.request,s);return y.extend(a,st.prototype,s,{allOwnKeys:!0}),y.extend(a,s,null,{allOwnKeys:!0}),a.create=function(n){return Zr(nt(t,n))},a}const ne=Zr(Ft);ne.Axios=st;ne.CanceledError=ht;ne.CancelToken=sc;ne.isCancel=Qr;ne.VERSION=Yr;ne.toFormData=fs;ne.AxiosError=K;ne.Cancel=ne.CanceledError;ne.all=function(s){return Promise.all(s)};ne.spread=ac;ne.isAxiosError=rc;ne.mergeConfig=nt;ne.AxiosHeaders=Ee;ne.formToJSON=t=>Br(y.isHTMLForm(t)?new FormData(t):t);ne.getAdapter=Jr.getAdapter;ne.HttpStatusCode=Ys;ne.default=ne;const{Axios:Ou,AxiosError:Ru,CanceledError:Au,isCancel:Fu,CancelToken:Du,VERSION:Tu,all:_u,Cancel:Mu,isAxiosError:Lu,spread:Iu,toFormData:qu,AxiosHeaders:$u,HttpStatusCode:Uu,formToJSON:zu,getAdapter:Bu,mergeConfig:Qu}=ne,M=ne.create({baseURL:"http://localhost:3001",timeout:1e4,headers:{"Content-Type":"application/json"}});M.interceptors.request.use(t=>{const s=localStorage.getItem("ediens_token");return s&&(t.headers.Authorization=`Bearer ${s}`),t},t=>Promise.reject(t));M.interceptors.response.use(t=>t,async t=>{var a;const s=t.config;if(((a=t.response)==null?void 0:a.status)===401&&!s._retry){s._retry=!0;try{const r=localStorage.getItem("ediens_refresh_token");if(r){const i=(await M.post("/api/auth/refresh",{refreshToken:r})).data.token;return localStorage.setItem("ediens_token",i),s.headers.Authorization=`Bearer ${i}`,M(s)}}catch(r){return localStorage.removeItem("ediens_token"),localStorage.removeItem("ediens_refresh_token"),window.location.href="/login",Promise.reject(r)}}return Promise.reject(t)});const Ke={register:async t=>{try{return(await M.post("/api/auth/register",t)).data}catch(s){throw s}},login:async(t,s)=>{try{return(await M.post("/api/auth/login",{email:t,password:s})).data}catch(a){throw a}},getProfile:async()=>{try{return(await M.get("/api/auth/profile")).data}catch(t){throw t}},updateProfile:async t=>{try{return(await M.put("/api/auth/profile",t)).data}catch(s){throw s}},updateLocation:async t=>{try{return(await M.put("/api/auth/location",t)).data}catch(s){throw s}},refreshToken:async t=>{try{return(await M.post("/api/auth/refresh",{refreshToken:t})).data}catch(s){throw s}},logout:async()=>{try{return(await M.post("/api/auth/logout")).data}catch(t){throw t}},googleAuth:()=>{const t="http://localhost:3001/api/auth/google";window.location.href=t},facebookAuth:()=>{const t="http://localhost:3001/api/auth/facebook";window.location.href=t},validateEmail:async t=>{try{return(await M.post("/api/auth/validate-email",{email:t})).data}catch(s){throw s}},requestPasswordReset:async t=>{try{return(await M.post("/api/auth/forgot-password",{email:t})).data}catch(s){throw s}},resetPassword:async(t,s)=>{try{return(await M.post("/api/auth/reset-password",{token:t,newPassword:s})).data}catch(a){throw a}},changePassword:async(t,s)=>{try{return(await M.post("/api/auth/change-password",{currentPassword:t,newPassword:s})).data}catch(a){throw a}},verifyEmail:async t=>{try{return(await M.post("/api/auth/verify-email",{token:t})).data}catch(s){throw s}},resendEmailVerification:async()=>{try{return(await M.post("/api/auth/resend-verification")).data}catch(t){throw t}},deleteAccount:async t=>{try{return(await M.delete("/api/auth/account",{data:{password:t}})).data}catch(s){throw s}},getUserStats:async()=>{try{return(await M.get("/api/users/stats/me")).data}catch(t){throw t}},updatePreferences:async t=>{try{return(await M.put("/api/users/preferences",t)).data}catch(s){throw s}},uploadAvatar:async t=>{try{const s=new FormData;return s.append("avatar",t),(await M.post("/api/auth/avatar",s,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(s){throw s}},checkEmailExists:async t=>{try{return(await M.post("/api/auth/check-email",{email:t})).data}catch(s){throw s}},getOAuthProviders:async()=>{try{return(await M.get("/api/auth/oauth/providers")).data}catch(t){throw t}},linkOAuthAccount:async(t,s)=>{try{return(await M.post("/api/auth/oauth/link",{provider:t,code:s})).data}catch(a){throw a}},unlinkOAuthAccount:async t=>{try{return(await M.delete(`/api/auth/oauth/unlink/${t}`)).data}catch(s){throw s}},getLoginHistory:async()=>{try{return(await M.get("/api/auth/login-history")).data}catch(t){throw t}},enable2FA:async()=>{try{return(await M.post("/api/auth/2fa/enable")).data}catch(t){throw t}},disable2FA:async t=>{try{return(await M.post("/api/auth/2fa/disable",{code:t})).data}catch(s){throw s}},verify2FA:async t=>{try{return(await M.post("/api/auth/2fa/verify",{code:t})).data}catch(s){throw s}},getBackupCodes:async()=>{try{return(await M.get("/api/auth/2fa/backup-codes")).data}catch(t){throw t}},generateBackupCodes:async()=>{try{return(await M.post("/api/auth/2fa/backup-codes")).data}catch(t){throw t}}},Y={SET_LOADING:"SET_LOADING",SET_USER:"SET_USER",SET_TOKEN:"SET_TOKEN",LOGOUT:"LOGOUT",SET_ERROR:"SET_ERROR",CLEAR_ERROR:"CLEAR_ERROR",UPDATE_USER:"UPDATE_USER"},nc={user:null,token:localStorage.getItem("ediens_token")||null,isLoading:!1,error:null,isAuthenticated:!1},ic=(t,s)=>{switch(s.type){case Y.SET_LOADING:return{...t,isLoading:s.payload};case Y.SET_USER:return{...t,user:s.payload,isAuthenticated:!!s.payload,isLoading:!1,error:null};case Y.SET_TOKEN:return{...t,token:s.payload,isAuthenticated:!!s.payload};case Y.LOGOUT:return{...t,user:null,token:null,isAuthenticated:!1,error:null};case Y.SET_ERROR:return{...t,error:s.payload,isLoading:!1};case Y.CLEAR_ERROR:return{...t,error:null};case Y.UPDATE_USER:return{...t,user:{...t.user,...s.payload}};default:return t}},en=g.createContext(),oc=({children:t})=>{const[s,a]=g.useReducer(ic,nc),r=Pe();g.useEffect(()=>{(async()=>{if(localStorage.getItem("ediens_token"))try{a({type:Y.SET_LOADING,payload:!0});const w=await Ke.getProfile();a({type:Y.SET_USER,payload:w.user})}catch(w){console.error("Auth check failed:",w),localStorage.removeItem("ediens_token"),a({type:Y.LOGOUT})}})()},[]);const n=async(k,N)=>{var w,E;try{a({type:Y.SET_LOADING,payload:!0}),a({type:Y.CLEAR_ERROR});const R=await Ke.login(k,N);return localStorage.setItem("ediens_token",R.token),a({type:Y.SET_TOKEN,payload:R.token}),a({type:Y.SET_USER,payload:R.user}),W.success("Login successful!"),R}catch(R){const T=((E=(w=R.response)==null?void 0:w.data)==null?void 0:E.error)||"Login failed";throw a({type:Y.SET_ERROR,payload:T}),W.error(T),R}},i=async k=>{var N,w;try{a({type:Y.SET_LOADING,payload:!0}),a({type:Y.CLEAR_ERROR});const E=await Ke.register(k);return localStorage.setItem("ediens_token",E.token),a({type:Y.SET_TOKEN,payload:E.token}),a({type:Y.SET_USER,payload:E.user}),W.success("Registration successful! Welcome to Ediens!"),E}catch(E){const R=((w=(N=E.response)==null?void 0:N.data)==null?void 0:w.error)||"Registration failed";throw a({type:Y.SET_ERROR,payload:R}),W.error(R),E}},o=async()=>{try{s.token&&await Ke.logout()}catch(k){console.error("Logout API call failed:",k)}finally{localStorage.removeItem("ediens_token"),a({type:Y.LOGOUT}),W.success("Logged out successfully")}},l=async k=>{var N,w;try{a({type:Y.SET_LOADING,payload:!0});const E=await Ke.updateProfile(k);return a({type:Y.UPDATE_USER,payload:E.user}),W.success("Profile updated successfully!"),E}catch(E){const R=((w=(N=E.response)==null?void 0:N.data)==null?void 0:w.error)||"Profile update failed";throw W.error(R),E}},c=async k=>{var N,w;try{a({type:Y.SET_LOADING,payload:!0});const E=await Ke.updateLocation(k);return a({type:Y.UPDATE_USER,payload:{location:E.location}}),W.success("Location updated successfully!"),E}catch(E){const R=((w=(N=E.response)==null?void 0:N.data)==null?void 0:w.error)||"Location update failed";throw W.error(R),E}},d=async()=>{try{const k=localStorage.getItem("ediens_refresh_token");if(!k)throw new Error("No refresh token available");const N=await Ke.refreshToken(k);return localStorage.setItem("ediens_token",N.token),a({type:Y.SET_TOKEN,payload:N.token}),N}catch(k){throw console.error("Token refresh failed:",k),await o(),k}},u=()=>{const k="undefined/api/auth/google";window.location.href=k},h=()=>{const k="undefined/api/auth/facebook";window.location.href=k},x=k=>{localStorage.setItem("ediens_token",k),a({type:Y.SET_TOKEN,payload:k}),Ke.getProfile().then(N=>{a({type:Y.SET_USER,payload:N.user}),W.success("Login successful!"),r("/dashboard")}).catch(N=>{console.error("Failed to get user profile:",N),W.error("Login failed. Please try again.")})},f=k=>{if(!s.user)return!1;switch(k){case"create_post":return!0;case"business_features":return s.user.isBusiness;case"premium_features":return s.user.isPremium&&s.user.hasActivePremium;case"admin":return s.user.role==="admin";default:return!1}},p=()=>{var k;return((k=s.user)==null?void 0:k.ecoPoints)||0},C=k=>{s.user&&a({type:Y.UPDATE_USER,payload:{ecoPoints:s.user.ecoPoints+k}})},S={user:s.user,token:s.token,isLoading:s.isLoading,error:s.error,isAuthenticated:s.isAuthenticated,login:n,register:i,logout:o,updateProfile:l,updateLocation:c,refreshToken:d,loginWithGoogle:u,loginWithFacebook:h,handleOAuthCallback:x,hasPermission:f,getEcoPoints:p,addEcoPoints:C,dispatch:a};return e.jsx(en.Provider,{value:S,children:t})},Oe=()=>{const t=g.useContext(en);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},_e={ADD_NOTIFICATION:"ADD_NOTIFICATION",MARK_AS_READ:"MARK_AS_READ",MARK_ALL_AS_READ:"MARK_ALL_AS_READ",REMOVE_NOTIFICATION:"REMOVE_NOTIFICATION",CLEAR_ALL:"CLEAR_ALL",SET_NOTIFICATIONS:"SET_NOTIFICATIONS"},lc={notifications:[],unreadCount:0,isLoading:!1,error:null},cc=(t,s)=>{switch(s.type){case _e.ADD_NOTIFICATION:const a={...s.payload,id:Date.now(),timestamp:new Date().toISOString(),isRead:!1};return{...t,notifications:[a,...t.notifications],unreadCount:t.unreadCount+1};case _e.MARK_AS_READ:return{...t,notifications:t.notifications.map(n=>n.id===s.payload?{...n,isRead:!0}:n),unreadCount:Math.max(0,t.unreadCount-1)};case _e.MARK_ALL_AS_READ:return{...t,notifications:t.notifications.map(n=>({...n,isRead:!0})),unreadCount:0};case _e.REMOVE_NOTIFICATION:const r=t.notifications.find(n=>n.id===s.payload);return{...t,notifications:t.notifications.filter(n=>n.id!==s.payload),unreadCount:r!=null&&r.isRead?t.unreadCount:Math.max(0,t.unreadCount-1)};case _e.CLEAR_ALL:return{...t,notifications:[],unreadCount:0};case _e.SET_NOTIFICATIONS:return{...t,notifications:s.payload,unreadCount:s.payload.filter(n=>!n.isRead).length};default:return t}},tn=g.createContext(),dc=({children:t})=>{const[s,a]=g.useReducer(cc,lc),{user:r,isAuthenticated:n}=Oe(),h={...s,addNotification:x=>{a({type:_e.ADD_NOTIFICATION,payload:x}),x.type==="success"?W.success(x.message):x.type==="error"?W.error(x.message):x.type==="warning"?W(x.message,{icon:"⚠️"}):W(x.message)},markAsRead:x=>{a({type:_e.MARK_AS_READ,payload:x})},markAllAsRead:()=>{a({type:_e.MARK_ALL_AS_READ})},removeNotification:x=>{a({type:_e.REMOVE_NOTIFICATION,payload:x})},clearAll:()=>{a({type:_e.CLEAR_ALL})},setNotifications:x=>{a({type:_e.SET_NOTIFICATIONS,payload:x})}};return e.jsx(tn.Provider,{value:h,children:t})},sn=()=>{const t=g.useContext(tn);if(!t)throw new Error("useNotifications must be used within a NotificationProvider");return t},ke={FOOD_POSTED:"food_posted",FOOD_CLAIMED:"food_claimed",MESSAGE_RECEIVED:"message_received",CLAIM_ACCEPTED:"claim_accepted",CLAIM_REJECTED:"claim_rejected",ECO_POINTS_EARNED:"eco_points_earned",SYSTEM_UPDATE:"system_update"},Xe=(t,s)=>{const a={type:"info",message:"",icon:"🍽️",actionUrl:null};switch(t){case ke.FOOD_POSTED:return{...a,type:"success",message:`New food post: ${s.title}`,icon:"🥘",actionUrl:`/post/${s.id}`};case ke.FOOD_CLAIMED:return{...a,type:"info",message:`Someone claimed your food: ${s.title}`,icon:"✅",actionUrl:`/messages/${s.userId}`};case ke.MESSAGE_RECEIVED:return{...a,type:"info",message:`New message from ${s.senderName}`,icon:"💬",actionUrl:`/messages/${s.senderId}`};case ke.CLAIM_ACCEPTED:return{...a,type:"success",message:`Your claim was accepted: ${s.title}`,icon:"🎉",actionUrl:`/messages/${s.userId}`};case ke.CLAIM_REJECTED:return{...a,type:"warning",message:`Your claim was rejected: ${s.title}`,icon:"❌",actionUrl:`/post/${s.id}`};case ke.ECO_POINTS_EARNED:return{...a,type:"success",message:`You earned ${s.points} eco points!`,icon:"🌱",actionUrl:"/profile"};case ke.SYSTEM_UPDATE:return{...a,type:"info",message:s.message,icon:"🔔",actionUrl:s.actionUrl};default:return{...a,message:s.message||"New notification",icon:s.icon||"🔔",actionUrl:s.actionUrl}}};function Xs(t){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Xs(t)}function Ie(t,s){if(s.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+s.length+" present")}function ve(t){Ie(1,arguments);var s=Object.prototype.toString.call(t);return t instanceof Date||Xs(t)==="object"&&s==="[object Date]"?new Date(t.getTime()):typeof t=="number"||s==="[object Number]"?new Date(t):((typeof t=="string"||s==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}var uc={};function mc(){return uc}function $a(t){var s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),t.getTime()-s.getTime()}function Ht(t,s){Ie(2,arguments);var a=ve(t),r=ve(s),n=a.getTime()-r.getTime();return n<0?-1:n>0?1:n}function pc(t,s){Ie(2,arguments);var a=ve(t),r=ve(s),n=a.getFullYear()-r.getFullYear(),i=a.getMonth()-r.getMonth();return n*12+i}function hc(t,s){return Ie(2,arguments),ve(t).getTime()-ve(s).getTime()}var xc={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(s){return s<0?Math.ceil(s):Math.floor(s)}},fc="trunc";function gc(t){return xc[fc]}function yc(t){Ie(1,arguments);var s=ve(t);return s.setHours(23,59,59,999),s}function vc(t){Ie(1,arguments);var s=ve(t),a=s.getMonth();return s.setFullYear(s.getFullYear(),a+1,0),s.setHours(23,59,59,999),s}function bc(t){Ie(1,arguments);var s=ve(t);return yc(s).getTime()===vc(s).getTime()}function jc(t,s){Ie(2,arguments);var a=ve(t),r=ve(s),n=Ht(a,r),i=Math.abs(pc(a,r)),o;if(i<1)o=0;else{a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-n*i);var l=Ht(a,r)===-n;bc(ve(t))&&i===1&&Ht(t,r)===1&&(l=!1),o=n*(i-Number(l))}return o===0?0:o}function Nc(t,s,a){Ie(2,arguments);var r=hc(t,s)/1e3;return gc()(r)}var wc={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kc=function(s,a,r){var n,i=wc[s];return typeof i=="string"?n=i:a===1?n=i.one:n=i.other.replace("{{count}}",a.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Fs(t){return function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=s.width?String(s.width):t.defaultWidth,r=t.formats[a]||t.formats[t.defaultWidth];return r}}var Cc={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Sc={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ec={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Pc={date:Fs({formats:Cc,defaultWidth:"full"}),time:Fs({formats:Sc,defaultWidth:"full"}),dateTime:Fs({formats:Ec,defaultWidth:"full"})},Oc={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Rc=function(s,a,r,n){return Oc[s]};function gt(t){return function(s,a){var r=a!=null&&a.context?String(a.context):"standalone",n;if(r==="formatting"&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,o=a!=null&&a.width?String(a.width):i;n=t.formattingValues[o]||t.formattingValues[i]}else{var l=t.defaultWidth,c=a!=null&&a.width?String(a.width):t.defaultWidth;n=t.values[c]||t.values[l]}var d=t.argumentCallback?t.argumentCallback(s):s;return n[d]}}var Ac={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Fc={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Dc={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Tc={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_c={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Mc={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Lc=function(s,a){var r=Number(s),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Ic={ordinalNumber:Lc,era:gt({values:Ac,defaultWidth:"wide"}),quarter:gt({values:Fc,defaultWidth:"wide",argumentCallback:function(s){return s-1}}),month:gt({values:Dc,defaultWidth:"wide"}),day:gt({values:Tc,defaultWidth:"wide"}),dayPeriod:gt({values:_c,defaultWidth:"wide",formattingValues:Mc,defaultFormattingWidth:"wide"})};function yt(t){return function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=a.width,n=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=s.match(n);if(!i)return null;var o=i[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?$c(l,function(h){return h.test(o)}):qc(l,function(h){return h.test(o)}),d;d=t.valueCallback?t.valueCallback(c):c,d=a.valueCallback?a.valueCallback(d):d;var u=s.slice(o.length);return{value:d,rest:u}}}function qc(t,s){for(var a in t)if(t.hasOwnProperty(a)&&s(t[a]))return a}function $c(t,s){for(var a=0;a<t.length;a++)if(s(t[a]))return a}function Uc(t){return function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=s.match(t.matchPattern);if(!r)return null;var n=r[0],i=s.match(t.parsePattern);if(!i)return null;var o=t.valueCallback?t.valueCallback(i[0]):i[0];o=a.valueCallback?a.valueCallback(o):o;var l=s.slice(n.length);return{value:o,rest:l}}}var zc=/^(\d+)(th|st|nd|rd)?/i,Bc=/\d+/i,Qc={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Kc={any:[/^b/i,/^(a|c)/i]},Hc={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Wc={any:[/1/i,/2/i,/3/i,/4/i]},Vc={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Gc={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Jc={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Yc={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Xc={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Zc={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ed={ordinalNumber:Uc({matchPattern:zc,parsePattern:Bc,valueCallback:function(s){return parseInt(s,10)}}),era:yt({matchPatterns:Qc,defaultMatchWidth:"wide",parsePatterns:Kc,defaultParseWidth:"any"}),quarter:yt({matchPatterns:Hc,defaultMatchWidth:"wide",parsePatterns:Wc,defaultParseWidth:"any",valueCallback:function(s){return s+1}}),month:yt({matchPatterns:Vc,defaultMatchWidth:"wide",parsePatterns:Gc,defaultParseWidth:"any"}),day:yt({matchPatterns:Jc,defaultMatchWidth:"wide",parsePatterns:Yc,defaultParseWidth:"any"}),dayPeriod:yt({matchPatterns:Xc,defaultMatchWidth:"any",parsePatterns:Zc,defaultParseWidth:"any"})},td={code:"en-US",formatDistance:kc,formatLong:Pc,formatRelative:Rc,localize:Ic,match:ed,options:{weekStartsOn:0,firstWeekContainsDate:1}};function an(t,s){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);return t}function sd(t){return an({},t)}var Ua=1440,ad=2520,Ds=43200,rd=86400;function nd(t,s,a){var r,n;Ie(2,arguments);var i=mc(),o=(r=(n=a==null?void 0:a.locale)!==null&&n!==void 0?n:i.locale)!==null&&r!==void 0?r:td;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=Ht(t,s);if(isNaN(l))throw new RangeError("Invalid time value");var c=an(sd(a),{addSuffix:!!(a!=null&&a.addSuffix),comparison:l}),d,u;l>0?(d=ve(s),u=ve(t)):(d=ve(t),u=ve(s));var h=Nc(u,d),x=($a(u)-$a(d))/1e3,f=Math.round((h-x)/60),p;if(f<2)return a!=null&&a.includeSeconds?h<5?o.formatDistance("lessThanXSeconds",5,c):h<10?o.formatDistance("lessThanXSeconds",10,c):h<20?o.formatDistance("lessThanXSeconds",20,c):h<40?o.formatDistance("halfAMinute",0,c):h<60?o.formatDistance("lessThanXMinutes",1,c):o.formatDistance("xMinutes",1,c):f===0?o.formatDistance("lessThanXMinutes",1,c):o.formatDistance("xMinutes",f,c);if(f<45)return o.formatDistance("xMinutes",f,c);if(f<90)return o.formatDistance("aboutXHours",1,c);if(f<Ua){var C=Math.round(f/60);return o.formatDistance("aboutXHours",C,c)}else{if(f<ad)return o.formatDistance("xDays",1,c);if(f<Ds){var S=Math.round(f/Ua);return o.formatDistance("xDays",S,c)}else if(f<rd)return p=Math.round(f/Ds),o.formatDistance("aboutXMonths",p,c)}if(p=jc(u,d),p<12){var k=Math.round(f/Ds);return o.formatDistance("xMonths",k,c)}else{var N=p%12,w=Math.floor(p/12);return N<3?o.formatDistance("aboutXYears",w,c):N<9?o.formatDistance("overXYears",w,c):o.formatDistance("almostXYears",w+1,c)}}function id(t,s){return Ie(1,arguments),nd(t,Date.now(),s)}const od=()=>{const[t,s]=g.useState(!1),a=g.useRef(null),{notifications:r,unreadCount:n,markAsRead:i,markAllAsRead:o,removeNotification:l,clearAll:c}=sn();g.useEffect(()=>{const p=C=>{a.current&&!a.current.contains(C.target)&&s(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const d=p=>{switch(p.type){case"success":return e.jsx(Ce,{className:"w-5 h-5 text-green-500"});case"error":return e.jsx(ha,{className:"w-5 h-5 text-red-500"});case"warning":return e.jsx(ha,{className:"w-5 h-5 text-yellow-500"});default:return e.jsx(Pn,{className:"w-5 h-5 text-blue-500"})}},u=p=>{switch(p.type){case"success":return"border-l-green-500 bg-green-50";case"error":return"border-l-red-500 bg-red-50";case"warning":return"border-l-yellow-500 bg-yellow-50";default:return"border-l-blue-500 bg-blue-50"}},h=p=>{p.isRead||i(p.id),s(!1)},x=()=>{o()},f=()=>{c()};return e.jsxs("div",{className:"relative",ref:a,children:[e.jsxs("button",{onClick:()=>s(!t),className:"relative p-2 text-gray-600 hover:text-primary-600 hover:bg-gray-50 rounded-lg transition-colors",children:[e.jsx(Ms,{className:"w-5 h-5"}),n>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-secondary-500 text-white text-xs rounded-full flex items-center justify-center font-medium",children:n>99?"99+":n})]}),t&&e.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-large border border-gray-100 py-2 z-50 max-h-96 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Notifications"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[n>0&&e.jsx("button",{onClick:x,className:"text-xs text-primary-600 hover:text-primary-700 font-medium",children:"Mark all read"}),r.length>0&&e.jsx("button",{onClick:f,className:"text-xs text-red-600 hover:text-red-700 font-medium",children:"Clear all"})]})]}),e.jsx("div",{className:"overflow-y-auto max-h-80",children:r.length===0?e.jsxs("div",{className:"px-4 py-8 text-center",children:[e.jsx(Ms,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No notifications yet"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"You'll see updates about food posts and messages here"})]}):e.jsx("div",{className:"divide-y divide-gray-100",children:r.map(p=>e.jsxs("div",{className:`px-4 py-3 hover:bg-gray-50 transition-colors cursor-pointer border-l-4 ${u(p)} ${p.isRead?"":"bg-blue-50"}`,onClick:()=>h(p),children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:p.icon?e.jsx("span",{className:"text-lg",children:p.icon}):d(p)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`text-sm font-medium ${p.isRead?"text-gray-700":"text-gray-900"}`,children:p.message}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:id(new Date(p.timestamp),{addSuffix:!0})})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[!p.isRead&&e.jsx("button",{onClick:C=>{C.stopPropagation(),i(p.id)},className:"p-1 text-gray-400 hover:text-green-600 transition-colors",title:"Mark as read",children:e.jsx(tr,{className:"w-3 h-3"})}),e.jsx("button",{onClick:C=>{C.stopPropagation(),l(p.id)},className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Remove notification",children:e.jsx(cs,{className:"w-3 h-3"})})]})]}),p.actionUrl&&e.jsx("div",{className:"mt-2",children:e.jsx(q,{to:p.actionUrl,className:"text-xs text-primary-600 hover:text-primary-700 font-medium",onClick:C=>C.stopPropagation(),children:"View details →"})})]},p.id))})}),r.length>0&&e.jsx("div",{className:"px-4 py-2 border-t border-gray-100 bg-gray-50",children:e.jsx(q,{to:"/notifications",className:"text-xs text-primary-600 hover:text-primary-700 font-medium text-center block",onClick:()=>s(!1),children:"View all notifications"})})]})]})},ld=()=>{const{user:t,logout:s}=Oe(),a=Pe(),r=ls(),[n,i]=g.useState(!1),[o,l]=g.useState(!1),[c,d]=g.useState(""),u=p=>{p.preventDefault(),c.trim()&&a(`/search?q=${encodeURIComponent(c.trim())}`)},h=async()=>{try{await s(),a("/")}catch(p){console.error("Logout error:",p)}},x=p=>r.pathname===p,f=[{path:"/",label:"Home",icon:null},{path:"/map",label:"Map",icon:re},{path:"/trending",label:"Trending",icon:be},{path:"/leaderboard",label:"Leaderboard",icon:null}];return e.jsxs("header",{className:"bg-white shadow-soft border-b border-gray-100 sticky top-0 z-50",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs(q,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-500 to-secondary-500 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"🍽️"})}),e.jsx("span",{className:"text-xl font-bold text-gradient",children:"Ediens"})]}),e.jsx("nav",{className:"hidden md:flex items-center space-x-8",children:f.map(p=>e.jsxs(q,{to:p.path,className:`flex items-center space-x-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${x(p.path)?"text-primary-600 bg-primary-50":"text-gray-600 hover:text-primary-600 hover:bg-gray-50"}`,children:[p.icon&&e.jsx(p.icon,{className:"w-4 h-4"}),e.jsx("span",{children:p.label})]},p.path))}),e.jsx("div",{className:"hidden md:flex flex-1 max-w-md mx-8",children:e.jsx("form",{onSubmit:u,className:"w-full",children:e.jsxs("div",{className:"relative",children:[e.jsx(at,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search for food...",value:c,onChange:p=>d(p.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"})]})})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[t?e.jsxs(e.Fragment,{children:[e.jsxs(q,{to:"/create-post",className:"hidden sm:flex items-center space-x-2 bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors",children:[e.jsx(Te,{className:"w-4 h-4"}),e.jsx("span",{children:"Share Food"})]}),e.jsx(od,{}),e.jsxs(q,{to:"/messages",className:"relative p-2 text-gray-600 hover:text-primary-600 hover:bg-gray-50 rounded-lg transition-colors",children:[e.jsx(Fe,{className:"w-5 h-5"}),e.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-accent-500 rounded-full"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>l(!o),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary-400 to-secondary-400 flex items-center justify-center text-white font-medium",children:t.avatar?e.jsx("img",{src:t.avatar,alt:t.firstName,className:"w-8 h-8 rounded-full object-cover"}):t.firstName.charAt(0).toUpperCase()}),e.jsx("span",{className:"hidden sm:block text-sm font-medium text-gray-700",children:t.firstName})]}),o&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-large border border-gray-100 py-2 z-50",children:[e.jsxs(q,{to:"/profile",className:"flex items-center space-x-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",onClick:()=>l(!1),children:[e.jsx(jt,{className:"w-4 h-4"}),e.jsx("span",{children:"Profile"})]}),e.jsxs(q,{to:"/dashboard",className:"flex items-center space-x-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",onClick:()=>l(!1),children:[e.jsx(Ls,{className:"w-4 h-4"}),e.jsx("span",{children:"Dashboard"})]}),e.jsx("hr",{className:"my-2"}),e.jsxs("button",{onClick:h,className:"flex items-center space-x-2 w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[e.jsx(On,{className:"w-4 h-4"}),e.jsx("span",{children:"Logout"})]})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(q,{to:"/login",className:"text-gray-600 hover:text-primary-600 font-medium transition-colors",children:"Login"}),e.jsx(q,{to:"/register",className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors",children:"Sign Up"})]}),e.jsx("button",{onClick:()=>i(!n),className:"md:hidden p-2 text-gray-600 hover:text-primary-600 hover:bg-gray-50 rounded-lg transition-colors",children:n?e.jsx(Ge,{className:"w-5 h-5"}):e.jsx(Rn,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"md:hidden pb-4",children:e.jsx("form",{onSubmit:u,children:e.jsxs("div",{className:"relative",children:[e.jsx(at,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search for food...",value:c,onChange:p=>d(p.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"})]})})}),n&&e.jsx("div",{className:"md:hidden pb-4 border-t border-gray-100",children:e.jsxs("nav",{className:"flex flex-col space-y-2 pt-4",children:[f.map(p=>e.jsxs(q,{to:p.path,className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${x(p.path)?"text-primary-600 bg-primary-50":"text-gray-600 hover:text-primary-600 hover:bg-gray-50"}`,onClick:()=>i(!1),children:[p.icon&&e.jsx(p.icon,{className:"w-4 h-4"}),e.jsx("span",{children:p.label})]},p.path)),t&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"my-2"}),e.jsxs(q,{to:"/create-post",className:"flex items-center space-x-2 px-3 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors",onClick:()=>i(!1),children:[e.jsx(Te,{className:"w-4 h-4"}),e.jsx("span",{children:"Share Food"})]}),e.jsxs(q,{to:"/profile",className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-primary-600 hover:bg-gray-50 rounded-lg transition-colors",onClick:()=>i(!1),children:[e.jsx(jt,{className:"w-4 h-4"}),e.jsx("span",{children:"Profile"})]}),e.jsxs(q,{to:"/dashboard",className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-primary-600 hover:bg-gray-50 rounded-lg transition-colors",onClick:()=>i(!1),children:[e.jsx(Ls,{className:"w-4 h-4"}),e.jsx("span",{children:"Dashboard"})]})]})]})})]}),(o||n)&&e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>{l(!1),i(!1)}})]})},cd=()=>{const t=new Date().getFullYear(),s={platform:[{name:"How it Works",href:"/how-it-works"},{name:"Safety Guidelines",href:"/safety"},{name:"FAQ",href:"/faq"},{name:"Support",href:"/support"}],features:[{name:"Food Sharing",href:"/features/sharing"},{name:"Business Integration",href:"/features/business"},{name:"Eco Points",href:"/features/eco-points"},{name:"Delivery Options",href:"/features/delivery"}],community:[{name:"Success Stories",href:"/community/stories"},{name:"Volunteer Program",href:"/community/volunteer"},{name:"Partnerships",href:"/community/partnerships"},{name:"Events",href:"/community/events"}],legal:[{name:"Privacy Policy",href:"/legal/privacy"},{name:"Terms of Service",href:"/legal/terms"},{name:"Cookie Policy",href:"/legal/cookies"},{name:"Data Protection",href:"/legal/data-protection"}]},a=[{name:"Facebook",href:"https://facebook.com/ediens",icon:An},{name:"Instagram",href:"https://instagram.com/ediens",icon:Fn},{name:"Twitter",href:"https://twitter.com/ediens",icon:Dn},{name:"LinkedIn",href:"https://linkedin.com/company/ediens",icon:Tn}];return e.jsx("footer",{className:"bg-gray-900 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-500 to-secondary-500 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"🍽️"})}),e.jsx("span",{className:"text-xl font-bold",children:"Ediens"})]}),e.jsx("p",{className:"text-gray-300 mb-6 max-w-md",children:"Connecting communities to reduce food waste and build a more sustainable future. Share, discover, and save food together in Latvia."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 text-gray-300",children:[e.jsx(re,{className:"w-4 h-4 text-primary-400"}),e.jsx("span",{children:"Riga, Latvia"})]}),e.jsxs("div",{className:"flex items-center space-x-3 text-gray-300",children:[e.jsx(ra,{className:"w-4 h-4 text-primary-400"}),e.jsx("a",{href:"mailto:hello@ediens.lv",className:"hover:text-white transition-colors",children:"hello@ediens.lv"})]}),e.jsxs("div",{className:"flex items-center space-x-3 text-gray-300",children:[e.jsx(na,{className:"w-4 h-4 text-primary-400"}),e.jsx("a",{href:"tel:+37120000000",className:"hover:text-white transition-colors",children:"+371 20 000 000"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Platform"}),e.jsx("ul",{className:"space-y-2",children:s.platform.map(r=>e.jsx("li",{children:e.jsx(q,{to:r.href,className:"text-gray-300 hover:text-white transition-colors",children:r.name})},r.name))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Features"}),e.jsx("ul",{className:"space-y-2",children:s.features.map(r=>e.jsx("li",{children:e.jsx(q,{to:r.href,className:"text-gray-300 hover:text-white transition-colors",children:r.name})},r.name))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Community"}),e.jsx("ul",{className:"space-y-2",children:s.community.map(r=>e.jsx("li",{children:e.jsx(q,{to:r.href,className:"text-gray-300 hover:text-white transition-colors",children:r.name})},r.name))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Legal"}),e.jsx("ul",{className:"space-y-2",children:s.legal.map(r=>e.jsx("li",{children:e.jsx(q,{to:r.href,className:"text-gray-300 hover:text-white transition-colors",children:r.name})},r.name))})]})]}),e.jsx("div",{className:"mt-12 pt-8 border-t border-gray-800",children:e.jsxs("div",{className:"max-w-md",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-white",children:"Stay Updated"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Get the latest news about food sharing and sustainability in Latvia."}),e.jsxs("form",{className:"flex space-x-2",children:[e.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors",children:"Subscribe"})]})]})}),e.jsx("div",{className:"mt-12 pt-8 border-t border-gray-800",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[e.jsxs("span",{children:["© ",t," Ediens. All rights reserved."]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"Made with"}),e.jsx(be,{className:"w-4 h-4 text-red-500 fill-current"}),e.jsx("span",{children:"in Latvia"})]}),e.jsx("div",{className:"flex items-center space-x-4",children:a.map(r=>e.jsx("a",{href:r.href,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors","aria-label":r.name,children:e.jsx(r.icon,{className:"w-5 h-5"})},r.name))}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_n,{className:"w-4 h-4 text-gray-400"}),e.jsxs("select",{className:"bg-gray-800 border border-gray-700 rounded-lg px-3 py-1 text-white text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",children:[e.jsx("option",{value:"lv",children:"Latviešu"}),e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"ru",children:"Русский"})]})]})]})}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-800",children:e.jsxs("div",{className:"text-center text-gray-400 text-sm",children:[e.jsx("p",{className:"mb-2",children:"Ediens is committed to reducing food waste and building sustainable communities across Latvia."}),e.jsxs("p",{children:["Partner with us to make a difference.",e.jsx("a",{href:"/partnerships",className:"text-primary-400 hover:text-primary-300 ml-1 transition-colors",children:"Learn more about our partnerships →"})]})]})})]})})},lt=({children:t,requireBusiness:s=!1,requirePremium:a=!1})=>{const{user:r,isAuthenticated:n,isLoading:i}=Oe(),o=ls();return i?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Mn,{className:"w-12 h-12 text-primary-500 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):n?s&&!(r!=null&&r.isBusiness)?e.jsx(Es,{to:"/upgrade-business",state:{from:o,message:"This feature requires a business account"},replace:!0}):a&&!(r!=null&&r.isPremium)?e.jsx(Es,{to:"/upgrade-premium",state:{from:o,message:"This feature requires a premium subscription"},replace:!0}):t:e.jsx(Es,{to:"/login",state:{from:o},replace:!0})},dd=()=>{const{user:t,isAuthenticated:s}=Oe(),a=[{icon:re,title:"Local Food Discovery",description:"Find fresh food near you with our interactive map and location-based search.",color:"text-primary-500"},{icon:be,title:"Community Sharing",description:"Connect with neighbors to share leftover food and reduce waste together.",color:"text-secondary-500"},{icon:Nt,title:"Eco-Friendly",description:"Earn eco points for every food item saved and contribute to sustainability.",color:"text-success-500"},{icon:sr,title:"Safe & Trusted",description:"Verified users and rating system ensure safe food sharing experiences.",color:"text-warning-500"},{icon:ze,title:"Real-Time Updates",description:"Get instant notifications about new food posts and claim opportunities.",color:"text-accent-500"},{icon:wt,title:"Business Integration",description:"Restaurants and shops can post surplus food at discounted prices.",color:"text-blue-500"}],r=[{number:"10,000+",label:"Food Items Shared"},{number:"5,000+",label:"Active Users"},{number:"50+",label:"Cities Covered"},{number:"2,000+",label:"Kg Food Saved"}],n=[{step:1,title:"Post Food",description:"Share your leftover food with photos, descriptions, and pickup details.",icon:"🍽️"},{step:2,title:"Discover & Claim",description:"Browse nearby food offers and claim items you want.",icon:"🔍"},{step:3,title:"Coordinate Pickup",description:"Message the food owner and arrange pickup time and location.",icon:"💬"},{step:4,title:"Enjoy & Rate",description:"Pick up your food and rate the experience to help others.",icon:"⭐"}];return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsxs("section",{className:"relative bg-gradient-to-br from-primary-50 via-white to-secondary-50 py-20 lg:py-32",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6",children:["Share Food,",e.jsx("span",{className:"text-gradient block",children:"Save the Planet"})]}),e.jsx("p",{className:"text-xl md:text-2xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"Connect with your community to share leftover food, reduce waste, and build a more sustainable future in Latvia."}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:s?e.jsxs(e.Fragment,{children:[e.jsx(q,{to:"/create-post",className:"btn-primary btn-lg text-lg px-8 py-4",children:"Share Food Now"}),e.jsx(q,{to:"/map",className:"btn-outline btn-lg text-lg px-8 py-4",children:"Browse Food"})]}):e.jsxs(e.Fragment,{children:[e.jsx(q,{to:"/register",className:"btn-primary btn-lg text-lg px-8 py-4",children:"Get Started Free"}),e.jsx(q,{to:"/how-it-works",className:"btn-outline btn-lg text-lg px-8 py-4",children:"Learn How It Works"})]})}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 max-w-4xl mx-auto",children:r.map((i,o)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl md:text-4xl font-bold text-primary-600 mb-2",children:i.number}),e.jsx("div",{className:"text-gray-600",children:i.label})]},o))})]})}),e.jsx("div",{className:"absolute top-10 left-10 w-20 h-20 bg-primary-200 rounded-full opacity-20 animate-bounce-gentle"}),e.jsx("div",{className:"absolute top-20 right-20 w-16 h-16 bg-secondary-200 rounded-full opacity-20 animate-bounce-gentle",style:{animationDelay:"1s"}}),e.jsx("div",{className:"absolute bottom-20 left-20 w-12 h-12 bg-accent-200 rounded-full opacity-20 animate-bounce-gentle",style:{animationDelay:"2s"}})]}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"How Ediens Works"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"It's simple! Share your leftover food and help others discover delicious meals while reducing waste."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:n.map(i=>e.jsxs("div",{className:"text-center group",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-primary-500 to-secondary-500 rounded-full flex items-center justify-center text-3xl mx-auto group-hover:scale-110 transition-transform duration-300",children:i.icon}),e.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-accent-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:i.step})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:i.title}),e.jsx("p",{className:"text-gray-600",children:i.description})]},i.step))})]})}),e.jsx("section",{className:"py-20 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Why Choose Ediens?"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"We're building the future of sustainable food sharing with cutting-edge features and a focus on community."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map((i,o)=>e.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-soft hover:shadow-large transition-shadow duration-300",children:[e.jsx("div",{className:`w-12 h-12 ${i.color} mb-6`,children:e.jsx(i.icon,{className:"w-full h-full"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:i.title}),e.jsx("p",{className:"text-gray-600",children:i.description})]},o))})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-r from-primary-600 to-secondary-600 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Ready to Make a Difference?"}),e.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto opacity-90",children:"Join thousands of Latvians who are already sharing food and building a more sustainable community."}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:s?e.jsxs(e.Fragment,{children:[e.jsx(q,{to:"/create-post",className:"bg-white text-primary-600 hover:bg-gray-100 px-8 py-4 rounded-lg font-semibold text-lg transition-colors duration-200",children:"Share More Food"}),e.jsx(q,{to:"/invite-friends",className:"border-2 border-white text-white hover:bg-white hover:text-primary-600 px-8 py-4 rounded-lg font-semibold text-lg transition-colors duration-200",children:"Invite Friends"})]}):e.jsxs(e.Fragment,{children:[e.jsx(q,{to:"/register",className:"bg-white text-primary-600 hover:bg-gray-100 px-8 py-4 rounded-lg font-semibold text-lg transition-colors duration-200",children:"Start Sharing Today"}),e.jsx(q,{to:"/about",className:"border-2 border-white text-white hover:bg-white hover:text-primary-600 px-8 py-4 rounded-lg font-semibold text-lg transition-colors duration-200",children:"Learn More"})]})})]})}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"What Our Community Says"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Hear from real users who are making a difference with Ediens."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{name:"Anna Bērziņa",role:"Home Cook",city:"Riga",content:"I love sharing my extra bread and vegetables. It feels great to know nothing goes to waste!",rating:5},{name:"Jānis Ozols",role:"Restaurant Owner",city:"Daugavpils",content:"Ediens helps us reduce food waste and connect with our community. Win-win!",rating:5},{name:"Māra Kalniņa",role:"Student",city:"Liepāja",content:"As a student, I save money and help the environment. The app is so easy to use!",rating:5}].map((i,o)=>e.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl",children:[e.jsx("div",{className:"flex items-center mb-4",children:e.jsx("div",{className:"flex text-yellow-400",children:[...Array(i.rating)].map((l,c)=>e.jsx(Je,{className:"w-5 h-5 fill-current"},c))})}),e.jsxs("p",{className:"text-gray-700 mb-4",children:['"',i.content,'"']}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:i.name}),e.jsxs("div",{className:"text-sm text-gray-600",children:[i.role," • ",i.city]})]})]},o))})]})}),e.jsx("section",{className:"py-16 bg-gray-900 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:"Join the Food Sharing Revolution"}),e.jsx("p",{className:"text-lg mb-8 opacity-90 max-w-2xl mx-auto",children:"Together, we can create a more sustainable Latvia where no good food goes to waste."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[e.jsxs(q,{to:s?"/dashboard":"/register",className:"bg-primary-500 hover:bg-primary-600 text-white px-8 py-3 rounded-lg font-semibold transition-colors duration-200 flex items-center space-x-2",children:[e.jsx("span",{children:s?"Go to Dashboard":"Get Started"}),e.jsx(ar,{className:"w-5 h-5"})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm opacity-75",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ce,{className:"w-4 h-4 text-success-400"}),e.jsx("span",{children:"Free to use"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ce,{className:"w-4 h-4 text-success-400"}),e.jsx("span",{children:"Safe & secure"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ce,{className:"w-4 h-4 text-success-400"}),e.jsx("span",{children:"Community driven"})]})]})]})]})})]})},ud=()=>{var w,E;const{login:t,loginWithGoogle:s,loginWithFacebook:a}=Oe(),r=Pe(),n=ls(),[i,o]=g.useState({email:"",password:""}),[l,c]=g.useState(!1),[d,u]=g.useState(!1),[h,x]=g.useState({}),f=((E=(w=n.state)==null?void 0:w.from)==null?void 0:E.pathname)||"/dashboard",p=R=>{const{name:T,value:L}=R.target;o(A=>({...A,[T]:L})),h[T]&&x(A=>({...A,[T]:""}))},C=()=>{const R={};return i.email.trim()?/\S+@\S+\.\S+/.test(i.email)||(R.email="Please enter a valid email address"):R.email="Email is required",i.password||(R.password="Password is required"),x(R),Object.keys(R).length===0},S=async R=>{if(R.preventDefault(),!!C()){u(!0);try{await t(i.email,i.password),W.success("Login successful!"),r(f,{replace:!0})}catch(T){console.error("Login error:",T)}finally{u(!1)}}},k=async R=>{try{R==="google"?await s():R==="facebook"&&await a()}catch(T){console.error(`${R} login error:`,T),W.error(`${R} login failed. Please try again.`)}},N=async()=>{o({email:"demo@ediens.lv",password:"Demo123!"}),setTimeout(()=>{S(new Event("submit"))},500)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-secondary-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs(q,{to:"/",className:"inline-flex items-center space-x-2 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-secondary-500 rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-2xl",children:"🍽️"})}),e.jsx("span",{className:"text-3xl font-bold text-gradient",children:"Ediens"})]}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome back"}),e.jsx("p",{className:"text-gray-600",children:"Sign in to your account to continue sharing food"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-soft p-8 border border-gray-100",children:[e.jsxs("form",{onSubmit:S,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),e.jsxs("div",{className:"relative",children:[e.jsx(ra,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:i.email,onChange:p,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors ${h.email?"border-red-300":"border-gray-300"}`,placeholder:"Enter your email"}),h.email&&e.jsxs("div",{className:"flex items-center mt-2 text-sm text-red-600",children:[e.jsx(ce,{className:"w-4 h-4 mr-1"}),h.email]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{id:"password",name:"password",type:l?"text":"password",autoComplete:"current-password",required:!0,value:i.password,onChange:p,className:`w-full pl-10 pr-12 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors ${h.password?"border-red-300":"border-gray-300"}`,placeholder:"Enter your password"}),e.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:l?e.jsx(Is,{className:"w-5 h-5"}):e.jsx(Vt,{className:"w-5 h-5"})}),h.password&&e.jsxs("div",{className:"flex items-center mt-2 text-sm text-red-600",children:[e.jsx(ce,{className:"w-4 h-4 mr-1"}),h.password]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),e.jsx(q,{to:"/forgot-password",className:"text-sm text-primary-600 hover:text-primary-500 transition-colors",children:"Forgot password?"})]}),e.jsx("button",{type:"submit",disabled:d,className:"w-full bg-primary-500 text-white py-3 px-4 rounded-lg font-semibold hover:bg-primary-600 focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Signing in..."]}):"Sign in"})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]})}),e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsxs("button",{onClick:()=>k("google"),className:"w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:[e.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),e.jsxs("button",{onClick:()=>k("facebook"),className:"w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"#1877F2",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Continue with Facebook"]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{onClick:N,className:"text-sm text-gray-500 hover:text-gray-700 transition-colors underline",children:"Try demo account"})})]}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",e.jsx(q,{to:"/register",className:"font-semibold text-primary-600 hover:text-primary-500 transition-colors",children:"Sign up for free"})]})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-soft p-6 border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Why join Ediens?"}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Ce,{className:"w-4 h-4 text-success-500 mr-2 flex-shrink-0"}),e.jsx("span",{children:"Reduce food waste and help the environment"})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Ce,{className:"w-4 h-4 text-success-500 mr-2 flex-shrink-0"}),e.jsx("span",{children:"Connect with your local community"})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Ce,{className:"w-4 h-4 text-success-500 mr-2 flex-shrink-0"}),e.jsx("span",{children:"Save money on food and earn eco points"})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Ce,{className:"w-4 h-4 text-success-500 mr-2 flex-shrink-0"}),e.jsx("span",{children:"100% free to use"})]})]})]})]})})},md=()=>{const{register:t}=Oe(),s=Pe(),[a,r]=g.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phone:"",city:"",address:"",isBusiness:!1,businessName:"",businessType:""}),[n,i]=g.useState(!1),[o,l]=g.useState(!1),[c,d]=g.useState(!1),[u,h]=g.useState({}),[x,f]=g.useState(!1),p=[{value:"restaurant",label:"Restaurant"},{value:"bakery",label:"Bakery"},{value:"grocery",label:"Grocery Store"},{value:"cafe",label:"Café"},{value:"other",label:"Other"}],C=["Riga","Daugavpils","Liepāja","Jelgava","Jūrmala","Ventspils","Rēzekne","Valmiera","Jēkabpils","Ogre","Tukums","Cēsis","Salaspils","Kuldīga","Olaine","Saldus","Sigulda","Aizkraukle","Bauska","Ludza"],S=E=>{const{name:R,value:T,type:L,checked:A}=E.target;r(v=>({...v,[R]:L==="checkbox"?A:T})),u[R]&&h(v=>({...v,[R]:""}))},k=()=>{const E={};return a.email.trim()?/\S+@\S+\.\S+/.test(a.email)||(E.email="Please enter a valid email address"):E.email="Email is required",a.password?a.password.length<8?E.password="Password must be at least 8 characters long":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(a.password)||(E.password="Password must contain at least one lowercase letter, one uppercase letter, and one number"):E.password="Password is required",a.confirmPassword?a.password!==a.confirmPassword&&(E.confirmPassword="Passwords do not match"):E.confirmPassword="Please confirm your password",a.firstName.trim()?a.firstName.length<2&&(E.firstName="First name must be at least 2 characters long"):E.firstName="First name is required",a.lastName.trim()?a.lastName.length<2&&(E.lastName="Last name must be at least 2 characters long"):E.lastName="Last name is required",a.city.trim()||(E.city="City is required"),a.isBusiness&&(a.businessName.trim()?a.businessName.length<2&&(E.businessName="Business name must be at least 2 characters long"):E.businessName="Business name is required",a.businessType||(E.businessType="Business type is required")),h(E),Object.keys(E).length===0},N=async E=>{if(E.preventDefault(),!!k()){d(!0);try{const R={email:a.email,password:a.password,firstName:a.firstName,lastName:a.lastName,phone:a.phone,city:a.city,address:a.address,isBusiness:a.isBusiness,businessName:a.isBusiness?a.businessName:void 0,businessType:a.isBusiness?a.businessType:void 0};await t(R),W.success("Registration successful! Welcome to Ediens!"),s("/dashboard")}catch(R){console.error("Registration error:",R)}finally{d(!1)}}},w=()=>{f(!x),r(x?E=>({...E,isBusiness:!1,businessName:"",businessType:""}):E=>({...E,isBusiness:!0}))};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-secondary-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs(q,{to:"/",className:"inline-flex items-center space-x-2 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-secondary-500 rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-2xl",children:"🍽️"})}),e.jsx("span",{className:"text-3xl font-bold text-gradient",children:"Ediens"})]}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Join the food sharing revolution"}),e.jsx("p",{className:"text-gray-600",children:"Create your account and start sharing food with your community"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-soft p-8 border border-gray-100",children:[e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),e.jsxs("div",{className:"relative",children:[e.jsx(jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{id:"firstName",name:"firstName",type:"text",autoComplete:"given-name",required:!0,value:a.firstName,onChange:S,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors ${u.firstName?"border-red-300":"border-gray-300"}`,placeholder:"Enter your first name"})]}),u.firstName&&e.jsxs("div",{className:"flex items-center mt-2 text-sm text-red-600",children:[e.jsx(ce,{className:"w-4 h-4 mr-1"}),u.firstName]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),e.jsxs("div",{className:"relative",children:[e.jsx(jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{id:"lastName",name:"lastName",type:"text",autoComplete:"family-name",required:!0,value:a.lastName,onChange:S,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors ${u.lastName?"border-red-300":"border-gray-300"}`,placeholder:"Enter your last name"})]}),u.lastName&&e.jsxs("div",{className:"flex items-center mt-2 text-sm text-red-600",children:[e.jsx(ce,{className:"w-4 h-4 mr-1"}),u.lastName]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ra,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:a.email,onChange:S,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors ${u.email?"border-red-300":"border-gray-300"}`,placeholder:"Enter your email address"})]}),u.email&&e.jsxs("div",{className:"flex items-center mt-2 text-sm text-red-600",children:[e.jsx(ce,{className:"w-4 h-4 mr-1"}),u.email]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{id:"password",name:"password",type:n?"text":"password",autoComplete:"new-password",required:!0,value:a.password,onChange:S,className:`w-full pl-10 pr-12 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors ${u.password?"border-red-300":"border-gray-300"}`,placeholder:"Create a password"}),e.jsx("button",{type:"button",onClick:()=>i(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:n?e.jsx(Is,{className:"w-5 h-5"}):e.jsx(Vt,{className:"w-5 h-5"})})]}),u.password&&e.jsxs("div",{className:"flex items-center mt-2 text-sm text-red-600",children:[e.jsx(ce,{className:"w-4 h-4 mr-1"}),u.password]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:o?"text":"password",autoComplete:"new-password",required:!0,value:a.confirmPassword,onChange:S,className:`w-full pl-10 pr-12 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors ${u.confirmPassword?"border-red-300":"border-gray-300"}`,placeholder:"Confirm your password"}),e.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:o?e.jsx(Is,{className:"w-5 h-5"}):e.jsx(Vt,{className:"w-5 h-5"})})]}),u.confirmPassword&&e.jsxs("div",{className:"flex items-center mt-2 text-sm text-red-600",children:[e.jsx(ce,{className:"w-4 h-4 mr-1"}),u.confirmPassword]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(na,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",value:a.phone,onChange:S,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",placeholder:"+371 20000000"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),e.jsxs("div",{className:"relative",children:[e.jsx(re,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsxs("select",{id:"city",name:"city",required:!0,value:a.city,onChange:S,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors ${u.city?"border-red-300":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Select your city"}),C.map(E=>e.jsx("option",{value:E,children:E},E))]})]}),u.city&&e.jsxs("div",{className:"flex items-center mt-2 text-sm text-red-600",children:[e.jsx(ce,{className:"w-4 h-4 mr-1"}),u.city]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(re,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{id:"address",name:"address",type:"text",autoComplete:"street-address",value:a.address,onChange:S,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",placeholder:"Enter your address (optional)"})]})]}),e.jsx("div",{className:"border-t border-gray-200 pt-6",children:e.jsxs("button",{type:"button",onClick:w,className:"flex items-center justify-between w-full p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(rt,{className:"w-5 h-5 text-primary-600"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Business Account"}),e.jsx("div",{className:"text-sm text-gray-600",children:a.isBusiness?"Enabled":"Optional - for restaurants, bakeries, and shops"})]})]}),x?e.jsx(Ln,{className:"w-5 h-5 text-gray-400"}):e.jsx(In,{className:"w-5 h-5 text-gray-400"})]})}),x&&e.jsxs("div",{className:"space-y-6 bg-gray-50 p-6 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"businessName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Name *"}),e.jsx("input",{id:"businessName",name:"businessName",type:"text",value:a.businessName,onChange:S,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors ${u.businessName?"border-red-300":"border-gray-300"}`,placeholder:"Enter business name"}),u.businessName&&e.jsxs("div",{className:"flex items-center mt-2 text-sm text-red-600",children:[e.jsx(ce,{className:"w-4 h-4 mr-1"}),u.businessName]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"businessType",className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Type *"}),e.jsxs("select",{id:"businessType",name:"businessType",value:a.businessType,onChange:S,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors ${u.businessType?"border-red-300":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Select business type"}),p.map(E=>e.jsx("option",{value:E.value,children:E.label},E.value))]}),u.businessType&&e.jsxs("div",{className:"flex items-center mt-2 text-sm text-red-600",children:[e.jsx(ce,{className:"w-4 h-4 mr-1"}),u.businessType]})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(Ce,{className:"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("div",{className:"font-medium",children:"Business accounts get:"}),e.jsxs("ul",{className:"mt-2 space-y-1",children:[e.jsx("li",{children:"• Special business profile badge"}),e.jsx("li",{children:"• Bulk food posting tools"}),e.jsx("li",{children:"• Business analytics dashboard"}),e.jsx("li",{children:"• Priority customer support"})]})]})]})})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{id:"terms",name:"terms",type:"checkbox",required:!0,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded mt-1"}),e.jsxs("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-700",children:["I agree to the"," ",e.jsx(q,{to:"/terms",className:"text-primary-600 hover:text-primary-500 underline",children:"Terms of Service"})," ","and"," ",e.jsx(q,{to:"/privacy",className:"text-primary-600 hover:text-primary-500 underline",children:"Privacy Policy"})]})]}),e.jsx("button",{type:"submit",disabled:c,className:"w-full bg-primary-500 text-white py-3 px-4 rounded-lg font-semibold hover:bg-primary-600 focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Creating account..."]}):"Create Account"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",e.jsx(q,{to:"/login",className:"font-semibold text-primary-600 hover:text-primary-500 transition-colors",children:"Sign in here"})]})})]}),e.jsxs("div",{className:"mt-8 bg-white rounded-2xl shadow-soft p-6 border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Join thousands of Latvians making a difference"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Ce,{className:"w-4 h-4 text-success-500 mr-2 flex-shrink-0"}),e.jsx("span",{children:"Reduce food waste and environmental impact"})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Ce,{className:"w-4 h-4 text-success-500 mr-2 flex-shrink-0"}),e.jsx("span",{children:"Build stronger local communities"})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Ce,{className:"w-4 h-4 text-success-500 mr-2 flex-shrink-0"}),e.jsx("span",{children:"Save money on food expenses"})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Ce,{className:"w-4 h-4 text-success-500 mr-2 flex-shrink-0"}),e.jsx("span",{children:"Earn eco points and achievements"})]})]})]})]})})},pd=()=>{var N,w,E,R,T,L;const{user:t}=Oe(),[s,a]=g.useState("overview"),[r,n]=g.useState([]),[i,o]=g.useState([]),{data:l,isLoading:c}=pe({queryKey:["userStats"],queryFn:async()=>(await M.get("/api/users/stats/me")).data,enabled:!!t}),{data:d,isLoading:u}=pe({queryKey:["userPosts"],queryFn:async()=>(await M.get("/api/posts/user/posts?limit=5")).data,enabled:!!t}),{data:h,isLoading:x}=pe({queryKey:["userClaims"],queryFn:async()=>(await M.get("/api/claims/user?limit=5")).data,enabled:!!t});g.useEffect(()=>{d&&n(d.posts||[])},[d]),g.useEffect(()=>{h&&o(h.claims||[])},[h]);const f=A=>{switch(A){case"high":return"text-red-600 bg-red-100";case"medium":return"text-orange-600 bg-orange-100";case"low":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},p=A=>{switch(A){case"available":return"text-green-600 bg-green-100";case"reserved":return"text-blue-600 bg-blue-100";case"claimed":return"text-purple-600 bg-purple-100";case"expired":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},C=A=>{switch(A){case"pending":return"text-yellow-600 bg-yellow-100";case"confirmed":return"text-blue-600 bg-blue-100";case"picked_up":return"text-green-600 bg-green-100";case"cancelled":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},S=A=>{const v=new Date(A),H=Math.abs(new Date-v),z=Math.ceil(H/(1e3*60*60*24));return z===1?"Today":z===2?"Yesterday":z<=7?`${z-1} days ago`:v.toLocaleDateString("lv-LV")},k=A=>{const v=new Date,H=new Date(A)-v,z=Math.ceil(H/(1e3*60*60));return z<=0?"Expired":z<=24?`${z}h left`:`${Math.ceil(z/24)}d left`};return t?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Welcome back, ",t.firstName,"! 👋"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Here's what's happening with your food sharing activities"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(q,{to:"/create-post",className:"btn-primary flex items-center space-x-2",children:[e.jsx(Te,{className:"w-4 h-4"}),e.jsx("span",{children:"Share Food"})]}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Ms,{className:"w-5 h-5"})})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-soft p-6 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:e.jsx(Nt,{className:"w-6 h-6 text-primary-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Eco Points"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((N=l==null?void 0:l.stats)==null?void 0:N.totalEcoPoints)||0})]})]}),e.jsxs("div",{className:"mt-4 flex items-center text-sm text-green-600",children:[e.jsx(Gt,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{children:["+",Math.floor((((w=l==null?void 0:l.stats)==null?void 0:w.totalEcoPoints)||0)/10)," this week"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-soft p-6 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-secondary-100 rounded-lg",children:e.jsx(Te,{className:"w-6 h-6 text-secondary-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Food Posts"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((E=l==null?void 0:l.stats)==null?void 0:E.totalPosts)||0})]})]}),e.jsxs("div",{className:"mt-4 flex items-center text-sm text-blue-600",children:[e.jsx(ze,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{children:[((R=l==null?void 0:l.stats)==null?void 0:R.availablePosts)||0," available"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-soft p-6 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-success-100 rounded-lg",children:e.jsx(Ce,{className:"w-6 h-6 text-success-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Successful Pickups"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((T=l==null?void 0:l.stats)==null?void 0:T.successfulPickups)||0})]})]}),e.jsxs("div",{className:"mt-4 flex items-center text-sm text-success-600",children:[e.jsx(vt,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"Top contributor"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-soft p-6 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-accent-100 rounded-lg",children:e.jsx(wt,{className:"w-6 h-6 text-accent-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Claims Received"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((L=l==null?void 0:l.stats)==null?void 0:L.claimsReceived)||0})]})]}),e.jsxs("div",{className:"mt-4 flex items-center text-sm text-accent-600",children:[e.jsx(Fe,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"Active conversations"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-soft border border-gray-100 mb-8",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"overview",label:"Overview",icon:Vt},{id:"posts",label:"My Posts",icon:Te},{id:"claims",label:"My Claims",icon:be},{id:"messages",label:"Messages",icon:Fe}].map(A=>e.jsxs("button",{onClick:()=>a(A.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${s===A.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(A.icon,{className:"w-4 h-4"}),e.jsx("span",{children:A.label})]},A.id))})}),e.jsxs("div",{className:"p-6",children:[s==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Food Posts"}),e.jsx(q,{to:"/profile",className:"text-primary-600 hover:text-primary-500 text-sm font-medium",children:"View all"})]}),e.jsx("div",{className:"space-y-3",children:u?e.jsx("div",{className:"animate-pulse space-y-3",children:[...Array(3)].map((A,v)=>e.jsx("div",{className:"h-16 bg-gray-200 rounded-lg"},v))}):r.length>0?r.slice(0,3).map(A=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:A.title}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p(A.status)}`,children:A.status}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f(A.urgency)}`,children:A.urgency})]})]}),e.jsxs("div",{className:"text-right text-xs text-gray-500",children:[e.jsx("div",{children:S(A.createdAt)}),e.jsx("div",{className:"mt-1",children:k(A.expiryDate)})]})]},A.id)):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Te,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"No food posts yet"}),e.jsx(q,{to:"/create-post",className:"text-primary-600 hover:text-primary-500 text-sm font-medium",children:"Share your first food item"})]})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Claims"}),e.jsx(q,{to:"/claims",className:"text-primary-600 hover:text-primary-500 text-sm font-medium",children:"View all"})]}),e.jsx("div",{className:"space-y-3",children:x?e.jsx("div",{className:"animate-pulse space-y-3",children:[...Array(3)].map((A,v)=>e.jsx("div",{className:"h-16 bg-gray-200 rounded-lg"},v))}):i.length>0?i.slice(0,3).map(A=>{var v;return e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:((v=A.foodPost)==null?void 0:v.title)||"Food Item"}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C(A.status)}`,children:A.status}),e.jsxs("span",{className:"text-xs text-gray-500",children:["Qty: ",A.quantity]})]})]}),e.jsxs("div",{className:"text-right text-xs text-gray-500",children:[e.jsx("div",{children:S(A.createdAt)}),e.jsx("div",{className:"mt-1",children:k(A.pickupDate)})]})]},A.id)}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(be,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"No claims yet"}),e.jsx(q,{to:"/map",className:"text-primary-600 hover:text-primary-500 text-sm font-medium",children:"Browse available food"})]})})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-primary-50 to-secondary-50 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(q,{to:"/create-post",className:"flex items-center p-4 bg-white rounded-lg shadow-soft hover:shadow-large transition-shadow",children:[e.jsx("div",{className:"p-2 bg-primary-100 rounded-lg mr-3",children:e.jsx(Te,{className:"w-5 h-5 text-primary-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Share Food"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Post leftover food"})]})]}),e.jsxs(q,{to:"/map",className:"flex items-center p-4 bg-white rounded-lg shadow-soft hover:shadow-large transition-shadow",children:[e.jsx("div",{className:"p-2 bg-secondary-100 rounded-lg mr-3",children:e.jsx(re,{className:"w-5 h-5 text-secondary-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Browse Food"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Find nearby offers"})]})]}),e.jsxs(q,{to:"/messages",className:"flex items-center p-4 bg-white rounded-lg shadow-soft hover:shadow-large transition-shadow",children:[e.jsx("div",{className:"p-2 bg-accent-100 rounded-lg mr-3",children:e.jsx(Fe,{className:"w-5 h-5 text-accent-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Messages"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Check conversations"})]})]})]})]})]}),s==="posts"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"My Food Posts"}),e.jsxs(q,{to:"/create-post",className:"btn-primary",children:[e.jsx(Te,{className:"w-4 h-4 mr-2"}),"New Post"]})]}),e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(Te,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"No food posts yet"}),e.jsx("p",{className:"mb-4",children:"Start sharing your leftover food with the community"}),e.jsx(q,{to:"/create-post",className:"btn-primary",children:"Share Your First Food Item"})]})]}),s==="claims"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"My Claims"}),e.jsxs(q,{to:"/map",className:"btn-outline",children:[e.jsx(re,{className:"w-4 h-4 mr-2"}),"Browse Food"]})]}),e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(be,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"No claims yet"}),e.jsx("p",{className:"mb-4",children:"Start claiming food items from your community"}),e.jsx(q,{to:"/map",className:"btn-primary",children:"Browse Available Food"})]})]}),s==="messages"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Messages"}),e.jsxs(q,{to:"/messages",className:"btn-outline",children:[e.jsx(Fe,{className:"w-4 h-4 mr-2"}),"View All"]})]}),e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(Fe,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"No messages yet"}),e.jsx("p",{className:"mb-4",children:"Start conversations when you share or claim food"}),e.jsx(q,{to:"/create-post",className:"btn-primary",children:"Share Food to Get Started"})]})]})]})]})]})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})})},hd=()=>{var he,ie,je,ue,Re,P,m;const t=Pe(),{user:s,updateProfile:a,logout:r}=Oe(),n=Et(),[i,o]=g.useState("profile"),[l,c]=g.useState(!1),[d,u]=g.useState(!1),[h,x]=g.useState({}),[f,p]=g.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[C,S]=g.useState(!1),{data:k,isLoading:N}=pe({queryKey:["userProfile",s==null?void 0:s.id],queryFn:async()=>(await M.get(`/api/users/${s.id}`)).data,enabled:!!(s!=null&&s.id)}),{data:w,isLoading:E}=pe({queryKey:["userStats"],queryFn:async()=>(await M.get("/api/users/stats/me")).data,enabled:!!s}),{data:R,isLoading:T}=pe({queryKey:["userPosts"],queryFn:async()=>(await M.get("/api/posts/user/posts")).data,enabled:!!s}),{data:L,isLoading:A}=pe({queryKey:["userClaims"],queryFn:async()=>(await M.get("/api/claims/user")).data,enabled:!!s});g.useEffect(()=>{k!=null&&k.user&&x({firstName:k.user.firstName||"",lastName:k.user.lastName||"",email:k.user.email||"",phone:k.user.phone||"",city:k.user.city||"",address:k.user.address||"",isBusiness:k.user.isBusiness||!1,businessName:k.user.businessName||"",businessType:k.user.businessType||"",preferences:k.user.preferences||{}})},[k]);const v=Ve({mutationFn:async j=>(await M.put("/api/users/profile",j)).data,onSuccess:j=>{a(j.user),c(!1),W.success("Profile updated successfully!"),n.invalidateQueries(["userProfile"])},onError:j=>{var _,J;W.error(((J=(_=j.response)==null?void 0:_.data)==null?void 0:J.message)||"Failed to update profile")}}),I=Ve({mutationFn:async j=>(await M.put("/api/users/change-password",j)).data,onSuccess:()=>{u(!1),p({currentPassword:"",newPassword:"",confirmPassword:""}),W.success("Password changed successfully!")},onError:j=>{var _,J;W.error(((J=(_=j.response)==null?void 0:_.data)==null?void 0:J.message)||"Failed to change password")}}),H=Ve({mutationFn:async()=>(await M.delete("/api/users/delete-account")).data,onSuccess:()=>{W.success("Account deleted successfully"),r(),t("/")},onError:j=>{var _,J;W.error(((J=(_=j.response)==null?void 0:_.data)==null?void 0:J.message)||"Failed to delete account")}}),z=j=>{const{name:_,value:J,type:ae,checked:oe}=j.target;x(fe=>({...fe,[_]:ae==="checkbox"?oe:J}))},O=j=>{const{name:_,value:J}=j.target;p(ae=>({...ae,[_]:J}))},$=j=>{j.preventDefault(),v.mutate(h)},b=j=>{if(j.preventDefault(),f.newPassword!==f.confirmPassword){W.error("New passwords do not match");return}if(f.newPassword.length<8){W.error("Password must be at least 8 characters long");return}I.mutate({currentPassword:f.currentPassword,newPassword:f.newPassword})},F=()=>{f.currentPassword?H.mutate({password:f.currentPassword}):W.error("Please enter your password to confirm deletion")},U=j=>{switch(j){case"high":return"text-red-600 bg-red-100";case"medium":return"text-orange-600 bg-orange-100";case"low":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},V=j=>{switch(j){case"available":return"text-green-600 bg-green-100";case"reserved":return"text-blue-600 bg-blue-100";case"claimed":return"text-purple-600 bg-purple-100";case"expired":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},Q=j=>{switch(j){case"pending":return"text-yellow-600 bg-yellow-100";case"confirmed":return"text-blue-600 bg-blue-100";case"picked_up":return"text-green-600 bg-green-100";case"cancelled":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},X=j=>new Date(j).toLocaleDateString("lv-LV");return s?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Profile & Settings"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your account and preferences"})]}),e.jsxs("button",{onClick:()=>t(-1),className:"btn-outline",children:[e.jsx(Ge,{className:"w-4 h-4 mr-2"}),"Back"]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-soft border border-gray-100 p-6 mb-6",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsxs("div",{className:"w-24 h-24 bg-gradient-to-br from-primary-400 to-secondary-500 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:[(he=s.firstName)==null?void 0:he[0],(ie=s.lastName)==null?void 0:ie[0]]}),e.jsx("button",{className:"absolute bottom-0 right-0 p-2 bg-white rounded-full shadow-lg border-2 border-gray-200 hover:border-primary-500 transition-colors",children:e.jsx(rr,{className:"w-4 h-4 text-gray-600"})})]}),e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mt-4",children:[s.firstName," ",s.lastName]}),e.jsx("p",{className:"text-gray-600",children:s.email}),s.isBusiness&&e.jsxs("div",{className:"mt-2 inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:[e.jsx(rt,{className:"w-4 h-4 mr-1"}),"Business Account"]}),e.jsxs("div",{className:"mt-4 flex items-center justify-center space-x-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-600",children:((je=w==null?void 0:w.stats)==null?void 0:je.totalEcoPoints)||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Eco Points"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-secondary-600",children:((ue=w==null?void 0:w.stats)==null?void 0:ue.totalPosts)||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Posts"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-success-600",children:((Re=w==null?void 0:w.stats)==null?void 0:Re.successfulPickups)||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Pickups"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-soft border border-gray-100",children:e.jsx("nav",{className:"flex flex-col",children:[{id:"profile",label:"Profile",icon:jt},{id:"posts",label:"My Posts",icon:Te},{id:"claims",label:"My Claims",icon:be},{id:"settings",label:"Settings",icon:Ls},{id:"security",label:"Security",icon:sr}].map(j=>e.jsxs("button",{onClick:()=>o(j.id),className:`flex items-center space-x-3 px-4 py-3 text-left font-medium transition-colors ${i===j.id?"bg-primary-50 text-primary-700 border-r-2 border-primary-500":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[e.jsx(j.icon,{className:"w-5 h-5"}),e.jsx("span",{children:j.label})]},j.id))})})]}),e.jsxs("div",{className:"lg:col-span-2",children:[i==="profile"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-soft border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Profile Information"}),l?e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>c(!1),className:"btn-outline",children:[e.jsx(Ge,{className:"w-4 h-4 mr-2"}),"Cancel"]}),e.jsxs("button",{onClick:$,disabled:v.isLoading,className:"btn-primary",children:[v.isLoading?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):e.jsx(xa,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]}):e.jsxs("button",{onClick:()=>c(!0),className:"btn-outline",children:[e.jsx(nr,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})]}),e.jsxs("form",{onSubmit:$,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),e.jsx("input",{type:"text",name:"firstName",value:h.firstName||"",onChange:z,disabled:!l,className:"form-input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),e.jsx("input",{type:"text",name:"lastName",value:h.lastName||"",onChange:z,disabled:!l,className:"form-input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:h.email||"",onChange:z,disabled:!l,className:"form-input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),e.jsx("input",{type:"tel",name:"phone",value:h.phone||"",onChange:z,disabled:!l,className:"form-input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),e.jsx("input",{type:"text",name:"city",value:h.city||"",onChange:z,disabled:!l,className:"form-input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),e.jsx("input",{type:"text",name:"address",value:h.address||"",onChange:z,disabled:!l,className:"form-input"})]})]}),h.isBusiness&&e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Business Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Name"}),e.jsx("input",{type:"text",name:"businessName",value:h.businessName||"",onChange:z,disabled:!l,className:"form-input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Type"}),e.jsx("input",{type:"text",name:"businessType",value:h.businessType||"",onChange:z,disabled:!l,className:"form-input"})]})]})]})]})]}),i==="posts"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-soft border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"My Food Posts"}),e.jsxs("button",{className:"btn-primary",children:[e.jsx(Te,{className:"w-4 h-4 mr-2"}),"New Post"]})]}),T?e.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(3)].map((j,_)=>e.jsx("div",{className:"h-24 bg-gray-200 rounded-lg"},_))}):((P=R==null?void 0:R.posts)==null?void 0:P.length)>0?e.jsx("div",{className:"space-y-4",children:R.posts.map(j=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:j.title}),e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:j.description}),e.jsxs("div",{className:"flex items-center space-x-3 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(ct,{className:"w-4 h-4 mr-1"}),X(j.createdAt)]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(ze,{className:"w-4 h-4 mr-1"}),"Expires: ",X(j.expiryDate)]})]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold text-primary-600",children:j.price===0?"Free":`€${j.price}`}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Qty: ",j.quantity]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${V(j.status)}`,children:j.status}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${U(j.urgency)}`,children:j.urgency})]})]})]})},j.id))}):e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(Te,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"No food posts yet"}),e.jsx("p",{className:"mb-4",children:"Start sharing your leftover food with the community"}),e.jsx("button",{className:"btn-primary",children:"Share Your First Food Item"})]})]}),i==="claims"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-soft border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"My Claims"}),e.jsxs("button",{className:"btn-outline",children:[e.jsx(re,{className:"w-4 h-4 mr-2"}),"Browse Food"]})]}),A?e.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(3)].map((j,_)=>e.jsx("div",{className:"h-24 bg-gray-200 rounded-lg"},_))}):((m=L==null?void 0:L.claims)==null?void 0:m.length)>0?e.jsx("div",{className:"space-y-4",children:L.claims.map(j=>{var _,J,ae,oe,fe,Ne,we;return e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:((_=j.foodPost)==null?void 0:_.title)||"Food Item"}),e.jsxs("p",{className:"text-gray-600 text-sm mb-3",children:["From: ",(ae=(J=j.foodPost)==null?void 0:J.user)==null?void 0:ae.firstName," ",(fe=(oe=j.foodPost)==null?void 0:oe.user)==null?void 0:fe.lastName]}),e.jsxs("div",{className:"flex items-center space-x-3 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(ct,{className:"w-4 h-4 mr-1"}),"Claimed: ",X(j.createdAt)]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(ze,{className:"w-4 h-4 mr-1"}),"Pickup: ",X(j.pickupDate)]})]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold text-secondary-600",children:["Qty: ",j.quantity]}),e.jsx("div",{className:"text-sm text-gray-500",children:((Ne=j.foodPost)==null?void 0:Ne.price)===0?"Free":`€${(we=j.foodPost)==null?void 0:we.price}`})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Q(j.status)}`,children:j.status})]})]})},j.id)})}):e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(be,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"No claims yet"}),e.jsx("p",{className:"mb-4",children:"Start claiming food items from your community"}),e.jsx("button",{className:"btn-primary",children:"Browse Available Food"})]})]}),i==="settings"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-soft border border-gray-100 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Preferences & Settings"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Notifications"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"form-checkbox",defaultChecked:!0}),e.jsx("span",{className:"ml-3 text-sm text-gray-700",children:"New food posts nearby"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"form-checkbox",defaultChecked:!0}),e.jsx("span",{className:"ml-3 text-sm text-gray-700",children:"Claim updates"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"form-checkbox",defaultChecked:!0}),e.jsx("span",{className:"ml-3 text-sm text-gray-700",children:"New messages"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"form-checkbox"}),e.jsx("span",{className:"ml-3 text-sm text-gray-700",children:"Weekly digest"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Privacy"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"form-checkbox",defaultChecked:!0}),e.jsx("span",{className:"ml-3 text-sm text-gray-700",children:"Show my location to others"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"form-checkbox",defaultChecked:!0}),e.jsx("span",{className:"ml-3 text-sm text-gray-700",children:"Allow messages from other users"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"form-checkbox"}),e.jsx("span",{className:"ml-3 text-sm text-gray-700",children:"Show my activity to others"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Language & Region"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),e.jsxs("select",{className:"form-select",children:[e.jsx("option",{children:"Latvian (LV)"}),e.jsx("option",{children:"English (EN)"}),e.jsx("option",{children:"Russian (RU)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Zone"}),e.jsxs("select",{className:"form-select",children:[e.jsx("option",{children:"Europe/Riga (UTC+2)"}),e.jsx("option",{children:"Europe/Riga (UTC+3)"})]})]})]})]})]})]}),i==="security"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-soft border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Change Password"}),d?e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>u(!1),className:"btn-outline",children:[e.jsx(Ge,{className:"w-4 h-4 mr-2"}),"Cancel"]}),e.jsxs("button",{onClick:b,disabled:I.isLoading,className:"btn-primary",children:[I.isLoading?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):e.jsx(xa,{className:"w-4 h-4 mr-2"}),"Update Password"]})]}):e.jsxs("button",{onClick:()=>u(!0),className:"btn-outline",children:[e.jsx(Wt,{className:"w-4 h-4 mr-2"}),"Change Password"]})]}),d&&e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),e.jsx("input",{type:"password",name:"currentPassword",value:f.currentPassword,onChange:O,className:"form-input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),e.jsx("input",{type:"password",name:"newPassword",value:f.newPassword,onChange:O,className:"form-input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),e.jsx("input",{type:"password",name:"confirmPassword",value:f.confirmPassword,onChange:O,className:"form-input",required:!0})]})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-soft border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-red-600",children:"Delete Account"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"This action cannot be undone. All your data will be permanently deleted."})]}),e.jsxs("button",{onClick:()=>S(!0),className:"btn-danger",children:[e.jsx(cs,{className:"w-4 h-4 mr-2"}),"Delete Account"]})]})}),C&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-600 mb-4",children:"Confirm Account Deletion"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"This action cannot be undone. Please enter your password to confirm."}),e.jsx("input",{type:"password",placeholder:"Enter your password",value:f.currentPassword,onChange:j=>p(_=>({..._,currentPassword:j.target.value})),className:"form-input mb-4"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>S(!1),className:"btn-outline flex-1",children:"Cancel"}),e.jsx("button",{onClick:F,disabled:H.isLoading,className:"btn-danger flex-1",children:H.isLoading?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mx-auto"}):"Delete Account"})]})]})})]})]})]})})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})})};var rn={exports:{}},xd="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",fd=xd,gd=fd;function nn(){}function on(){}on.resetWarningCache=nn;var yd=function(){function t(r,n,i,o,l,c){if(c!==gd){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function s(){return t}var a={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:s,element:t,elementType:t,instanceOf:s,node:t,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:on,resetWarningCache:nn};return a.PropTypes=a,a};rn.exports=yd();var vd=rn.exports;const Z=Cn(vd);function it(t,s,a,r){function n(i){return i instanceof a?i:new a(function(o){o(i)})}return new(a||(a=Promise))(function(i,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):n(u.value).then(l,c)}d((r=r.apply(t,s||[])).next())})}const bd=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function dt(t,s,a){const r=jd(t),{webkitRelativePath:n}=t,i=typeof s=="string"?s:typeof n=="string"&&n.length>0?n:`./${t.name}`;return typeof r.path!="string"&&za(r,"path",i),za(r,"relativePath",i),r}function jd(t){const{name:s}=t;if(s&&s.lastIndexOf(".")!==-1&&!t.type){const r=s.split(".").pop().toLowerCase(),n=bd.get(r);n&&Object.defineProperty(t,"type",{value:n,writable:!1,configurable:!1,enumerable:!0})}return t}function za(t,s,a){Object.defineProperty(t,s,{value:a,writable:!1,configurable:!1,enumerable:!0})}const Nd=[".DS_Store","Thumbs.db"];function wd(t){return it(this,void 0,void 0,function*(){return ns(t)&&kd(t.dataTransfer)?Pd(t.dataTransfer,t.type):Cd(t)?Sd(t):Array.isArray(t)&&t.every(s=>"getFile"in s&&typeof s.getFile=="function")?Ed(t):[]})}function kd(t){return ns(t)}function Cd(t){return ns(t)&&ns(t.target)}function ns(t){return typeof t=="object"&&t!==null}function Sd(t){return Zs(t.target.files).map(s=>dt(s))}function Ed(t){return it(this,void 0,void 0,function*(){return(yield Promise.all(t.map(a=>a.getFile()))).map(a=>dt(a))})}function Pd(t,s){return it(this,void 0,void 0,function*(){if(t.items){const a=Zs(t.items).filter(n=>n.kind==="file");if(s!=="drop")return a;const r=yield Promise.all(a.map(Od));return Ba(ln(r))}return Ba(Zs(t.files).map(a=>dt(a)))})}function Ba(t){return t.filter(s=>Nd.indexOf(s.name)===-1)}function Zs(t){if(t===null)return[];const s=[];for(let a=0;a<t.length;a++){const r=t[a];s.push(r)}return s}function Od(t){if(typeof t.webkitGetAsEntry!="function")return Qa(t);const s=t.webkitGetAsEntry();return s&&s.isDirectory?cn(s):Qa(t,s)}function ln(t){return t.reduce((s,a)=>[...s,...Array.isArray(a)?ln(a):[a]],[])}function Qa(t,s){return it(this,void 0,void 0,function*(){var a;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const i=yield t.getAsFileSystemHandle();if(i===null)throw new Error(`${t} is not a File`);if(i!==void 0){const o=yield i.getFile();return o.handle=i,dt(o)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return dt(r,(a=s==null?void 0:s.fullPath)!==null&&a!==void 0?a:void 0)})}function Rd(t){return it(this,void 0,void 0,function*(){return t.isDirectory?cn(t):Ad(t)})}function cn(t){const s=t.createReader();return new Promise((a,r)=>{const n=[];function i(){s.readEntries(o=>it(this,void 0,void 0,function*(){if(o.length){const l=Promise.all(o.map(Rd));n.push(l),i()}else try{const l=yield Promise.all(n);a(l)}catch(l){r(l)}}),o=>{r(o)})}i()})}function Ad(t){return it(this,void 0,void 0,function*(){return new Promise((s,a)=>{t.file(r=>{const n=dt(r,t.fullPath);s(n)},r=>{a(r)})})})}var Ts=function(t,s){if(t&&s){var a=Array.isArray(s)?s:s.split(",");if(a.length===0)return!0;var r=t.name||"",n=(t.type||"").toLowerCase(),i=n.replace(/\/.*$/,"");return a.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?i===l.replace(/\/.*$/,""):n===l})}return!0};function Ka(t){return Td(t)||Dd(t)||un(t)||Fd()}function Fd(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dd(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Td(t){if(Array.isArray(t))return ea(t)}function Ha(t,s){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);s&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function Wa(t){for(var s=1;s<arguments.length;s++){var a=arguments[s]!=null?arguments[s]:{};s%2?Ha(Object(a),!0).forEach(function(r){dn(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ha(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function dn(t,s,a){return s in t?Object.defineProperty(t,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[s]=a,t}function Ct(t,s){return Ld(t)||Md(t,s)||un(t,s)||_d()}function _d(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function un(t,s){if(t){if(typeof t=="string")return ea(t,s);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ea(t,s)}}function ea(t,s){(s==null||s>t.length)&&(s=t.length);for(var a=0,r=new Array(s);a<s;a++)r[a]=t[a];return r}function Md(t,s){var a=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var r=[],n=!0,i=!1,o,l;try{for(a=a.call(t);!(n=(o=a.next()).done)&&(r.push(o.value),!(s&&r.length===s));n=!0);}catch(c){i=!0,l=c}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw l}}return r}}function Ld(t){if(Array.isArray(t))return t}var Id=typeof Ts=="function"?Ts:Ts.default,qd="file-invalid-type",$d="file-too-large",Ud="file-too-small",zd="too-many-files",Bd=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=s.split(","),r=a.length>1?"one of ".concat(a.join(", ")):a[0];return{code:qd,message:"File type must be ".concat(r)}},Va=function(s){return{code:$d,message:"File is larger than ".concat(s," ").concat(s===1?"byte":"bytes")}},Ga=function(s){return{code:Ud,message:"File is smaller than ".concat(s," ").concat(s===1?"byte":"bytes")}},Qd={code:zd,message:"Too many files"};function mn(t,s){var a=t.type==="application/x-moz-file"||Id(t,s);return[a,a?null:Bd(s)]}function pn(t,s,a){if(Ze(t.size))if(Ze(s)&&Ze(a)){if(t.size>a)return[!1,Va(a)];if(t.size<s)return[!1,Ga(s)]}else{if(Ze(s)&&t.size<s)return[!1,Ga(s)];if(Ze(a)&&t.size>a)return[!1,Va(a)]}return[!0,null]}function Ze(t){return t!=null}function Kd(t){var s=t.files,a=t.accept,r=t.minSize,n=t.maxSize,i=t.multiple,o=t.maxFiles,l=t.validator;return!i&&s.length>1||i&&o>=1&&s.length>o?!1:s.every(function(c){var d=mn(c,a),u=Ct(d,1),h=u[0],x=pn(c,r,n),f=Ct(x,1),p=f[0],C=l?l(c):null;return h&&p&&!C})}function is(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Lt(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(s){return s==="Files"||s==="application/x-moz-file"}):!!t.target&&!!t.target.files}function Ja(t){t.preventDefault()}function Hd(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function Wd(t){return t.indexOf("Edge/")!==-1}function Vd(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Hd(t)||Wd(t)}function $e(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return s.some(function(l){return!is(r)&&l&&l.apply(void 0,[r].concat(i)),is(r)})}}function Gd(){return"showOpenFilePicker"in window}function Jd(t){if(Ze(t)){var s=Object.entries(t).filter(function(a){var r=Ct(a,2),n=r[0],i=r[1],o=!0;return hn(n)||(console.warn('Skipped "'.concat(n,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(i)||!i.every(xn))&&(console.warn('Skipped "'.concat(n,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(a,r){var n=Ct(r,2),i=n[0],o=n[1];return Wa(Wa({},a),{},dn({},i,o))},{});return[{description:"Files",accept:s}]}return t}function Yd(t){if(Ze(t))return Object.entries(t).reduce(function(s,a){var r=Ct(a,2),n=r[0],i=r[1];return[].concat(Ka(s),[n],Ka(i))},[]).filter(function(s){return hn(s)||xn(s)}).join(",")}function Xd(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function Zd(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function hn(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function xn(t){return/^.*\.[\w]+$/.test(t)}var eu=["children"],tu=["open"],su=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],au=["refKey","onChange","onClick"];function ru(t){return ou(t)||iu(t)||fn(t)||nu()}function nu(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iu(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ou(t){if(Array.isArray(t))return ta(t)}function _s(t,s){return du(t)||cu(t,s)||fn(t,s)||lu()}function lu(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fn(t,s){if(t){if(typeof t=="string")return ta(t,s);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ta(t,s)}}function ta(t,s){(s==null||s>t.length)&&(s=t.length);for(var a=0,r=new Array(s);a<s;a++)r[a]=t[a];return r}function cu(t,s){var a=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var r=[],n=!0,i=!1,o,l;try{for(a=a.call(t);!(n=(o=a.next()).done)&&(r.push(o.value),!(s&&r.length===s));n=!0);}catch(c){i=!0,l=c}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw l}}return r}}function du(t){if(Array.isArray(t))return t}function Ya(t,s){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);s&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function te(t){for(var s=1;s<arguments.length;s++){var a=arguments[s]!=null?arguments[s]:{};s%2?Ya(Object(a),!0).forEach(function(r){sa(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ya(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function sa(t,s,a){return s in t?Object.defineProperty(t,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[s]=a,t}function os(t,s){if(t==null)return{};var a=uu(t,s),r,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],!(s.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function uu(t,s){if(t==null)return{};var a={},r=Object.keys(t),n,i;for(i=0;i<r.length;i++)n=r[i],!(s.indexOf(n)>=0)&&(a[n]=t[n]);return a}var pa=g.forwardRef(function(t,s){var a=t.children,r=os(t,eu),n=yn(r),i=n.open,o=os(n,tu);return g.useImperativeHandle(s,function(){return{open:i}},[i]),se.createElement(g.Fragment,null,a(te(te({},o),{},{open:i})))});pa.displayName="Dropzone";var gn={disabled:!1,getFilesFromEvent:wd,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};pa.defaultProps=gn;pa.propTypes={children:Z.func,accept:Z.objectOf(Z.arrayOf(Z.string)),multiple:Z.bool,preventDropOnDocument:Z.bool,noClick:Z.bool,noKeyboard:Z.bool,noDrag:Z.bool,noDragEventsBubbling:Z.bool,minSize:Z.number,maxSize:Z.number,maxFiles:Z.number,disabled:Z.bool,getFilesFromEvent:Z.func,onFileDialogCancel:Z.func,onFileDialogOpen:Z.func,useFsAccessApi:Z.bool,autoFocus:Z.bool,onDragEnter:Z.func,onDragLeave:Z.func,onDragOver:Z.func,onDrop:Z.func,onDropAccepted:Z.func,onDropRejected:Z.func,onError:Z.func,validator:Z.func};var aa={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function yn(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=te(te({},gn),t),a=s.accept,r=s.disabled,n=s.getFilesFromEvent,i=s.maxSize,o=s.minSize,l=s.multiple,c=s.maxFiles,d=s.onDragEnter,u=s.onDragLeave,h=s.onDragOver,x=s.onDrop,f=s.onDropAccepted,p=s.onDropRejected,C=s.onFileDialogCancel,S=s.onFileDialogOpen,k=s.useFsAccessApi,N=s.autoFocus,w=s.preventDropOnDocument,E=s.noClick,R=s.noKeyboard,T=s.noDrag,L=s.noDragEventsBubbling,A=s.onError,v=s.validator,I=g.useMemo(function(){return Yd(a)},[a]),H=g.useMemo(function(){return Jd(a)},[a]),z=g.useMemo(function(){return typeof S=="function"?S:Xa},[S]),O=g.useMemo(function(){return typeof C=="function"?C:Xa},[C]),$=g.useRef(null),b=g.useRef(null),F=g.useReducer(mu,aa),U=_s(F,2),V=U[0],Q=U[1],X=V.isFocused,he=V.isFileDialogActive,ie=g.useRef(typeof window<"u"&&window.isSecureContext&&k&&Gd()),je=function(){!ie.current&&he&&setTimeout(function(){if(b.current){var B=b.current.files;B.length||(Q({type:"closeDialog"}),O())}},300)};g.useEffect(function(){return window.addEventListener("focus",je,!1),function(){window.removeEventListener("focus",je,!1)}},[b,he,O,ie]);var ue=g.useRef([]),Re=function(B){$.current&&$.current.contains(B.target)||(B.preventDefault(),ue.current=[])};g.useEffect(function(){return w&&(document.addEventListener("dragover",Ja,!1),document.addEventListener("drop",Re,!1)),function(){w&&(document.removeEventListener("dragover",Ja),document.removeEventListener("drop",Re))}},[$,w]),g.useEffect(function(){return!r&&N&&$.current&&$.current.focus(),function(){}},[$,N,r]);var P=g.useCallback(function(D){A?A(D):console.error(D)},[A]),m=g.useCallback(function(D){D.preventDefault(),D.persist(),Tt(D),ue.current=[].concat(ru(ue.current),[D.target]),Lt(D)&&Promise.resolve(n(D)).then(function(B){if(!(is(D)&&!L)){var le=B.length,me=le>0&&Kd({files:B,accept:I,minSize:o,maxSize:i,multiple:l,maxFiles:c,validator:v}),Ae=le>0&&!me;Q({isDragAccept:me,isDragReject:Ae,isDragActive:!0,type:"setDraggedFiles"}),d&&d(D)}}).catch(function(B){return P(B)})},[n,d,P,L,I,o,i,l,c,v]),j=g.useCallback(function(D){D.preventDefault(),D.persist(),Tt(D);var B=Lt(D);if(B&&D.dataTransfer)try{D.dataTransfer.dropEffect="copy"}catch{}return B&&h&&h(D),!1},[h,L]),_=g.useCallback(function(D){D.preventDefault(),D.persist(),Tt(D);var B=ue.current.filter(function(me){return $.current&&$.current.contains(me)}),le=B.indexOf(D.target);le!==-1&&B.splice(le,1),ue.current=B,!(B.length>0)&&(Q({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Lt(D)&&u&&u(D))},[$,u,L]),J=g.useCallback(function(D,B){var le=[],me=[];D.forEach(function(Ae){var xt=mn(Ae,I),ot=_s(xt,2),bs=ot[0],js=ot[1],Ns=pn(Ae,o,i),_t=_s(Ns,2),ws=_t[0],ks=_t[1],Cs=v?v(Ae):null;if(bs&&ws&&!Cs)le.push(Ae);else{var Ss=[js,ks];Cs&&(Ss=Ss.concat(Cs)),me.push({file:Ae,errors:Ss.filter(function(Nn){return Nn})})}}),(!l&&le.length>1||l&&c>=1&&le.length>c)&&(le.forEach(function(Ae){me.push({file:Ae,errors:[Qd]})}),le.splice(0)),Q({acceptedFiles:le,fileRejections:me,isDragReject:me.length>0,type:"setFiles"}),x&&x(le,me,B),me.length>0&&p&&p(me,B),le.length>0&&f&&f(le,B)},[Q,l,I,o,i,c,x,f,p,v]),ae=g.useCallback(function(D){D.preventDefault(),D.persist(),Tt(D),ue.current=[],Lt(D)&&Promise.resolve(n(D)).then(function(B){is(D)&&!L||J(B,D)}).catch(function(B){return P(B)}),Q({type:"reset"})},[n,J,P,L]),oe=g.useCallback(function(){if(ie.current){Q({type:"openDialog"}),z();var D={multiple:l,types:H};window.showOpenFilePicker(D).then(function(B){return n(B)}).then(function(B){J(B,null),Q({type:"closeDialog"})}).catch(function(B){Xd(B)?(O(B),Q({type:"closeDialog"})):Zd(B)?(ie.current=!1,b.current?(b.current.value=null,b.current.click()):P(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):P(B)});return}b.current&&(Q({type:"openDialog"}),z(),b.current.value=null,b.current.click())},[Q,z,O,k,J,P,H,l]),fe=g.useCallback(function(D){!$.current||!$.current.isEqualNode(D.target)||(D.key===" "||D.key==="Enter"||D.keyCode===32||D.keyCode===13)&&(D.preventDefault(),oe())},[$,oe]),Ne=g.useCallback(function(){Q({type:"focus"})},[]),we=g.useCallback(function(){Q({type:"blur"})},[]),Me=g.useCallback(function(){E||(Vd()?setTimeout(oe,0):oe())},[E,oe]),De=function(B){return r?null:B},vs=function(B){return R?null:De(B)},Dt=function(B){return T?null:De(B)},Tt=function(B){L&&B.stopPropagation()},vn=g.useMemo(function(){return function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},B=D.refKey,le=B===void 0?"ref":B,me=D.role,Ae=D.onKeyDown,xt=D.onFocus,ot=D.onBlur,bs=D.onClick,js=D.onDragEnter,Ns=D.onDragOver,_t=D.onDragLeave,ws=D.onDrop,ks=os(D,su);return te(te(sa({onKeyDown:vs($e(Ae,fe)),onFocus:vs($e(xt,Ne)),onBlur:vs($e(ot,we)),onClick:De($e(bs,Me)),onDragEnter:Dt($e(js,m)),onDragOver:Dt($e(Ns,j)),onDragLeave:Dt($e(_t,_)),onDrop:Dt($e(ws,ae)),role:typeof me=="string"&&me!==""?me:"presentation"},le,$),!r&&!R?{tabIndex:0}:{}),ks)}},[$,fe,Ne,we,Me,m,j,_,ae,R,T,r]),bn=g.useCallback(function(D){D.stopPropagation()},[]),jn=g.useMemo(function(){return function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},B=D.refKey,le=B===void 0?"ref":B,me=D.onChange,Ae=D.onClick,xt=os(D,au),ot=sa({accept:I,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:De($e(me,ae)),onClick:De($e(Ae,bn)),tabIndex:-1},le,b);return te(te({},ot),xt)}},[b,a,l,ae,r]);return te(te({},V),{},{isFocused:X&&!r,getRootProps:vn,getInputProps:jn,rootRef:$,inputRef:b,open:De(oe)})}function mu(t,s){switch(s.type){case"focus":return te(te({},t),{},{isFocused:!0});case"blur":return te(te({},t),{},{isFocused:!1});case"openDialog":return te(te({},aa),{},{isFileDialogActive:!0});case"closeDialog":return te(te({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return te(te({},t),{},{isDragActive:s.isDragActive,isDragAccept:s.isDragAccept,isDragReject:s.isDragReject});case"setFiles":return te(te({},t),{},{acceptedFiles:s.acceptedFiles,fileRejections:s.fileRejections,isDragReject:s.isDragReject});case"reset":return te({},aa);default:return t}}function Xa(){}const pu=()=>{const t=Pe(),{user:s}=Oe(),a=Et(),[r,n]=g.useState({title:"",description:"",category:"",price:0,quantity:1,expiryDate:"",expiryTime:"",urgency:"medium",isFree:!0,location:{address:"",city:"",coordinates:null},allergens:[],dietaryInfo:[],pickupInstructions:""}),[i,o]=g.useState([]),[l,c]=g.useState(!1),[d,u]=g.useState({}),h=[{value:"fresh",label:"Fresh Produce",icon:"🥬"},{value:"cooked",label:"Cooked Meals",icon:"🍲"},{value:"bakery",label:"Bakery",icon:"🥖"},{value:"packaged",label:"Packaged Food",icon:"📦"},{value:"dairy",label:"Dairy & Eggs",icon:"🥛"},{value:"frozen",label:"Frozen Food",icon:"🧊"},{value:"beverages",label:"Beverages",icon:"🥤"},{value:"snacks",label:"Snacks",icon:"🍿"}],x=[{value:"low",label:"Low",color:"text-green-600 bg-green-100"},{value:"medium",label:"Medium",color:"text-orange-600 bg-orange-100"},{value:"high",label:"High",color:"text-red-600 bg-red-100"}],f=["Gluten","Dairy","Eggs","Soy","Nuts","Peanuts","Fish","Shellfish"],p=["Vegetarian","Vegan","Halal","Kosher","Gluten-Free","Dairy-Free"],C=g.useCallback(b=>{const F=b.map(U=>({file:U,preview:URL.createObjectURL(U),id:Math.random().toString(36).substr(2,9)}));o(U=>[...U,...F])},[]),{getRootProps:S,getInputProps:k,isDragActive:N}=yn({onDrop:C,accept:{"image/*":[".jpeg",".jpg",".png",".webp"]},maxSize:5*1024*1024,multiple:!0}),w=b=>{o(F=>F.filter(U=>U.id!==b))},E=Ve({mutationFn:async b=>(await M.post("/api/posts",b)).data,onSuccess:b=>{W.success("Food post created successfully!"),a.invalidateQueries(["posts"]),t(`/posts/${b.post.id}`)},onError:b=>{var F,U,V,Q;W.error(((U=(F=b.response)==null?void 0:F.data)==null?void 0:U.message)||"Failed to create post"),(Q=(V=b.response)==null?void 0:V.data)!=null&&Q.errors&&u(b.response.data.errors)}}),R=b=>{const{name:F,value:U,type:V,checked:Q}=b.target;n(X=>({...X,[F]:V==="checkbox"?Q:U})),d[F]&&u(X=>({...X,[F]:null}))},T=(b,F)=>{n(U=>({...U,location:{...U.location,[b]:F}}))},L=()=>{n(b=>({...b,isFree:!b.isFree,price:b.isFree?0:b.price}))},A=b=>{n(F=>({...F,allergens:F.allergens.includes(b)?F.allergens.filter(U=>U!==b):[...F.allergens,b]}))},v=b=>{n(F=>({...F,dietaryInfo:F.dietaryInfo.includes(b)?F.dietaryInfo.filter(U=>U!==b):[...F.dietaryInfo,b]}))},I=(b,F)=>{if(!b||!F)return"medium";const Q=(new Date(`${b}T${F}`)-new Date)/(1e3*60*60);return Q<=24?"high":Q<=72?"medium":"low"},H=(b,F)=>{if(n(U=>({...U,[b]:F})),b==="expiryDate"||b==="expiryTime"){const U=b==="expiryDate"?F:prev.expiryDate,V=b==="expiryTime"?F:prev.expiryTime;if(U&&V){const Q=I(U,V);n(X=>({...X,urgency:Q}))}}},z=()=>{const b={};return r.title.trim()||(b.title="Title is required"),r.description.trim()||(b.description="Description is required"),r.category||(b.category="Category is required"),r.expiryDate||(b.expiryDate="Expiry date is required"),r.expiryTime||(b.expiryTime="Expiry time is required"),r.location.address.trim()||(b.address="Address is required"),r.location.city.trim()||(b.city="City is required"),!r.isFree&&r.price<=0&&(b.price="Price must be greater than 0"),r.quantity<=0&&(b.quantity="Quantity must be greater than 0"),u(b),Object.keys(b).length===0},O=async b=>{if(b.preventDefault(),!z())return;const F={...r,expiryDate:`${r.expiryDate}T${r.expiryTime}`,price:r.isFree?0:parseFloat(r.price),quantity:parseInt(r.quantity)};E.mutate(F)},$=new Date().toISOString().split("T")[0];return s?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Share Food"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Help reduce food waste by sharing your leftover food"})]}),e.jsxs("button",{onClick:()=>t(-1),className:"btn-outline",children:[e.jsx(Ge,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})})}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("form",{onSubmit:O,className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-soft border border-gray-100 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx(qn,{className:"w-5 h-5 mr-2"}),"Basic Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),e.jsx("input",{type:"text",name:"title",value:r.title,onChange:R,className:`form-input ${d.title?"border-red-500":""}`,placeholder:"e.g., Fresh bread from local bakery",required:!0}),d.title&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(ce,{className:"w-4 h-4 mr-1"}),d.title]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),e.jsx("textarea",{name:"description",value:r.description,onChange:R,rows:4,className:`form-textarea ${d.description?"border-red-500":""}`,placeholder:"Describe the food item, ingredients, condition, etc.",required:!0}),d.description&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(ce,{className:"w-4 h-4 mr-1"}),d.description]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),e.jsxs("select",{name:"category",value:r.category,onChange:R,className:`form-select ${d.category?"border-red-500":""}`,required:!0,children:[e.jsx("option",{value:"",children:"Select category"}),h.map(b=>e.jsxs("option",{value:b.value,children:[b.icon," ",b.label]},b.value))]}),d.category&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(ce,{className:"w-4 h-4 mr-1"}),d.category]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity *"}),e.jsx("input",{type:"number",name:"quantity",value:r.quantity,onChange:R,min:"1",className:`form-input ${d.quantity?"border-red-500":""}`,required:!0}),d.quantity&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(ce,{className:"w-4 h-4 mr-1"}),d.quantity]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-soft border border-gray-100 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx(It,{className:"w-5 h-5 mr-2"}),"Pricing"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"isFree",checked:r.isFree,onChange:L,className:"form-checkbox"}),e.jsx("label",{htmlFor:"isFree",className:"ml-3 text-sm font-medium text-gray-700",children:"This food is free"})]}),!r.isFree&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (€) *"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx($n,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"number",name:"price",value:r.price,onChange:R,step:"0.01",min:"0.01",className:`form-input pl-10 ${d.price?"border-red-500":""}`,placeholder:"0.00",required:!0})]}),d.price&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(ce,{className:"w-4 h-4 mr-1"}),d.price]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-soft border border-gray-100 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx(ze,{className:"w-5 h-5 mr-2"}),"Expiry & Urgency"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiry Date *"}),e.jsx("input",{type:"date",name:"expiryDate",value:r.expiryDate,onChange:b=>H("expiryDate",b.target.value),min:$,className:`form-input ${d.expiryDate?"border-red-500":""}`,required:!0}),d.expiryDate&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(ce,{className:"w-4 h-4 mr-1"}),d.expiryDate]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiry Time *"}),e.jsx("input",{type:"time",name:"expiryTime",value:r.expiryTime,onChange:b=>H("expiryTime",b.target.value),className:`form-input ${d.expiryTime?"border-red-500":""}`,required:!0}),d.expiryTime&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(ce,{className:"w-4 h-4 mr-1"}),d.expiryTime]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Urgency Level"}),e.jsx("div",{className:"space-y-2",children:x.map(b=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"urgency",value:b.value,checked:r.urgency===b.value,onChange:R,className:"form-radio"}),e.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${b.color}`,children:b.label})]},b.value))})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-soft border border-gray-100 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx(re,{className:"w-5 h-5 mr-2"}),"Pickup Location"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address *"}),e.jsx("input",{type:"text",value:r.location.address,onChange:b=>T("address",b.target.value),className:`form-input ${d.address?"border-red-500":""}`,placeholder:"Street address",required:!0}),d.address&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(ce,{className:"w-4 h-4 mr-1"}),d.address]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),e.jsx("input",{type:"text",value:r.location.city,onChange:b=>T("city",b.target.value),className:`form-input ${d.city?"border-red-500":""}`,placeholder:"City name",required:!0}),d.city&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(ce,{className:"w-4 h-4 mr-1"}),d.city]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-soft border border-gray-100 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx(rr,{className:"w-5 h-5 mr-2"}),"Photos"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{...S(),className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors ${N?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-primary-400 hover:bg-gray-50"}`,children:[e.jsx("input",{...k()}),e.jsx(Un,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),N?e.jsx("p",{className:"text-primary-600 font-medium",children:"Drop the images here..."}):e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 font-medium",children:"Drag & drop images here, or click to select"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"PNG, JPG, WEBP up to 5MB each"})]})]}),i.length>0&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:i.map(b=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:b.preview,alt:"Preview",className:"w-full h-24 object-cover rounded-lg"}),e.jsx("button",{type:"button",onClick:()=>w(b.id),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(cs,{className:"w-4 h-4"})})]},b.id))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-soft border border-gray-100 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx(ir,{className:"w-5 h-5 mr-2"}),"Additional Information"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Allergens (if any)"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:f.map(b=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:r.allergens.includes(b),onChange:()=>A(b),className:"form-checkbox"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:b})]},b))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Dietary Information"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:p.map(b=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:r.dietaryInfo.includes(b),onChange:()=>v(b),className:"form-checkbox"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:b})]},b))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pickup Instructions"}),e.jsx("textarea",{name:"pickupInstructions",value:r.pickupInstructions,onChange:R,rows:3,className:"form-textarea",placeholder:"Any special instructions for pickup (e.g., door code, specific time, etc.)"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>t(-1),className:"btn-outline",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:E.isLoading,className:"btn-primary",children:[E.isLoading?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):e.jsx(Nt,{className:"w-4 h-4 mr-2"}),"Share Food"]})]})]})})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})})},hu=()=>{var $,b,F,U,V,Q,X,he,ie,je,ue,Re;const t=Pe(),{user:s}=Oe();g.useRef(null);const[a,r]=g.useState("map"),[n,i]=g.useState({category:"",priceRange:"",urgency:"",radius:10,searchQuery:""}),[o,l]=g.useState(!1),[c,d]=g.useState(null),[u,h]=g.useState(null),[x,f]=g.useState({lat:56.9496,lng:24.1052}),{data:p,isLoading:C,refetch:S}=pe({queryKey:["nearbyPosts",n,u],queryFn:async()=>{const P=new URLSearchParams({radius:n.radius,...n.category&&{category:n.category},...n.priceRange&&{priceRange:n.priceRange},...n.urgency&&{urgency:n.urgency},...n.searchQuery&&{search:n.searchQuery}});return u&&(P.append("lat",u.lat),P.append("lng",u.lng)),(await M.get(`/api/posts/nearby?${P}`)).data},enabled:!!u||!!n.searchQuery});g.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(P=>{const{latitude:m,longitude:j}=P.coords;h({lat:m,lng:j}),f({lat:m,lng:j})},P=>{console.log("Geolocation error:",P),h({lat:56.9496,lng:24.1052})})},[]);const k=[{value:"",label:"All Categories",icon:"🍽️"},{value:"fresh",label:"Fresh Produce",icon:"🥬"},{value:"cooked",label:"Cooked Meals",icon:"🍲"},{value:"bakery",label:"Bakery",icon:"🥖"},{value:"packaged",label:"Packaged Food",icon:"📦"},{value:"dairy",label:"Dairy & Eggs",icon:"🥛"},{value:"frozen",label:"Frozen Food",icon:"🧊"},{value:"beverages",label:"Beverages",icon:"🥤"},{value:"snacks",label:"Snacks",icon:"🍿"}],N=[{value:"",label:"All Prices"},{value:"free",label:"Free Only"},{value:"0-5",label:"€0 - €5"},{value:"5-10",label:"€5 - €10"},{value:"10+",label:"€10+"}],w=[{value:"",label:"All Urgency"},{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],E=[1,5,10,25,50],R=(P,m)=>{i(j=>({...j,[P]:m}))},T=()=>{i({category:"",priceRange:"",urgency:"",radius:10,searchQuery:""})},L=P=>{switch(P){case"high":return"text-red-600 bg-red-100";case"medium":return"text-orange-600 bg-orange-100";case"low":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},A=P=>{switch(P){case"available":return"text-green-600 bg-green-100";case"reserved":return"text-blue-600 bg-blue-100";case"claimed":return"text-purple-600 bg-purple-100";case"expired":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},v=P=>new Date(P).toLocaleDateString("lv-LV"),I=P=>{const m=new Date,_=new Date(P)-m,J=Math.ceil(_/(1e3*60*60));return J<=0?"Expired":J<=24?`${J}h left`:`${Math.ceil(J/24)}d left`},H=P=>{if(d(P),a==="list"){const m=document.getElementById(`post-${P.id}`);m&&m.scrollIntoView({behavior:"smooth"})}},z=P=>{if(!s){W.error("Please log in to claim food"),t("/login");return}t(`/posts/${P.id}`)},O=P=>{if(!s){W.error("Please log in to send messages"),t("/login");return}t(`/messages?user=${P.user.id}`)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Food Map"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>r("map"),className:`p-2 rounded-lg transition-colors ${a==="map"?"bg-primary-100 text-primary-600":"text-gray-500 hover:text-gray-700"}`,children:e.jsx(or,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>r("list"),className:`p-2 rounded-lg transition-colors ${a==="list"?"bg-primary-100 text-primary-600":"text-gray-500 hover:text-gray-700"}`,children:e.jsx(lr,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(at,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search food items...",value:n.searchQuery,onChange:P=>R("searchQuery",P.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent w-64"})]}),e.jsx("button",{onClick:()=>l(!o),className:`p-2 rounded-lg transition-colors ${o?"bg-primary-100 text-primary-600":"text-gray-500 hover:text-gray-700"}`,children:e.jsx(ia,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>{u&&(f(u),S())},className:"p-2 text-gray-500 hover:text-gray-700 transition-colors",title:"Center on my location",children:e.jsx(zn,{className:"w-5 h-5"})})]})]})})}),o&&e.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-4",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),e.jsx("select",{value:n.category,onChange:P=>R("category",P.target.value),className:"form-select",children:k.map(P=>e.jsxs("option",{value:P.value,children:[P.icon," ",P.label]},P.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Range"}),e.jsx("select",{value:n.priceRange,onChange:P=>R("priceRange",P.target.value),className:"form-select",children:N.map(P=>e.jsx("option",{value:P.value,children:P.label},P.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Urgency"}),e.jsx("select",{value:n.urgency,onChange:P=>R("urgency",P.target.value),className:"form-select",children:w.map(P=>e.jsx("option",{value:P.value,children:P.label},P.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Radius"}),e.jsx("select",{value:n.radius,onChange:P=>R("radius",parseInt(P.target.value)),className:"form-select",children:E.map(P=>e.jsxs("option",{value:P,children:[P," km"]},P))})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:T,className:"btn-outline w-full",children:"Clear Filters"})})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:a==="map"?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx("div",{className:"bg-white rounded-xl shadow-soft border border-gray-100 p-4",children:e.jsx("div",{className:"h-96 bg-gray-200 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(re,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"Interactive Map"}),e.jsx("p",{className:"text-sm",children:"Map integration will be implemented here"}),e.jsx("p",{className:"text-xs mt-2",children:"Using Mapbox GL JS or similar"})]})})})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-soft border border-gray-100 p-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Nearby Food (",(($=p==null?void 0:p.posts)==null?void 0:$.length)||0,")"]}),C?e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((P,m)=>e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"h-32 bg-gray-200 rounded-lg"})},m))}):((b=p==null?void 0:p.posts)==null?void 0:b.length)>0?e.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:p.posts.map(P=>{var m;return e.jsx("div",{onClick:()=>H(P),className:`border border-gray-200 rounded-lg p-3 cursor-pointer hover:shadow-md transition-shadow ${(c==null?void 0:c.id)===P.id?"ring-2 ring-primary-500":""}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-gray-900 truncate mb-1",children:P.title}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-2",children:P.description}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(re,{className:"w-3 h-3 mr-1"}),((m=P.location)==null?void 0:m.city)||"Unknown"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(ze,{className:"w-3 h-3 mr-1"}),I(P.expiryDate)]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold text-primary-600",children:P.price===0?"Free":`€${P.price}`}),e.jsx("div",{className:"flex space-x-1 mt-1",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${L(P.urgency)}`,children:P.urgency})})]})]})},P.id)})}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(re,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"No food items found nearby"}),e.jsx("p",{className:"text-sm",children:"Try adjusting your filters or location"})]})]})})]}):e.jsx("div",{className:"space-y-6",children:C?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((P,m)=>e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"h-64 bg-gray-200 rounded-lg"})},m))}):((F=p==null?void 0:p.posts)==null?void 0:F.length)>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.posts.map(P=>{var m,j,_,J,ae,oe,fe,Ne,we,Me;return e.jsxs("div",{id:`post-${P.id}`,className:"bg-white rounded-xl shadow-soft border border-gray-100 overflow-hidden hover:shadow-large transition-shadow",children:[e.jsx("div",{className:"h-48 bg-gray-200 relative",children:e.jsxs("div",{className:"absolute top-3 right-3 flex space-x-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${L(P.urgency)}`,children:P.urgency}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A(P.status)}`,children:P.status})]})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 line-clamp-2",children:P.title}),e.jsxs("div",{className:"text-right ml-3",children:[e.jsx("div",{className:"text-xl font-bold text-primary-600",children:P.price===0?"Free":`€${P.price}`}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Qty: ",P.quantity]})]})]}),e.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 mb-3",children:P.description}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(re,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:[(m=P.location)==null?void 0:m.address,", ",(j=P.location)==null?void 0:j.city]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(ze,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:["Expires: ",v(P.expiryDate)]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(ct,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:["Posted: ",v(P.createdAt)]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsxs("span",{className:"text-sm font-medium text-primary-600",children:[(J=(_=P.user)==null?void 0:_.firstName)==null?void 0:J[0],(oe=(ae=P.user)==null?void 0:ae.lastName)==null?void 0:oe[0]]})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[(fe=P.user)==null?void 0:fe.firstName," ",(Ne=P.user)==null?void 0:Ne.lastName]}),((we=P.user)==null?void 0:we.isBusiness)&&e.jsx("p",{className:"text-xs text-blue-600",children:"Business Account"})]})]}),((Me=P.user)==null?void 0:Me.rating)&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Je,{className:"w-4 h-4 text-yellow-500 mr-1"}),e.jsx("span",{children:P.user.rating.toFixed(1)})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>z(P),className:"btn-primary flex-1",children:[e.jsx(be,{className:"w-4 h-4 mr-2"}),"Claim"]}),e.jsx("button",{onClick:()=>O(P),className:"btn-outline",children:e.jsx(Fe,{className:"w-4 h-4"})})]})]})]},P.id)})}):e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(re,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"No food items found"}),e.jsx("p",{className:"mb-4",children:"Try adjusting your search criteria or location"}),e.jsx("button",{onClick:T,className:"btn-primary",children:"Clear Filters"})]})})}),c&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:c.title}),e.jsx("button",{onClick:()=>d(null),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Ge,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"h-64 bg-gray-200 rounded-lg mb-4"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-600",children:c.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Price:"}),e.jsx("span",{className:"ml-2 text-lg font-bold text-primary-600",children:c.price===0?"Free":`€${c.price}`})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Quantity:"}),e.jsx("span",{className:"ml-2",children:c.quantity})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Category:"}),e.jsx("span",{className:"ml-2 capitalize",children:c.category})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Expires:"}),e.jsx("span",{className:"ml-2",children:v(c.expiryDate)})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${L(c.urgency)}`,children:[c.urgency," urgency"]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${A(c.status)}`,children:c.status})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Pickup Location"}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(re,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:[(U=c.location)==null?void 0:U.address,", ",(V=c.location)==null?void 0:V.city]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Shared by"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsxs("span",{className:"text-lg font-medium text-primary-600",children:[(X=(Q=c.user)==null?void 0:Q.firstName)==null?void 0:X[0],(ie=(he=c.user)==null?void 0:he.lastName)==null?void 0:ie[0]]})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[(je=c.user)==null?void 0:je.firstName," ",(ue=c.user)==null?void 0:ue.lastName]}),((Re=c.user)==null?void 0:Re.isBusiness)&&e.jsx("p",{className:"text-sm text-blue-600",children:"Business Account"})]})]})]}),e.jsxs("div",{className:"border-t pt-4 flex space-x-3",children:[e.jsxs("button",{onClick:()=>z(c),className:"btn-primary flex-1",children:[e.jsx(be,{className:"w-4 h-4 mr-2"}),"Claim This Food"]}),e.jsxs("button",{onClick:()=>O(c),className:"btn-outline",children:[e.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Message"]})]})]})]})})})]})},xu=()=>{var T,L,A;const t=Pe(),{user:s}=Oe(),[a,r]=g.useState("trending"),[n,i]=g.useState({timeRange:"week",category:"",city:""}),[o,l]=g.useState(!1),{data:c,isLoading:d}=pe({queryKey:["trendingPosts",n],queryFn:async()=>{const v=new URLSearchParams({timeRange:n.timeRange,...n.category&&{category:n.category},...n.city&&{city:n.city}});return(await M.get(`/api/posts/trending?${v}`)).data}}),{data:u}=pe({queryKey:["popularCategories"],queryFn:async()=>(await M.get("/api/posts/categories/popular")).data}),{data:h}=pe({queryKey:["topContributors"],queryFn:async()=>(await M.get("/api/users/leaderboard?limit=10")).data}),x=[{value:"day",label:"Today",icon:"🌅"},{value:"week",label:"This Week",icon:"📅"},{value:"month",label:"This Month",icon:"🗓️"},{value:"year",label:"This Year",icon:"📊"}],f=[{value:"",label:"All Categories",icon:"🍽️"},{value:"fresh",label:"Fresh Produce",icon:"🥬"},{value:"cooked",label:"Cooked Meals",icon:"🍲"},{value:"bakery",label:"Bakery",icon:"🥖"},{value:"packaged",label:"Packaged Food",icon:"📦"},{value:"dairy",label:"Dairy & Eggs",icon:"🥛"},{value:"frozen",label:"Frozen Food",icon:"🧊"},{value:"beverages",label:"Beverages",icon:"🥤"},{value:"snacks",label:"Snacks",icon:"🍿"}],p=(v,I)=>{i(H=>({...H,[v]:I}))},C=()=>{i({timeRange:"week",category:"",city:""})},S=v=>{switch(v){case"high":return"text-red-600 bg-red-100";case"medium":return"text-orange-600 bg-orange-100";case"low":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},k=v=>{switch(v){case"available":return"text-green-600 bg-green-100";case"reserved":return"text-blue-600 bg-blue-100";case"claimed":return"text-purple-600 bg-purple-100";case"expired":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},N=v=>new Date(v).toLocaleDateString("lv-LV"),w=v=>{if(!s){W.error("Please log in to claim food"),t("/login");return}t(`/posts/${v.id}`)},E=v=>{if(!s){W.error("Please log in to send messages"),t("/login");return}t(`/messages?user=${v.user.id}`)},R=v=>{t(`/profile/${v}`)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Trending & Popular"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Discover the most popular food items and top contributors"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>l(!o),className:`p-2 rounded-lg transition-colors ${o?"bg-primary-100 text-primary-600":"text-gray-500 hover:text-gray-700"}`,children:e.jsx(ia,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>t("/create-post"),className:"btn-primary",children:"Share Food"})]})]})})}),o&&e.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-4",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Range"}),e.jsx("select",{value:n.timeRange,onChange:v=>p("timeRange",v.target.value),className:"form-select",children:x.map(v=>e.jsxs("option",{value:v.value,children:[v.icon," ",v.label]},v.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),e.jsx("select",{value:n.category,onChange:v=>p("category",v.target.value),className:"form-select",children:f.map(v=>e.jsxs("option",{value:v.value,children:[v.icon," ",v.label]},v.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),e.jsx("input",{type:"text",value:n.city,onChange:v=>p("city",v.target.value),placeholder:"Enter city name",className:"form-input"})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:C,className:"btn-outline w-full",children:"Clear Filters"})})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-soft border border-gray-100 mb-8",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"trending",label:"Trending Posts",icon:Gt},{id:"categories",label:"Popular Categories",icon:It},{id:"contributors",label:"Top Contributors",icon:vt}].map(v=>e.jsxs("button",{onClick:()=>r(v.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${a===v.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(v.icon,{className:"w-4 h-4"}),e.jsx("span",{children:v.label})]},v.id))})}),e.jsxs("div",{className:"p-6",children:[a==="trending"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Trending Food Posts"}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[e.jsx(Bn,{className:"w-4 h-4 text-orange-500"}),e.jsx("span",{children:"Based on views, claims, and engagement"})]})]}),d?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((v,I)=>e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"h-64 bg-gray-200 rounded-lg"})},I))}):((T=c==null?void 0:c.posts)==null?void 0:T.length)>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.posts.map((v,I)=>{var H,z,O,$,b,F,U,V,Q,X;return e.jsxs("div",{className:"bg-white rounded-xl shadow-soft border border-gray-100 overflow-hidden hover:shadow-large transition-shadow",children:[I<3&&e.jsx("div",{className:"absolute top-3 left-3 z-10",children:e.jsxs("div",{className:`px-3 py-1 rounded-full text-xs font-bold text-white ${I===0?"bg-yellow-500":I===1?"bg-gray-400":"bg-orange-500"}`,children:["#",I+1]})}),e.jsx("div",{className:"h-48 bg-gray-200 relative",children:e.jsxs("div",{className:"absolute top-3 right-3 flex space-x-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S(v.urgency)}`,children:v.urgency}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k(v.status)}`,children:v.status})]})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 line-clamp-2",children:v.title}),e.jsxs("div",{className:"text-right ml-3",children:[e.jsx("div",{className:"text-xl font-bold text-primary-600",children:v.price===0?"Free":`€${v.price}`}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Qty: ",v.quantity]})]})]}),e.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 mb-3",children:v.description}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(re,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:[(H=v.location)==null?void 0:H.address,", ",(z=v.location)==null?void 0:z.city]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(ze,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:["Expires: ",N(v.expiryDate)]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(ct,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:["Posted: ",N(v.createdAt)]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsxs("span",{className:"text-sm font-medium text-primary-600",children:[($=(O=v.user)==null?void 0:O.firstName)==null?void 0:$[0],(F=(b=v.user)==null?void 0:b.lastName)==null?void 0:F[0]]})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[(U=v.user)==null?void 0:U.firstName," ",(V=v.user)==null?void 0:V.lastName]}),((Q=v.user)==null?void 0:Q.isBusiness)&&e.jsx("p",{className:"text-xs text-blue-600",children:"Business Account"})]})]}),((X=v.user)==null?void 0:X.rating)&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Je,{className:"w-4 h-4 text-yellow-500 mr-1"}),e.jsx("span",{children:v.user.rating.toFixed(1)})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>w(v),className:"btn-primary flex-1",children:[e.jsx(be,{className:"w-4 h-4 mr-2"}),"Claim"]}),e.jsx("button",{onClick:()=>E(v),className:"btn-outline",children:e.jsx(Fe,{className:"w-4 h-4"})})]})]})]},v.id)})}):e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(Gt,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"No trending posts found"}),e.jsx("p",{className:"mb-4",children:"Try adjusting your filters or check back later"}),e.jsx("button",{onClick:C,className:"btn-primary",children:"Clear Filters"})]})]}),a==="categories"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Popular Food Categories"}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[e.jsx(It,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{children:"Based on post volume and engagement"})]})]}),((L=u==null?void 0:u.categories)==null?void 0:L.length)>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.categories.map((v,I)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-soft border border-gray-100 p-6 hover:shadow-large transition-shadow cursor-pointer",onClick:()=>{i(H=>({...H,category:v.value})),r("trending")},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"text-3xl",children:v.icon}),I<3&&e.jsxs("div",{className:`px-2 py-1 rounded-full text-xs font-bold text-white ${I===0?"bg-yellow-500":I===1?"bg-gray-400":"bg-orange-500"}`,children:["#",I+1]})]}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:v.label}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Total Posts:"}),e.jsx("span",{className:"font-medium",children:v.postCount})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Success Rate:"}),e.jsxs("span",{className:"font-medium",children:[v.successRate,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Avg. Views:"}),e.jsx("span",{className:"font-medium",children:v.avgViews})]})]}),e.jsxs("div",{className:"mt-4 flex items-center text-primary-600 text-sm font-medium",children:[e.jsx("span",{children:"Browse category"}),e.jsx(ar,{className:"w-4 h-4 ml-1"})]})]},v.name))}):e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(It,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"No category data available"}),e.jsx("p",{className:"mb-4",children:"Category statistics will appear as more food is shared"})]})]}),a==="contributors"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Contributors"}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[e.jsx(vt,{className:"w-4 h-4 text-yellow-500"}),e.jsx("span",{children:"Based on eco points and successful pickups"})]})]}),((A=h==null?void 0:h.users)==null?void 0:A.length)>0?e.jsx("div",{className:"space-y-4",children:h.users.map((v,I)=>{var H,z;return e.jsx("div",{className:"bg-white rounded-xl shadow-soft border border-gray-100 p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-lg ${I===0?"bg-yellow-500":I===1?"bg-gray-400":I===2?"bg-orange-500":"bg-primary-500"}`,children:["#",I+1]}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsxs("span",{className:"text-lg font-medium text-primary-600",children:[(H=v.firstName)==null?void 0:H[0],(z=v.lastName)==null?void 0:z[0]]})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900",children:[v.firstName," ",v.lastName]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[v.isBusiness&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e.jsx(rt,{className:"w-3 h-3 mr-1"}),"Business"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(re,{className:"w-3 h-3 mr-1"}),v.city]})]})]})]})}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-primary-600",children:v.totalEcoPoints}),e.jsx("div",{className:"text-gray-500",children:"Eco Points"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-secondary-600",children:v.successfulPickups}),e.jsx("div",{className:"text-gray-500",children:"Pickups"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-success-600",children:v.totalPosts}),e.jsx("div",{className:"text-gray-500",children:"Posts"})]})]})}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("button",{onClick:()=>R(v.id),className:"btn-outline text-sm px-3 py-1",children:"View Profile"}),e.jsx("button",{onClick:()=>t(`/map?user=${v.id}`),className:"btn-outline text-sm px-3 py-1",children:"View Posts"})]})]})},v.id)})}):e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(vt,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"No contributor data available"}),e.jsx("p",{className:"mb-4",children:"Leaderboard will populate as users start sharing food"})]})]})]})]})})]})},fu=()=>{var A,v,I,H,z;const t=Pe(),{user:s}=Pe(),[a,r]=g.useState("ecoPoints"),[n,i]=g.useState("allTime"),[o,l]=g.useState({city:"",category:"all"}),[c,d]=g.useState(!1),{data:u,isLoading:h}=pe({queryKey:["leaderboard",a,n,o],queryFn:async()=>{const O=new URLSearchParams({type:a,timeRange:n,...o.city&&{city:o.city},...o.category!=="all"&&{category:o.category}});return(await M.get(`/api/users/leaderboard?${O}`)).data}}),{data:x}=pe({queryKey:["userRanking",a,n],queryFn:async()=>(await M.get(`/api/users/leaderboard/me?type=${a}&timeRange=${n}`)).data,enabled:!!s}),{data:f}=pe({queryKey:["achievements"],queryFn:async()=>(await M.get("/api/users/achievements")).data}),p=[{value:"week",label:"This Week",icon:"📅"},{value:"month",label:"This Month",icon:"🗓️"},{value:"quarter",label:"This Quarter",icon:"📊"},{value:"year",label:"This Year",icon:"🎯"},{value:"allTime",label:"All Time",icon:"🏆"}],C=[{id:"ecoPoints",label:"Eco Points",icon:Nt,description:"Environmental impact score"},{id:"foodShared",label:"Food Shared",icon:be,description:"Total food items shared"},{id:"pickups",label:"Successful Pickups",icon:wt,description:"Food items successfully claimed"},{id:"streak",label:"Sharing Streak",icon:fa,description:"Consecutive days of sharing"},{id:"rating",label:"User Rating",icon:Je,description:"Average rating from other users"}],S=[{type:"eco",label:"Eco Warrior",icon:Nt,color:"text-green-600"},{type:"sharing",label:"Sharing Master",icon:be,color:"text-red-600"},{type:"streak",label:"Streak Champion",icon:fa,color:"text-yellow-600"},{type:"community",label:"Community Hero",icon:wt,color:"text-blue-600"},{type:"quality",label:"Quality Provider",icon:Je,color:"text-purple-600"}],k=O=>O===1?{icon:Vn,color:"text-yellow-500",bg:"bg-yellow-100"}:O===2?{icon:Gn,color:"text-gray-500",bg:"bg-gray-100"}:O===3?{icon:vt,color:"text-orange-500",bg:"bg-orange-100"}:{icon:Ps,color:"text-primary-600",bg:"bg-primary-100"},N=O=>O>0?{icon:Kn,color:"text-green-600",label:`+${O}`}:O<0?{icon:Hn,color:"text-red-600",label:O}:{icon:Wn,color:"text-gray-500",label:"0"},w=O=>O>=1e6?(O/1e6).toFixed(1)+"M":O>=1e3?(O/1e3).toFixed(1)+"K":O.toString(),E=(O,$)=>{l(b=>({...b,[O]:$}))},R=()=>{l({city:"",category:"all"})},T=O=>{t(`/profile/${O}`)},L=O=>{t(`/map?user=${O}`)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Leaderboard"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"See who's making the biggest impact in food sharing"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>d(!c),className:`p-2 rounded-lg transition-colors ${c?"bg-primary-100 text-primary-600":"text-gray-500 hover:text-gray-700"}`,children:e.jsx(ia,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>t("/create-post"),className:"btn-primary",children:"Share Food"})]})]})})}),c&&e.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-4",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Range"}),e.jsx("select",{value:n,onChange:O=>i(O.target.value),className:"form-select",children:p.map(O=>e.jsxs("option",{value:O.value,children:[O.icon," ",O.label]},O.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),e.jsx("input",{type:"text",value:o.city,onChange:O=>E("city",O.target.value),placeholder:"Enter city name",className:"form-input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),e.jsxs("select",{value:o.category,onChange:O=>E("category",O.target.value),className:"form-select",children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"fresh",children:"Fresh Produce"}),e.jsx("option",{value:"cooked",children:"Cooked Meals"}),e.jsx("option",{value:"bakery",children:"Bakery"}),e.jsx("option",{value:"packaged",children:"Packaged Food"}),e.jsx("option",{value:"dairy",children:"Dairy & Eggs"}),e.jsx("option",{value:"frozen",children:"Frozen Food"}),e.jsx("option",{value:"beverages",children:"Beverages"}),e.jsx("option",{value:"snacks",children:"Snacks"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:R,className:"btn-outline w-full",children:"Clear Filters"})})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[x&&e.jsx("div",{className:"bg-gradient-to-r from-primary-50 to-secondary-50 rounded-xl p-6 mb-8 border border-primary-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsx(Ps,{className:"w-8 h-8 text-primary-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Your Ranking"}),e.jsxs("p",{className:"text-gray-600",children:["You're currently ranked #",x.rank," in ",a.replace(/([A-Z])/g," $1").toLowerCase()]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-600",children:w(x.score)}),e.jsx("div",{className:"text-sm text-gray-600",children:a==="ecoPoints"?"Eco Points":a==="foodShared"?"Items Shared":a==="pickups"?"Pickups":a==="streak"?"Day Streak":"Rating"})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-soft border border-gray-100 mb-8",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:C.map(O=>e.jsxs("button",{onClick:()=>r(O.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${a===O.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(O.icon,{className:"w-4 h-4"}),e.jsx("span",{children:O.label})]},O.id))})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[((A=C.find(O=>O.id===a))==null?void 0:A.icon)&&se.createElement((v=C.find(O=>O.id===a))==null?void 0:v.icon,{className:"w-5 h-5 text-primary-600"}),e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[(I=C.find(O=>O.id===a))==null?void 0:I.label," Leaderboard"]})]}),e.jsx("p",{className:"text-gray-600",children:(H=C.find(O=>O.id===a))==null?void 0:H.description})]}),h?e.jsx("div",{className:"space-y-4",children:[...Array(10)].map((O,$)=>e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"h-16 bg-gray-200 rounded-lg"})},$))}):((z=u==null?void 0:u.users)==null?void 0:z.length)>0?e.jsx("div",{className:"space-y-3",children:u.users.map((O,$)=>{var V,Q;const b=$+1,F=k(b),U=N(O.trend||0);return e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${F.bg}`,children:b<=3?e.jsx(F.icon,{className:`w-6 h-6 ${F.color}`}):e.jsxs("span",{className:"text-lg font-bold text-gray-700",children:["#",b]})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsxs("span",{className:"text-sm font-medium text-primary-600",children:[(V=O.firstName)==null?void 0:V[0],(Q=O.lastName)==null?void 0:Q[0]]})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900",children:[O.firstName," ",O.lastName]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[O.isBusiness&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e.jsx(rt,{className:"w-3 h-3 mr-1"}),"Business"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(re,{className:"w-3 h-3 mr-1"}),O.city]})]})]})]})}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xl font-bold text-gray-900",children:w(O.score)}),e.jsxs("div",{className:"flex items-center justify-center space-x-1 text-sm",children:[e.jsx(U.icon,{className:`w-4 h-4 ${U.color}`}),e.jsx("span",{className:U.color,children:U.label})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("button",{onClick:()=>T(O.id),className:"btn-outline text-sm px-3 py-1",children:"Profile"}),e.jsx("button",{onClick:()=>L(O.id),className:"btn-outline text-sm px-3 py-1",children:"Posts"})]})]})},O.id)})}):e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(Ps,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"No leaderboard data available"}),e.jsx("p",{className:"mb-4",children:"Start sharing food to appear on the leaderboard"}),e.jsx("button",{onClick:()=>t("/create-post"),className:"btn-primary",children:"Share Your First Food Item"})]})]})]}),f&&e.jsx("div",{className:"bg-white rounded-xl shadow-soft border border-gray-100",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx(Qn,{className:"w-5 h-5 mr-2 text-primary-600"}),"Achievements & Badges"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(O=>{var b;const $=((b=f.achievements)==null?void 0:b.filter(F=>F.type===O.type))||[];return e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${O.color.replace("text-","bg-").replace("-600","-100")}`,children:e.jsx(O.icon,{className:`w-5 h-5 ${O.color}`})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:O.label}),e.jsxs("p",{className:"text-sm text-gray-500",children:[$.length," of ",f.totalAchievements," unlocked"]})]})]}),e.jsx("div",{className:"space-y-2",children:$.map(F=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-4 h-4 rounded-full ${F.unlocked?"bg-green-500":"bg-gray-300"}`}),e.jsx("span",{className:`text-sm ${F.unlocked?"text-gray-900":"text-gray-400"}`,children:F.name}),F.unlocked&&e.jsxs("span",{className:"text-xs text-green-600 font-medium",children:["+",F.points," pts"]})]},F.id))})]},O.type)})})]})})]})]})},Za=()=>{var je,ue,Re,P;const t=Pe(),[s]=er(),{user:a}=Oe(),r=Et(),n=g.useRef(null),i=g.useRef(null),[o,l]=g.useState(null),[c,d]=g.useState(""),[u,h]=g.useState(""),[x,f]=g.useState(!1),[p,C]=g.useState(!1),[S,k]=g.useState(null),[N,w]=g.useState(!1),[E,R]=g.useState(null),T=s.get("user"),{data:L,isLoading:A}=pe({queryKey:["conversations"],queryFn:async()=>(await M.get("/api/messages/conversations")).data,enabled:!!a}),{data:v,isLoading:I}=pe({queryKey:["messages",o==null?void 0:o.id],queryFn:async()=>o?(await M.get(`/api/messages/conversation/${o.id}`)).data:null,enabled:!!(o!=null&&o.id)}),{data:H}=pe({queryKey:["unreadCount"],queryFn:async()=>(await M.get("/api/messages/unread/count")).data,enabled:!!a}),z=Ve({mutationFn:async m=>(await M.post("/api/messages",m)).data,onSuccess:()=>{h(""),r.invalidateQueries(["messages",o==null?void 0:o.id]),r.invalidateQueries(["conversations"]),r.invalidateQueries(["unreadCount"])},onError:m=>{var j,_;W.error(((_=(j=m.response)==null?void 0:j.data)==null?void 0:_.message)||"Failed to send message")}}),O=Ve({mutationFn:async({messageId:m,content:j})=>(await M.put(`/api/messages/${m}`,{content:j})).data,onSuccess:()=>{k(null),r.invalidateQueries(["messages",o==null?void 0:o.id])},onError:m=>{var j,_;W.error(((_=(j=m.response)==null?void 0:j.data)==null?void 0:_.message)||"Failed to update message")}}),$=Ve({mutationFn:async m=>(await M.delete(`/api/messages/${m}`)).data,onSuccess:()=>{w(!1),R(null),r.invalidateQueries(["messages",o==null?void 0:o.id])},onError:m=>{var j,_;W.error(((_=(j=m.response)==null?void 0:j.data)==null?void 0:_.message)||"Failed to delete message")}}),b=Ve({mutationFn:async m=>(await M.put(`/api/messages/conversation/${m}/read`)).data,onSuccess:()=>{r.invalidateQueries(["conversations"]),r.invalidateQueries(["unreadCount"])}});g.useEffect(()=>{if(T&&(L!=null&&L.conversations)){const m=L.conversations.find(j=>j.user.id===T);m&&l(m)}},[T,L]),g.useEffect(()=>{var m;(m=n.current)==null||m.scrollIntoView({behavior:"smooth"})},[v]),g.useEffect(()=>{o&&o.unreadCount>0&&b.mutate(o.user.id)},[o]);const F=m=>{l(m),d("")},U=m=>{m.preventDefault(),!(!u.trim()||!o)&&z.mutate({receiverId:o.user.id,content:u.trim(),type:"text"})},V=(m,j)=>{O.mutate({messageId:m,content:j})},Q=m=>{R(m),w(!0)},X=()=>{E&&$.mutate(E)},he=m=>new Date(m).toLocaleTimeString("lv-LV",{hour:"2-digit",minute:"2-digit"}),ie=((je=L==null?void 0:L.conversations)==null?void 0:je.filter(m=>{var j;return m.user.firstName.toLowerCase().includes(c.toLowerCase())||m.user.lastName.toLowerCase().includes(c.toLowerCase())||((j=m.lastMessage)==null?void 0:j.content.toLowerCase().includes(c.toLowerCase()))}))||[];return a?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[o&&e.jsx("button",{onClick:()=>l(null),className:"p-2 text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(cr,{className:"w-5 h-5"})}),e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:o?"Messages":"Conversations"}),(H==null?void 0:H.unreadCount)>0&&e.jsxs("span",{className:"px-2 py-1 bg-primary-100 text-primary-800 text-xs font-medium rounded-full",children:[H.unreadCount," unread"]})]})})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[calc(100vh-200px)]",children:[!o&&e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-soft border border-gray-100",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"relative",children:[e.jsx(at,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search conversations...",value:c,onChange:m=>d(m.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent w-full"})]})}),e.jsx("div",{className:"p-4",children:A?e.jsx("div",{className:"space-y-4",children:[...Array(5)].map((m,j)=>e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"h-16 bg-gray-200 rounded-lg"})},j))}):ie.length>0?e.jsx("div",{className:"space-y-3",children:ie.map(m=>{var j,_;return e.jsxs("div",{onClick:()=>F(m),className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsxs("span",{className:"text-lg font-medium text-primary-600",children:[(j=m.user.firstName)==null?void 0:j[0],(_=m.user.lastName)==null?void 0:_[0]]})}),m.unreadCount>0&&e.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:m.unreadCount})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"font-medium text-gray-900 truncate",children:[m.user.firstName," ",m.user.lastName]}),m.lastMessage&&e.jsx("span",{className:"text-xs text-gray-500",children:he(m.lastMessage.createdAt)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[m.user.isBusiness&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e.jsx(rt,{className:"w-3 h-3 mr-1"}),"Business"]}),m.lastMessage&&e.jsx("p",{className:"text-sm text-gray-600 truncate",children:m.lastMessage.content})]})]})]},m.user.id)})}):e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(Fe,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"No conversations yet"}),e.jsx("p",{className:"mb-4",children:"Start sharing food to begin conversations"}),e.jsx("button",{onClick:()=>t("/create-post"),className:"btn-primary",children:"Share Food"})]})})]})}),o&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-soft border border-gray-100",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsxs("span",{className:"text-sm font-medium text-primary-600",children:[(ue=o.user.firstName)==null?void 0:ue[0],(Re=o.user.lastName)==null?void 0:Re[0]]})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium text-gray-900",children:[o.user.firstName," ",o.user.lastName]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[o.user.isBusiness&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e.jsx(rt,{className:"w-3 h-3 mr-1"}),"Business"]}),o.user.rating&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(Je,{className:"w-4 h-4 text-yellow-500 mr-1"}),o.user.rating.toFixed(1)]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(na,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(re,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Jn,{className:"w-4 h-4"})})]})]})}),e.jsx("div",{className:"h-96 overflow-y-auto p-4",children:I?e.jsx("div",{className:"space-y-4",children:[...Array(5)].map((m,j)=>e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"h-16 bg-gray-200 rounded-lg"})},j))}):((P=v==null?void 0:v.messages)==null?void 0:P.length)>0?e.jsxs("div",{className:"space-y-4",children:[v.messages.map(m=>e.jsx("div",{className:`flex ${m.senderId===a.id?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-xs lg:max-w-md ${m.senderId===a.id?"order-2":"order-1"}`,children:(S==null?void 0:S.id)===m.id?e.jsxs("div",{className:"bg-white border border-primary-300 rounded-lg p-3 shadow-sm",children:[e.jsx("textarea",{value:S.content,onChange:j=>k(_=>({..._,content:j.target.value})),className:"w-full border-none resize-none focus:ring-0 text-sm",rows:2,autoFocus:!0}),e.jsxs("div",{className:"flex justify-end space-x-2 mt-2",children:[e.jsx("button",{onClick:()=>k(null),className:"p-1 text-gray-400 hover:text-gray-600",children:e.jsx(Ge,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>V(m.id,S.content),className:"p-1 text-primary-600 hover:text-primary-700",children:e.jsx(tr,{className:"w-4 h-4"})})]})]}):e.jsxs("div",{className:`rounded-lg p-3 ${m.senderId===a.id?"bg-primary-500 text-white":"bg-gray-100 text-gray-900"}`,children:[e.jsx("p",{className:"text-sm",children:m.content}),e.jsxs("div",{className:`flex items-center justify-between mt-2 text-xs ${m.senderId===a.id?"text-primary-100":"text-gray-500"}`,children:[e.jsx("span",{children:he(m.createdAt)}),m.senderId===a.id&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{onClick:()=>k({id:m.id,content:m.content}),className:"hover:opacity-80",children:e.jsx(nr,{className:"w-3 h-3"})}),e.jsx("button",{onClick:()=>Q(m.id),className:"hover:opacity-80",children:e.jsx(cs,{className:"w-3 h-3"})})]})]})]})})},m.id)),e.jsx("div",{ref:n})]}):e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(Fe,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"No messages yet"}),e.jsx("p",{className:"text-sm",children:"Start the conversation!"})]})}),e.jsxs("div",{className:"p-4 border-t border-gray-200",children:[e.jsxs("form",{onSubmit:U,className:"flex items-end space-x-3",children:[e.jsx("div",{className:"flex-1",children:e.jsx("textarea",{value:u,onChange:m=>h(m.target.value),placeholder:"Type your message...",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none",rows:2,onKeyDown:m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),U(m))}})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{type:"button",onClick:()=>{var m;return(m=i.current)==null?void 0:m.click()},className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Yn,{className:"w-5 h-5"})}),e.jsx("button",{type:"button",onClick:()=>C(!p),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Xn,{className:"w-5 h-5"})}),e.jsx("button",{type:"submit",disabled:!u.trim()||z.isLoading,className:"btn-primary px-4 py-2",children:z.isLoading?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):e.jsx(Zn,{className:"w-4 h-4"})})]})]}),e.jsx("input",{ref:i,type:"file",accept:"image/*",className:"hidden",onChange:m=>{m.target.files[0]&&W.info("File upload coming soon!")}})]})]})})})]})}),N&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-600 mb-4",children:"Delete Message"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this message? This action cannot be undone."}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>w(!1),className:"btn-outline flex-1",children:"Cancel"}),e.jsx("button",{onClick:X,disabled:$.isLoading,className:"btn-danger flex-1",children:$.isLoading?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mx-auto"}):"Delete"})]})]})})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})})},gu=()=>{var P;const t=Pe(),[s,a]=er(),{user:r}=Oe(),n=g.useRef(null),[i,o]=g.useState("grid"),[l,c]=g.useState("relevance"),[d,u]=g.useState("desc"),[h,x]=g.useState(!1),[f,p]=g.useState(null),C=s.get("q")||"",S=s.get("category")||"",k=s.get("city")||"",[N,w]=g.useState({query:C,category:S,city:k,priceRange:"",urgency:"",status:"available",radius:25,dateRange:"",dietary:[],allergens:[]}),{data:E,isLoading:R,refetch:T}=pe({queryKey:["search",N,l,d],queryFn:async()=>{const m=new URLSearchParams({q:N.query,...N.category&&{category:N.category},...N.city&&{city:N.city},...N.priceRange&&{priceRange:N.priceRange},...N.urgency&&{urgency:N.urgency},...N.status&&{status:N.status},radius:N.radius,...N.dateRange&&{dateRange:N.dateRange},...N.dietary.length>0&&{dietary:N.dietary.join(",")},...N.allergens.length>0&&{allergens:N.allergens.join(",")},sortBy:l,sortOrder:d});return(await M.get(`/api/posts/search?${m}`)).data},enabled:!!N.query||!!N.category||!!N.city}),L=[{value:"",label:"All Categories",icon:"🍽️"},{value:"fresh",label:"Fresh Produce",icon:"🥬"},{value:"cooked",label:"Cooked Meals",icon:"🍲"},{value:"bakery",label:"Bakery",icon:"🥖"},{value:"packaged",label:"Packaged Food",icon:"📦"},{value:"dairy",label:"Dairy & Eggs",icon:"🥛"},{value:"frozen",label:"Frozen Food",icon:"🧊"},{value:"beverages",label:"Beverages",icon:"🥤"},{value:"snacks",label:"Snacks",icon:"🍿"}],A=[{value:"",label:"All Prices"},{value:"free",label:"Free Only"},{value:"0-2",label:"€0 - €2"},{value:"2-5",label:"€2 - €5"},{value:"5-10",label:"€5 - €10"},{value:"10+",label:"€10+"}],v=[{value:"",label:"All Urgency"},{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],I=[{value:"available",label:"Available"},{value:"reserved",label:"Reserved"},{value:"claimed",label:"Claimed"}],H=[1,5,10,25,50,100],z=[{value:"",label:"Any Time"},{value:"today",label:"Today"},{value:"week",label:"This Week"},{value:"month",label:"This Month"}],O=["Vegetarian","Vegan","Halal","Kosher","Gluten-Free","Dairy-Free"],$=["Gluten","Dairy","Eggs","Soy","Nuts","Peanuts","Fish","Shellfish"];g.useEffect(()=>{const m=new URLSearchParams;N.query&&m.set("q",N.query),N.category&&m.set("category",N.category),N.city&&m.set("city",N.city),a(m)},[N,a]),g.useEffect(()=>{n.current&&C&&n.current.focus()},[C]);const b=(m,j)=>{w(_=>({..._,[m]:j}))},F=m=>{w(j=>({...j,dietary:j.dietary.includes(m)?j.dietary.filter(_=>_!==m):[...j.dietary,m]}))},U=m=>{w(j=>({...j,allergens:j.allergens.includes(m)?j.allergens.filter(_=>_!==m):[...j.allergens,m]}))},V=()=>{w({query:"",category:"",city:"",priceRange:"",urgency:"",status:"available",radius:25,dateRange:"",dietary:[],allergens:[]}),c("relevance"),u("desc")},Q=m=>{m.preventDefault(),(N.query.trim()||N.category||N.city)&&T()},X=m=>{switch(m){case"high":return"text-red-600 bg-red-100";case"medium":return"text-orange-600 bg-orange-100";case"low":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},he=m=>{switch(m){case"available":return"text-green-600 bg-green-100";case"reserved":return"text-blue-600 bg-blue-100";case"claimed":return"text-purple-600 bg-purple-100";case"expired":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},ie=m=>new Date(m).toLocaleDateString("lv-LV"),je=m=>{if(!r){W.error("Please log in to claim food"),t("/login");return}t(`/posts/${m.id}`)},ue=m=>{if(!r){W.error("Please log in to send messages"),t("/login");return}t(`/messages?user=${m.user.id}`)},Re=m=>{t(`/profile/${m}`)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Search Food"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Find the perfect food items in your area"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>x(!h),className:`p-2 rounded-lg transition-colors ${h?"bg-primary-100 text-primary-600":"text-gray-500 hover:text-gray-700"}`,children:e.jsx(ei,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>t("/create-post"),className:"btn-primary",children:"Share Food"})]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-4",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("form",{onSubmit:Q,className:"flex space-x-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(at,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{ref:n,type:"text",placeholder:"Search for food items, ingredients, or descriptions...",value:N.query,onChange:m=>b("query",m.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),e.jsx("button",{type:"submit",className:"btn-primary px-6",children:"Search"})]})})}),h&&e.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),e.jsx("select",{value:N.category,onChange:m=>b("category",m.target.value),className:"form-select",children:L.map(m=>e.jsxs("option",{value:m.value,children:[m.icon," ",m.label]},m.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),e.jsx("input",{type:"text",value:N.city,onChange:m=>b("city",m.target.value),placeholder:"Enter city name",className:"form-input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Range"}),e.jsx("select",{value:N.priceRange,onChange:m=>b("priceRange",m.target.value),className:"form-select",children:A.map(m=>e.jsx("option",{value:m.value,children:m.label},m.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Urgency"}),e.jsx("select",{value:N.urgency,onChange:m=>b("urgency",m.target.value),className:"form-select",children:v.map(m=>e.jsx("option",{value:m.value,children:m.label},m.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsx("select",{value:N.status,onChange:m=>b("status",m.target.value),className:"form-select",children:I.map(m=>e.jsx("option",{value:m.value,children:m.label},m.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Radius"}),e.jsx("select",{value:N.radius,onChange:m=>b("radius",parseInt(m.target.value)),className:"form-select",children:H.map(m=>e.jsxs("option",{value:m,children:[m," km"]},m))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),e.jsx("select",{value:N.dateRange,onChange:m=>b("dateRange",m.target.value),className:"form-select",children:z.map(m=>e.jsx("option",{value:m.value,children:m.label},m.value))})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:V,className:"btn-outline w-full",children:"Clear Filters"})})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-4",children:"Advanced Filters"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dietary Preferences"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:O.map(m=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:N.dietary.includes(m),onChange:()=>F(m),className:"form-checkbox"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:m})]},m))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Exclude Allergens"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:$.map(m=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:N.allergens.includes(m),onChange:()=>U(m),className:"form-checkbox"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:m})]},m))})]})]})]})}),e.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-4",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Search Results",(E==null?void 0:E.posts)&&e.jsxs("span",{className:"text-gray-500 font-normal ml-2",children:["(",E.posts.length," items found)"]})]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:l,onChange:m=>c(m.target.value),className:"form-select text-sm",children:[e.jsx("option",{value:"relevance",children:"Relevance"}),e.jsx("option",{value:"date",children:"Date"}),e.jsx("option",{value:"price",children:"Price"}),e.jsx("option",{value:"distance",children:"Distance"})]}),e.jsx("button",{onClick:()=>u(d==="asc"?"desc":"asc"),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:d==="asc"?e.jsx(ti,{className:"w-4 h-4"}):e.jsx(si,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center space-x-1 bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>o("grid"),className:`p-2 rounded-md transition-colors ${i==="grid"?"bg-white text-primary-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:e.jsx(ai,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>o("list"),className:`p-2 rounded-md transition-colors ${i==="list"?"bg-white text-primary-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:e.jsx(lr,{className:"w-4 h-4"})})]})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:R?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((m,j)=>e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"h-64 bg-gray-200 rounded-lg"})},j))}):((P=E==null?void 0:E.posts)==null?void 0:P.length)>0?i==="grid"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:E.posts.map(m=>{var j,_,J,ae,oe,fe,Ne,we,Me,De;return e.jsxs("div",{className:"bg-white rounded-xl shadow-soft border border-gray-100 overflow-hidden hover:shadow-large transition-shadow",children:[e.jsx("div",{className:"h-48 bg-gray-200 relative",children:e.jsxs("div",{className:"absolute top-3 right-3 flex space-x-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${X(m.urgency)}`,children:m.urgency}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${he(m.status)}`,children:m.status})]})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 line-clamp-2",children:m.title}),e.jsxs("div",{className:"text-right ml-3",children:[e.jsx("div",{className:"text-xl font-bold text-primary-600",children:m.price===0?"Free":`€${m.price}`}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Qty: ",m.quantity]})]})]}),e.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 mb-3",children:m.description}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(re,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:[(j=m.location)==null?void 0:j.address,", ",(_=m.location)==null?void 0:_.city]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(ze,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:["Expires: ",ie(m.expiryDate)]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(ct,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:["Posted: ",ie(m.createdAt)]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsxs("span",{className:"text-sm font-medium text-primary-600",children:[(ae=(J=m.user)==null?void 0:J.firstName)==null?void 0:ae[0],(fe=(oe=m.user)==null?void 0:oe.lastName)==null?void 0:fe[0]]})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[(Ne=m.user)==null?void 0:Ne.firstName," ",(we=m.user)==null?void 0:we.lastName]}),((Me=m.user)==null?void 0:Me.isBusiness)&&e.jsx("p",{className:"text-xs text-blue-600",children:"Business Account"})]})]}),((De=m.user)==null?void 0:De.rating)&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Je,{className:"w-4 h-4 text-yellow-500 mr-1"}),e.jsx("span",{children:m.user.rating.toFixed(1)})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>je(m),className:"btn-primary flex-1",children:[e.jsx(be,{className:"w-4 h-4 mr-2"}),"Claim"]}),e.jsx("button",{onClick:()=>ue(m),className:"btn-outline",children:e.jsx(Fe,{className:"w-4 h-4"})})]})]})]},m.id)})}):e.jsx("div",{className:"space-y-4",children:E.posts.map(m=>{var j,_,J,ae,oe,fe,Ne,we,Me,De;return e.jsx("div",{className:"bg-white rounded-xl shadow-soft border border-gray-100 p-6 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start space-x-6",children:[e.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded-lg flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:m.title}),e.jsx("p",{className:"text-gray-600 mb-3",children:m.description})]}),e.jsxs("div",{className:"text-right ml-6",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-600",children:m.price===0?"Free":`€${m.price}`}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Qty: ",m.quantity]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(re,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:[(j=m.location)==null?void 0:j.address,", ",(_=m.location)==null?void 0:_.city]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(ze,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:["Expires: ",ie(m.expiryDate)]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(ct,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:["Posted: ",ie(m.createdAt)]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(ir,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"capitalize",children:m.category})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsxs("span",{className:"text-sm font-medium text-primary-600",children:[(ae=(J=m.user)==null?void 0:J.firstName)==null?void 0:ae[0],(fe=(oe=m.user)==null?void 0:oe.lastName)==null?void 0:fe[0]]})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[(Ne=m.user)==null?void 0:Ne.firstName," ",(we=m.user)==null?void 0:we.lastName]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[((Me=m.user)==null?void 0:Me.isBusiness)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e.jsx(rt,{className:"w-3 h-3 mr-1"}),"Business"]}),((De=m.user)==null?void 0:De.rating)&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(Je,{className:"w-3 h-3 text-yellow-500 mr-1"}),m.user.rating.toFixed(1)]})]})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>je(m),className:"btn-primary",children:[e.jsx(be,{className:"w-4 h-4 mr-2"}),"Claim"]}),e.jsxs("button",{onClick:()=>ue(m),className:"btn-outline",children:[e.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Message"]}),e.jsxs("button",{onClick:()=>Re(m.user.id),className:"btn-outline",children:[e.jsx(wt,{className:"w-4 h-4 mr-2"}),"Profile"]})]})]})]})]})},m.id)})}):e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(at,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"No results found"}),e.jsx("p",{className:"mb-4",children:"Try adjusting your search criteria or filters"}),e.jsx("button",{onClick:V,className:"btn-primary",children:"Clear Filters"})]})})]})},yu=()=>e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-blue-50 px-4",children:e.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"text-9xl font-bold text-green-600 opacity-20",children:"404"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"text-6xl",children:"🍽️"})})]})}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Oops! Page Not Found"}),e.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Looks like this food post has already been claimed or doesn't exist. Don't worry, there are plenty of other delicious options waiting for you!"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[e.jsxs(q,{to:"/",className:"flex items-center justify-center gap-2 p-4 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(ri,{size:20}),"Go Home"]}),e.jsxs(q,{to:"/map",className:"flex items-center justify-center gap-2 p-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(or,{size:20}),"Explore Map"]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Popular Destinations"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[e.jsxs(q,{to:"/trending",className:"flex items-center justify-center gap-2 p-3 text-green-600 hover:bg-green-50 rounded-lg transition-colors",children:[e.jsx(Gt,{size:16}),"Trending"]}),e.jsxs(q,{to:"/search",className:"flex items-center justify-center gap-2 p-3 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:[e.jsx(at,{size:16}),"Search"]}),e.jsxs(q,{to:"/leaderboard",className:"flex items-center justify-center gap-2 p-3 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",children:[e.jsx("span",{className:"text-lg",children:"🏆"}),"Leaderboard"]})]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs("button",{onClick:()=>window.history.back(),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(cr,{size:16}),"Go Back"]})}),e.jsx("div",{className:"mt-8 text-sm text-gray-500",children:e.jsxs("p",{children:["If you believe this is an error, please"," ",e.jsx("a",{href:"mailto:support@ediens.lv",className:"text-green-600 hover:underline",children:"contact our support team"})]})})]})}),vu=()=>{const{addNotification:t}=sn(),s=a=>{switch(a){case"food_posted":t(Xe(ke.FOOD_POSTED,{id:"demo-1",title:"Fresh Homemade Bread"}));break;case"food_claimed":t(Xe(ke.FOOD_CLAIMED,{id:"demo-2",title:"Organic Vegetables",userId:"user-123"}));break;case"message_received":t(Xe(ke.MESSAGE_RECEIVED,{senderId:"user-456",senderName:"Anna K."}));break;case"claim_accepted":t(Xe(ke.CLAIM_ACCEPTED,{title:"Fresh Fruits",userId:"user-789"}));break;case"claim_rejected":t(Xe(ke.CLAIM_REJECTED,{id:"demo-5",title:"Homemade Cookies"}));break;case"eco_points":t(Xe(ke.ECO_POINTS_EARNED,{points:25}));break;case"system":t(Xe(ke.SYSTEM_UPDATE,{message:"New features available! Check out our updated map.",actionUrl:"/map"}));break;default:t({type:"info",message:"This is a custom notification",icon:"🔔",actionUrl:"/dashboard"})}};return e.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-lg max-w-2xl mx-auto",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Notification System Demo"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Click the buttons below to test different types of notifications. Check the notification bell in the header to see them appear."}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[e.jsx("button",{onClick:()=>s("food_posted"),className:"p-3 bg-green-100 text-green-800 rounded-lg hover:bg-green-200 transition-colors text-sm font-medium",children:"🥘 Food Posted"}),e.jsx("button",{onClick:()=>s("food_claimed"),className:"p-3 bg-blue-100 text-blue-800 rounded-lg hover:bg-blue-200 transition-colors text-sm font-medium",children:"✅ Food Claimed"}),e.jsx("button",{onClick:()=>s("message_received"),className:"p-3 bg-purple-100 text-purple-800 rounded-lg hover:bg-purple-200 transition-colors text-sm font-medium",children:"💬 New Message"}),e.jsx("button",{onClick:()=>s("claim_accepted"),className:"p-3 bg-emerald-100 text-emerald-800 rounded-lg hover:bg-emerald-200 transition-colors text-sm font-medium",children:"🎉 Claim Accepted"}),e.jsx("button",{onClick:()=>s("claim_rejected"),className:"p-3 bg-yellow-100 text-yellow-800 rounded-lg hover:bg-yellow-200 transition-colors text-sm font-medium",children:"❌ Claim Rejected"}),e.jsx("button",{onClick:()=>s("eco_points"),className:"p-3 bg-teal-100 text-teal-800 rounded-lg hover:bg-teal-200 transition-colors text-sm font-medium",children:"🌱 Eco Points"}),e.jsx("button",{onClick:()=>s("system"),className:"p-3 bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium",children:"🔔 System Update"}),e.jsx("button",{onClick:()=>s("custom"),className:"p-3 bg-indigo-100 text-indigo-800 rounded-lg hover:bg-indigo-200 transition-colors text-sm font-medium",children:"⭐ Custom"})]}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"How to test:"}),e.jsxs("ol",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"1. Click any notification button above"}),e.jsx("li",{children:"2. Look for the toast notification that appears"}),e.jsx("li",{children:"3. Click the notification bell in the header"}),e.jsx("li",{children:"4. See the notification in the dropdown"}),e.jsx("li",{children:"5. Try marking as read, removing, etc."})]})]})]})},bu=new Oi({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:5*60*1e3}}});function ju(){return e.jsx(_i,{client:bu,children:e.jsx(Sn,{children:e.jsx(oc,{children:e.jsxs(dc,{children:[e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(ld,{}),e.jsx("main",{className:"flex-1",children:e.jsxs(En,{children:[e.jsx(ge,{path:"/",element:e.jsx(dd,{})}),e.jsx(ge,{path:"/login",element:e.jsx(ud,{})}),e.jsx(ge,{path:"/register",element:e.jsx(md,{})}),e.jsx(ge,{path:"/search",element:e.jsx(gu,{})}),e.jsx(ge,{path:"/trending",element:e.jsx(xu,{})}),e.jsx(ge,{path:"/leaderboard",element:e.jsx(fu,{})}),e.jsx(ge,{path:"/demo/notifications",element:e.jsx(vu,{})}),e.jsx(ge,{path:"/dashboard",element:e.jsx(lt,{children:e.jsx(pd,{})})}),e.jsx(ge,{path:"/profile",element:e.jsx(lt,{children:e.jsx(hd,{})})}),e.jsx(ge,{path:"/create-post",element:e.jsx(lt,{children:e.jsx(pu,{})})}),e.jsx(ge,{path:"/map",element:e.jsx(lt,{children:e.jsx(hu,{})})}),e.jsx(ge,{path:"/messages",element:e.jsx(lt,{children:e.jsx(Za,{})})}),e.jsx(ge,{path:"/messages/:userId",element:e.jsx(lt,{children:e.jsx(Za,{})})}),e.jsx(ge,{path:"/auth/callback",element:e.jsx(Nu,{})}),e.jsx(ge,{path:"/auth/error",element:e.jsx(wu,{})}),e.jsx(ge,{path:"*",element:e.jsx(yu,{})})]})}),e.jsx(cd,{})]}),e.jsx(Po,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#10B981",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#EF4444",secondary:"#fff"}}}})]})})})})}function Nu(){const{handleOAuthCallback:t}=Oe(),s=Pe(),a=ls();return g.useEffect(()=>{const n=new URLSearchParams(a.search).get("token");n?t(n):s("/login")},[t,s,a]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Completing login..."})]})})}function wu(){const t=Pe();return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ge,{className:"w-8 h-8 text-red-600"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Login Failed"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"There was an error during the login process. Please try again or use a different method."}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>t("/login"),className:"w-full bg-primary-500 text-white py-2 px-4 rounded-lg hover:bg-primary-600 transition-colors",children:"Try Again"}),e.jsx("button",{onClick:()=>t("/"),className:"w-full bg-gray-200 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"Go Home"})]})]})})}qs.createRoot(document.getElementById("root")).render(e.jsx(se.StrictMode,{children:e.jsx(ju,{})}));
//# sourceMappingURL=index-Dh6Loqiv.js.map
